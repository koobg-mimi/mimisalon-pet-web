module.exports=[233405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},29077,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GCE_LINUX_BIOS_PATHS=void 0,r.isGoogleCloudServerless=s,r.isGoogleComputeEngineLinux=o,r.isGoogleComputeEngineMACAddress=a,r.isGoogleComputeEngine=c,r.detectGCPResidency=function(){return s()||c()},e.r(522734);let i=e.r(446786);r.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};let n=/^42:01/;function s(){return!!(process.env.CLOUD_RUN_JOB||process.env.FUNCTION_NAME||process.env.K_SERVICE)}function o(){if("linux"!==(0,i.platform)())return!1}function a(){for(let e of Object.values((0,i.networkInterfaces)()))if(e){for(let{mac:t}of e)if(n.test(t))return!0}return!1}function c(){return o()||a()}},664448,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.req=r.json=r.toBuffer=void 0;let o=s(e.r(921517)),a=s(e.r(524836));async function c(e){let t=0,r=[];for await(let i of e)t+=i.length,r.push(i);return Buffer.concat(r,t)}r.toBuffer=c,r.json=async function(e){let t=(await c(e)).toString("utf8");try{return JSON.parse(t)}catch(e){throw e.message+=` (input: ${t})`,e}},r.req=function(e,t={}){let r=(("string"==typeof e?e:e.href).startsWith("https:")?a:o).request(e,t),i=new Promise((e,t)=>{r.once("response",e).once("error",t).end()});return r.then=i.then.bind(i),r}},904374,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},o=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.Agent=void 0;let a=s(e.r(504446)),c=s(e.r(921517)),l=e.r(524836);o(e.r(664448),r);let p=Symbol("AgentBaseInternalState");class u extends c.Agent{constructor(e){super(e),this[p]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}let{stack:t}=Error();return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new a.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;let r=this.sockets[e],i=r.indexOf(t);-1!==i&&(r.splice(i,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}getName(e){return this.isSecureEndpoint(e)?l.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){let i={...t,secureEndpoint:this.isSecureEndpoint(t)},n=this.getName(i),s=this.incrementSockets(n);Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(this.decrementSockets(n,s),o instanceof c.Agent)try{return o.addRequest(e,i)}catch(e){return r(e)}this[p].currentSocket=o,super.createSocket(e,t,r)},e=>{this.decrementSockets(n,s),r(e)})}createConnection(){let e=this[p].currentSocket;if(this[p].currentSocket=void 0,!e)throw Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[p].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[p]&&(this[p].defaultPort=e)}get protocol(){return this[p].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[p]&&(this[p].protocol=e)}}r.Agent=u},646594,(e,t,r)=>{"use strict";var i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.parseProxyResponse=void 0;let n=(0,i(e.r(817293)).default)("https-proxy-agent:parse-proxy-response");r.parseProxyResponse=function(e){return new Promise((t,r)=>{let i=0,s=[];function o(){let c=e.read();c?function(c){s.push(c),i+=c.length;let l=Buffer.concat(s,i),p=l.indexOf("\r\n\r\n");if(-1===p){n("have not received end of HTTP headers yet..."),o();return}let u=l.slice(0,p).toString("ascii").split("\r\n"),d=u.shift();if(!d)return e.destroy(),r(Error("No header received from proxy CONNECT response"));let h=d.split(" "),f=+h[1],m=h.slice(2).join(" "),g={};for(let t of u){if(!t)continue;let i=t.indexOf(":");if(-1===i)return e.destroy(),r(Error(`Invalid header from proxy CONNECT response: "${t}"`));let n=t.slice(0,i).toLowerCase(),s=t.slice(i+1).trimStart(),o=g[n];"string"==typeof o?g[n]=[o,s]:Array.isArray(o)?o.push(s):g[n]=s}n("got proxy server response: %o %o",d,g),a(),t({connect:{statusCode:f,statusText:m,headers:g},buffered:l})}(c):e.once("readable",o)}function a(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("readable",o)}function c(){a(),n("onend"),r(Error("Proxy connection ended before receiving CONNECT response"))}function l(e){a(),n("onerror %o",e),r(e)}e.on("error",l),e.on("end",c),o()})}},5694,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.HttpsProxyAgent=void 0;let a=s(e.r(504446)),c=s(e.r(755004)),l=o(e.r(449719)),p=o(e.r(817293)),u=e.r(904374),d=e.r(792509),h=e.r(646594),f=(0,p.default)("https-proxy-agent"),m=e=>void 0===e.servername&&e.host&&!a.isIP(e.host)?{...e,servername:e.host}:e;class g extends u.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?v(t,"headers"):null,host:r,port:i}}async connect(e,t){let r,{proxy:i}=this;if(!t.host)throw TypeError('No "host" provided');"https:"===i.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),r=c.connect(m(this.connectOpts))):(f("Creating `net.Socket`: %o",this.connectOpts),r=a.connect(this.connectOpts));let n="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},s=a.isIPv6(t.host)?`[${t.host}]`:t.host,o=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(i.username||i.password){let e=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;n["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let e of(n.Host=`${s}:${t.port}`,n["Proxy-Connection"]||(n["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(n)))o+=`${e}: ${n[e]}\r
`;let p=(0,h.parseProxyResponse)(r);r.write(`${o}\r
`);let{connect:u,buffered:d}=await p;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),200===u.statusCode)return(e.once("socket",y),t.secureEndpoint)?(f("Upgrading socket connection to TLS"),c.connect({...v(m(t),"host","path","port"),socket:r})):r;r.destroy();let g=new a.Socket({writable:!1});return g.readable=!0,e.once("socket",e=>{f("Replaying proxy buffer for failed request"),(0,l.default)(e.listenerCount("data")>0),e.push(d),e.push(null)}),g}}function y(e){e.resume()}function v(e,...t){let r,i={};for(r in e)t.includes(r)||(i[r]=e[r]);return i}g.protocols=["http","https"],r.HttpsProxyAgent=g},200451,e=>{e.v({name:"gaxios",version:"6.7.1",description:"A simple common HTTP client specifically for Google APIs and services.",main:"build/src/index.js",types:"build/src/index.d.ts",files:["build/src"],scripts:{lint:"gts check",test:"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000",compile:"tsc -p .",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean",precompile:"gts clean"},repository:"googleapis/gaxios",keywords:["google"],engines:{node:">=14"},author:"Google, LLC",license:"Apache-2.0",devDependencies:{"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0",assert:"^2.0.0",browserify:"^17.0.0",c8:"^8.0.0",cheerio:"1.0.0-rc.10",cors:"^2.8.5",execa:"^5.0.0",express:"^4.16.4","form-data":"^4.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",linkinator:"^3.0.0",mocha:"^8.0.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^19.0.0",sinon:"^18.0.0","stream-browserify":"^3.0.0",tmp:"0.2.3","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.35.0","webpack-cli":"^4.0.0"},dependencies:{extend:"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9",uuid:"^9.0.1"}})},522337,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pkg=void 0,r.pkg=e.r(200451)},228908,(e,t,r)=>{"use strict";var i,n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GaxiosError=r.GAXIOS_ERROR_SYMBOL=void 0,r.defaultErrorRedactor=function e(t){let r="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function i(e){if(e)for(let t of Object.keys(e))/^authentication$/i.test(t)&&(e[t]=r),/^authorization$/i.test(t)&&(e[t]=r),/secret/i.test(t)&&(e[t]=r)}function n(e,t){if("object"==typeof e&&null!==e&&"string"==typeof e[t]){let i=e[t];(/grant_type=/i.test(i)||/assertion=/i.test(i)||/secret/i.test(i))&&(e[t]=r)}}function o(e){"object"==typeof e&&null!==e&&("grant_type"in e&&(e.grant_type=r),"assertion"in e&&(e.assertion=r),"client_secret"in e&&(e.client_secret=r))}if(t.config){i(t.config.headers),n(t.config,"data"),o(t.config.data),n(t.config,"body"),o(t.config.body);try{let e=new s.URL("",t.config.url);e.searchParams.has("token")&&e.searchParams.set("token",r),e.searchParams.has("client_secret")&&e.searchParams.set("client_secret",r),t.config.url=e.toString()}catch(e){}}return t.response&&(e({config:t.response.config}),i(t.response.headers),n(t.response,"data"),o(t.response.data)),t};let s=e.r(792509),o=e.r(522337),a=n(e.r(725705));r.GAXIOS_ERROR_SYMBOL=Symbol.for(`${o.pkg.name}-gaxios-error`);class c extends Error{static[(i=r.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](e){return!!e&&"object"==typeof e&&r.GAXIOS_ERROR_SYMBOL in e&&e[r.GAXIOS_ERROR_SYMBOL]===o.pkg.version||Function.prototype[Symbol.hasInstance].call(c,e)}constructor(e,t,r,n){var s;if(super(e),this.config=t,this.response=r,this.error=n,this[i]=o.pkg.version,this.config=(0,a.default)(!0,{},t),this.response&&(this.response.config=(0,a.default)(!0,{},this.response.config)),this.response){try{this.response.data=function(e,t){switch(e){case"stream":default:return t;case"json":return JSON.parse(JSON.stringify(t));case"arraybuffer":return JSON.parse(Buffer.from(t).toString("utf8"));case"blob":return JSON.parse(t.text())}}(this.config.responseType,null==(s=this.response)?void 0:s.data)}catch(e){}this.status=this.response.status}n&&"code"in n&&n.code&&(this.code=n.code),t.errorRedactor&&t.errorRedactor({config:this.config,response:this.response})}}r.GaxiosError=c},613485,(e,t,r)=>{"use strict";async function i(e){var t,r;let i=s(e);if(!e||!e.config||!i&&!e.config.retry)return{shouldRetry:!1};(i=i||{}).currentRetryAttempt=i.currentRetryAttempt||0,i.retry=void 0===i.retry||null===i.retry?3:i.retry,i.httpMethodsToRetry=i.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],i.noResponseRetries=void 0===i.noResponseRetries||null===i.noResponseRetries?2:i.noResponseRetries,i.retryDelayMultiplier=i.retryDelayMultiplier?i.retryDelayMultiplier:2,i.timeOfFirstRequest=i.timeOfFirstRequest?i.timeOfFirstRequest:Date.now(),i.totalTimeout=i.totalTimeout?i.totalTimeout:Number.MAX_SAFE_INTEGER,i.maxRetryDelay=i.maxRetryDelay?i.maxRetryDelay:Number.MAX_SAFE_INTEGER,i.statusCodesToRetry=i.statusCodesToRetry||[[100,199],[408,408],[429,429],[500,599]],e.config.retryConfig=i;let o=i.shouldRetry||n;if(!await o(e))return{shouldRetry:!1,config:e.config};let a=Math.min(((t=i).currentRetryAttempt?0:null!=(r=t.retryDelay)?r:100)+(Math.pow(t.retryDelayMultiplier,t.currentRetryAttempt)-1)/2*1e3,t.totalTimeout-(Date.now()-t.timeOfFirstRequest),t.maxRetryDelay);e.config.retryConfig.currentRetryAttempt+=1;let c=i.retryBackoff?i.retryBackoff(e,a):new Promise(e=>{setTimeout(e,a)});return i.onRetryAttempt&&i.onRetryAttempt(e),await c,{shouldRetry:!0,config:e.config}}function n(e){var t;let r=s(e);if("AbortError"===e.name||(null==(t=e.error)?void 0:t.name)==="AbortError"||!r||0===r.retry||!e.response&&(r.currentRetryAttempt||0)>=r.noResponseRetries||!e.config.method||0>r.httpMethodsToRetry.indexOf(e.config.method.toUpperCase()))return!1;if(e.response&&e.response.status){let t=!1;for(let[i,n]of r.statusCodesToRetry){let r=e.response.status;if(r>=i&&r<=n){t=!0;break}}if(!t)return!1}return r.currentRetryAttempt=r.currentRetryAttempt||0,!(r.currentRetryAttempt>=r.retry)}function s(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}Object.defineProperty(r,"__esModule",{value:!0}),r.getRetryConfig=i},778229,e=>{"use strict";let t,r;e.s([],392242),e.i(392242);var i=e.i(254799);let n=new Uint8Array(256),s=n.length;function o(){return s>n.length-16&&(i.default.randomFillSync(n),s=0),n.slice(s,s+=16)}let a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function p(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}let u=0,d=0,h=function(e){let t;if(!c(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function f(e,t,r){function i(e,i,n,s){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=h(i)),(null==(o=i)?void 0:o.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,n){s=s||0;for(let e=0;e<16;++e)n[s+e]=a[e];return n}return p(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}let m=f("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("md5").update(e).digest()}),g={randomUUID:i.default.randomUUID},y=f("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,h,"stringify",0,function(e,t=0){let r=p(e,t);if(!c(r))throw TypeError("Stringified UUID is invalid");return r},"v1",0,function(e,i,n){let s=i&&n||0,a=i||Array(16),c=(e=e||{}).node||t,l=void 0!==e.clockseq?e.clockseq:r;if(null==c||null==l){let i=e.random||(e.rng||o)();null==c&&(c=t=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==l&&(l=r=(i[6]<<8|i[7])&16383)}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:d+1,m=h-u+(f-d)/1e4;if(m<0&&void 0===e.clockseq&&(l=l+1&16383),(m<0||h>u)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,d=f,r=l;let g=((0xfffffff&(h+=122192928e5))*1e4+f)%0x100000000;a[s++]=g>>>24&255,a[s++]=g>>>16&255,a[s++]=g>>>8&255,a[s++]=255&g;let y=h/0x100000000*1e4&0xfffffff;a[s++]=y>>>8&255,a[s++]=255&y,a[s++]=y>>>24&15|16,a[s++]=y>>>16&255,a[s++]=l>>>8|128,a[s++]=255&l;for(let e=0;e<6;++e)a[s+e]=c[e];return i||p(a)},"v3",0,m,"v4",0,function(e,t,r){if(g.randomUUID&&!t&&!e)return g.randomUUID();let i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return p(i)},"v5",0,y,"validate",0,c,"version",0,function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}],778229)},241140,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GaxiosInterceptorManager=void 0;class i extends Set{}r.GaxiosInterceptorManager=i},559820,(e,t,r)=>{"use strict";var i,n,s,o,a,c,l,p=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),u=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return u(t,e),t},h=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},f=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},m=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Gaxios=void 0;let g=m(e.r(725705)),y=e.r(524836),v=m(e.r(456569)),b=m(e.r(145706)),x=m(e.r(136745)),w=e.r(792509),E=e.r(228908),_=e.r(613485),A=e.r(688947),T=e.r(778229),k=e.r(241140),O=(0,v.default);function S(e,t){for(let r of(t=t.toLowerCase(),Object.keys((null==e?void 0:e.headers)||{})))if(t===r.toLowerCase())return e.headers[r]}class C{constructor(e){i.add(this),this.agentCache=new Map,this.defaults=e||{},this.interceptors={request:new k.GaxiosInterceptorManager,response:new k.GaxiosInterceptorManager}}async request(e={}){return e=await h(this,i,"m",a).call(this,e),e=await h(this,i,"m",s).call(this,e),h(this,i,"m",o).call(this,this._request(e))}async _defaultAdapter(e){let t=e.fetchImplementation||O,r=await t(e.url,e),i=await this.getResponseData(e,r);return this.translateResponse(e,r,i)}async _request(e={}){var t;try{let t;if(t=e.adapter?await e.adapter(e,this._defaultAdapter.bind(this)):await this._defaultAdapter(e),!e.validateStatus(t.status)){if("stream"===e.responseType){let e="";await new Promise(r=>{(null==t?void 0:t.data).on("data",t=>{e+=t}),(null==t?void 0:t.data).on("end",r)}),t.data=e}throw new E.GaxiosError(`Request failed with status code ${t.status}`,e,t)}return t}catch(s){let r=s instanceof E.GaxiosError?s:new E.GaxiosError(s.message,e,void 0,s),{shouldRetry:i,config:n}=await (0,_.getRetryConfig)(r);if(i&&n)return r.config.retryConfig.currentRetryAttempt=n.retryConfig.currentRetryAttempt,e.retryConfig=null==(t=r.config)?void 0:t.retryConfig,this._request(e);throw r}}async getResponseData(e,t){switch(e.responseType){case"stream":return t.body;case"json":{let e=await t.text();try{e=JSON.parse(e)}catch(e){}return e}case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"text":return t.text();default:return this.getResponseDataFromContentType(t)}}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return b.default.stringify(e)}translateResponse(e,t,r){let i={};return t.headers.forEach((e,t)=>{i[t]=e}),{config:e,data:r,headers:i,status:t.status,statusText:t.statusText,request:{responseURL:t.url}}}async getResponseDataFromContentType(e){let t=e.headers.get("Content-Type");if(null===t)return e.text();if((t=t.toLowerCase()).includes("application/json")){let t=await e.text();try{t=JSON.parse(t)}catch(e){}return t}return t.match(/^text\//)?e.text():e.blob()}async *getMultipartRequest(e,t){let r=`--${t}--`;for(let r of e){let e=r.headers["Content-Type"]||"application/octet-stream",i=`--${t}\r
Content-Type: ${e}\r
\r
`;yield i,"string"==typeof r.content?yield r.content:yield*r.content,yield"\r\n"}yield r}}r.Gaxios=C,i=new WeakSet,n=function(e,t=[]){var r,i;let n=new w.URL(e),s=[...t];for(let e of(null==(i=null!=(r=process.env.NO_PROXY)?r:process.env.no_proxy)?void 0:i.split(","))||[])s.push(e.trim());for(let e of s)if(e instanceof RegExp){if(e.test(n.toString()))return!1}else if(e instanceof w.URL){if(e.origin===n.origin)return!1}else if(e.startsWith("*.")||e.startsWith(".")){let t=e.replace(/^\*\./,".");if(n.hostname.endsWith(t))return!1}else if(e===n.origin||e===n.hostname||e===n.href)return!1;return!0},s=async function(e){let t=Promise.resolve(e);for(let e of this.interceptors.request.values())e&&(t=t.then(e.resolved,e.rejected));return t},o=async function(e){let t=Promise.resolve(e);for(let e of this.interceptors.response.values())e&&(t=t.then(e.resolved,e.rejected));return t},a=async function(e){var t,r,s,o;let a=(0,g.default)(!0,{},this.defaults,e);if(!a.url)throw Error("URL is required.");let c=a.baseUrl||a.baseURL;if(c&&(a.url=c.toString()+a.url),a.paramsSerializer=a.paramsSerializer||this.paramsSerializer,a.params&&Object.keys(a.params).length>0){let e=a.paramsSerializer(a.params);e.startsWith("?")&&(e=e.slice(1));let t=a.url.toString().includes("?")?"&":"?";a.url=a.url+t+e}if("number"==typeof e.maxContentLength&&(a.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(a.follow=e.maxRedirects),a.headers=a.headers||{},void 0===a.multipart&&a.data){let e="undefined"!=typeof FormData&&(null==a?void 0:a.data)instanceof FormData;x.default.readable(a.data)?a.body=a.data:"undefined"!=typeof Buffer&&Buffer.isBuffer(a.data)?(a.body=a.data,S(a,"Content-Type")||(a.headers["Content-Type"]="application/json")):"object"==typeof a.data?e||("application/x-www-form-urlencoded"===S(a,"content-type")?a.body=a.paramsSerializer(a.data):(S(a,"Content-Type")||(a.headers["Content-Type"]="application/json"),a.body=JSON.stringify(a.data))):a.body=a.data}else if(a.multipart&&a.multipart.length>0){let e=(0,T.v4)();a.headers["Content-Type"]=`multipart/related; boundary=${e}`;let t=new A.PassThrough;a.body=t,(0,A.pipeline)(this.getMultipartRequest(a.multipart,e),t,()=>{})}a.validateStatus=a.validateStatus||this.validateStatus,a.responseType=a.responseType||"unknown",a.headers.Accept||"json"!==a.responseType||(a.headers.Accept="application/json"),a.method=a.method||"GET";let p=a.proxy||(null==(t=null==process?void 0:process.env)?void 0:t.HTTPS_PROXY)||(null==(r=null==process?void 0:process.env)?void 0:r.https_proxy)||(null==(s=null==process?void 0:process.env)?void 0:s.HTTP_PROXY)||(null==(o=null==process?void 0:process.env)?void 0:o.http_proxy),u=h(this,i,"m",n).call(this,a.url,a.noProxy);if(a.agent);else if(p&&u){let e=await h(C,C,"m",l).call(C);this.agentCache.has(p)?a.agent=this.agentCache.get(p):(a.agent=new e(p,{cert:a.cert,key:a.key}),this.agentCache.set(p,a.agent))}else a.cert&&a.key&&(this.agentCache.has(a.key)?a.agent=this.agentCache.get(a.key):(a.agent=new y.Agent({cert:a.cert,key:a.key}),this.agentCache.set(a.key,a.agent)));return"function"!=typeof a.errorRedactor&&!1!==a.errorRedactor&&(a.errorRedactor=E.defaultErrorRedactor),a},l=async function(){return f(this,C,h(this,C,"f",c)||(await Promise.resolve().then(()=>d(e.r(5694)))).HttpsProxyAgent,"f",c),h(this,C,"f",c)},c={value:void 0}},366037,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.instance=r.Gaxios=r.GaxiosError=void 0,r.request=a;let s=e.r(559820);Object.defineProperty(r,"Gaxios",{enumerable:!0,get:function(){return s.Gaxios}});var o=e.r(228908);async function a(e){return r.instance.request(e)}Object.defineProperty(r,"GaxiosError",{enumerable:!0,get:function(){return o.GaxiosError}}),n(e.r(241140),r),r.instance=new s.Gaxios},345905,(e,t,r)=>{!function(r){"use strict";var i,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",c=a+"Number primitive has more than 15 significant digits: ",l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function p(e){var t=0|e;return e>0||e===t?t:t-1}function u(e){for(var t,r,i=1,n=e.length,s=e[0]+"";i<n;){for(r=14-(t=e[i++]+"").length;r--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function d(e,t){var r,i,n=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-a:o;if(o!=a)return o;if(r=o<0,i=c==l,!n||!s)return i?0:!n^r?1:-1;if(!i)return c>l^r?1:-1;for(o=0,a=(c=n.length)<(l=s.length)?c:l;o<a;o++)if(n[o]!=s[o])return n[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function h(e,t,r,i){if(e<t||e>r||e!==o(e))throw Error(a+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function f(e){var t=e.c.length-1;return p(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(i=e.length,++t>i){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}if((i=function e(t){var r,i,y,v,b,x,w,E,_,A=M.prototype={constructor:M,toString:null,valueOf:null},T=new M(1),k=20,O=4,S=-7,C=21,R=-1e7,j=1e7,N=!1,P=1,I=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function M(e,t){var r,i,s,a,l,p,u,d,f=this;if(!(f instanceof M))return new M(e,t);if(null==t){if(e&&!0===e._isBigNumber){f.s=e.s,!e.c||e.e>j?f.c=f.e=null:e.e<R?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice());return}if((p="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,l=e;l>=10;l/=10,a++);a>j?f.c=f.e=null:(f.e=a,f.c=[e]);return}d=String(e)}else{if(!n.test(d=String(e)))return _(f,d,p);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(a=d.indexOf("."))>-1&&(d=d.replace(".","")),(l=d.search(/e/i))>0?(a<0&&(a=l),a+=+d.slice(l+1),d=d.substring(0,l)):a<0&&(a=d.length)}else{if(h(t,2,D.length,"Base"),10==t&&U)return G(f=new M(e),k+f.e+1,O);if(d=String(e),p="number"==typeof e){if(0*e!=0)return _(f,d,p,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,M.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(c+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=D.slice(0,t),a=l=0,u=d.length;l<u;l++)if(0>r.indexOf(i=d.charAt(l))){if("."==i){if(l>a){a=u;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,l=-1,a=0;continue}return _(f,String(e),p,t)}p=!1,(a=(d=E(d,t,10,f.s)).indexOf("."))>-1?d=d.replace(".",""):a=d.length}for(l=0;48===d.charCodeAt(l);l++);for(u=d.length;48===d.charCodeAt(--u););if(d=d.slice(l,++u)){if(u-=l,p&&M.DEBUG&&u>15&&(e>0x1fffffffffffff||e!==o(e)))throw Error(c+f.s*e);if((a=a-l-1)>j)f.c=f.e=null;else if(a<R)f.c=[f.e=0];else{if(f.e=a,f.c=[],l=(a+1)%14,a<0&&(l+=14),l<u){for(l&&f.c.push(+d.slice(0,l)),u-=14;l<u;)f.c.push(+d.slice(l,l+=14));l=14-(d=d.slice(l)).length}else l-=u;for(;l--;d+="0");f.c.push(+d)}}else f.c=[f.e=0]}function L(e,t,r,i){var n,s,o,a,c;if(null==r?r=O:h(r,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)c=u(e.c),c=1==i||2==i&&(o<=S||o>=C)?m(c,o):g(c,o,"0");else if(s=(e=G(new M(e),t,r)).e,a=(c=u(e.c)).length,1==i||2==i&&(t<=s||s<=S)){for(;a<t;c+="0",a++);c=m(c,s)}else if(t-=o+(2===i&&s>o),c=g(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&n?"-"+c:c}function F(e,t){for(var r,i,n=1,s=new M(e[0]);n<e.length;n++)(i=new M(e[n])).s&&(r=d(s,i))!==t&&(0!==r||s.s!==t)||(s=i);return s}function B(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+14*r-1)>j?e.c=e.e=null:r<R?e.c=[e.e=0]:(e.e=r,e.c=t),e}function G(e,t,r,i){var n,a,c,p,u,d,h,f=e.c;if(f){e:{for(n=1,p=f[0];p>=10;p/=10,n++);if((a=t-n)<0)a+=14,c=t,h=o((u=f[d=0])/l[n-c-1]%10);else if((d=s((a+1)/14))>=f.length)if(i){for(;f.length<=d;f.push(0));u=h=0,n=1,a%=14,c=a-14+1}else break e;else{for(n=1,u=p=f[d];p>=10;p/=10,n++);a%=14,h=(c=a-14+n)<0?0:o(u/l[n-c-1]%10)}if(i=i||t<0||null!=f[d+1]||(c<0?u:u%l[n-c-1]),i=r<4?(h||i)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||i||6==r&&(a>0?c>0?u/l[n-c]:0:f[d-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,i?(t-=e.e+1,f[0]=l[(14-t%14)%14],e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=d,p=1,d--):(f.length=d+1,p=l[14-a],f[d]=c>0?o(u/l[n-c]%l[c])*p:0),i)for(;;)if(0==d){for(a=1,c=f[0];c>=10;c/=10,a++);for(c=f[0]+=p,p=1;c>=10;c/=10,p++);a!=p&&(e.e++,1e14==f[0]&&(f[0]=1));break}else{if(f[d]+=p,1e14!=f[d])break;f[d--]=0,p=1}for(a=f.length;0===f[--a];f.pop());}e.e>j?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function $(e){var t,r=e.e;return null===r?e.toString():(t=u(e.c),t=r<=S||r>=C?m(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return M.clone=e,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(r=e[t],0,1e9,t),k=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(r=e[t],0,8,t),O=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(h(r[0],-1e9,0,t),h(r[1],0,1e9,t),S=r[0],C=r[1]):(h(r,-1e9,1e9,t),S=-(C=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)h(r[0],-1e9,-1,t),h(r[1],1,1e9,t),R=r[0],j=r[1];else if(h(r,-1e9,1e9,t),r)R=-(j=r<0?-r:r);else throw Error(a+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=r;else throw N=!r,Error(a+"crypto unavailable");else N=r;else throw Error(a+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(h(r=e[t],0,9,t),P=r),e.hasOwnProperty(t="POW_PRECISION")&&(h(r=e[t],0,1e9,t),I=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))q=r;else throw Error(a+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);U="0123456789"==r.slice(0,10),D=r}}else throw Error(a+"Object expected: "+e);return{DECIMAL_PLACES:k,ROUNDING_MODE:O,EXPONENTIAL_AT:[S,C],RANGE:[R,j],CRYPTO:N,MODULO_MODE:P,POW_PRECISION:I,FORMAT:q,ALPHABET:D}},M.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!M.DEBUG)return!0;var t,r,i=e.c,n=e.e,s=e.s;e:if("[object Array]"==({}).toString.call(i)){if((1===s||-1===s)&&n>=-1e9&&n<=1e9&&n===o(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break e}if((t=(n+1)%14)<1&&(t+=14),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=1e14||r!==o(r))break e;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},M.maximum=M.max=function(){return F(arguments,-1)},M.minimum=M.min=function(){return F(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return o(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},M.random=function(e){var t,i,n,c,p,u=0,d=[],f=new M(T);if(null==e?e=k:h(e,0,1e9),c=s(e/14),N)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(c*=2));u<c;)(p=131072*t[u]+(t[u+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[u]=i[0],t[u+1]=i[1]):(d.push(p%1e14),u+=2);u=c/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(c*=7);u<c;)(p=(31&t[u])*0x1000000000000+0x10000000000*t[u+1]+0x100000000*t[u+2]+0x1000000*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(d.push(p%1e14),u+=7);u=c/7}else throw N=!1,Error(a+"crypto unavailable");if(!N)for(;u<c;)(p=r())<9e15&&(d[u++]=p%1e14);for(c=d[--u],e%=14,c&&e&&(p=l[14-e],d[u]=o(c/p)*p);0===d[u];d.pop(),u--);if(u<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=14);for(u=1,p=d[0];p>=10;p/=10,u++);u<14&&(n-=14-u)}return f.e=n,f.c=d,f},M.sum=function(){for(var e=1,t=arguments,r=new M(t[0]);e<t.length;)r=r.plus(t[e++]);return r},E=function(){var e="0123456789";function t(e,t,r,i){for(var n,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=i.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(r,i,n,s,o){var a,c,l,p,d,h,f,m,y=r.indexOf("."),v=k,b=O;for(y>=0&&(p=I,I=0,r=r.replace(".",""),h=(m=new M(i)).pow(r.length-y),I=p,m.c=t(g(u(h.c),h.e,"0"),10,n,e),m.e=m.c.length),l=p=(f=t(r,i,n,o?(a=D,e):(a=e,D))).length;0==f[--p];f.pop());if(!f[0])return a.charAt(0);if(y<0?--l:(h.c=f,h.e=l,h.s=s,f=(h=w(h,m,v,b,n)).c,d=h.r,l=h.e),y=f[c=l+v+1],p=n/2,d=d||c<0||null!=f[c+1],d=b<4?(null!=y||d)&&(0==b||b==(h.s<0?3:2)):y>p||y==p&&(4==b||d||6==b&&1&f[c-1]||b==(h.s<0?8:7)),c<1||!f[0])r=d?g(a.charAt(1),-v,a.charAt(0)):a.charAt(0);else{if(f.length=c,d)for(--n;++f[--c]>n;)f[c]=0,c||(++l,f=[1].concat(f));for(p=f.length;!f[--p];);for(y=0,r="";y<=p;r+=a.charAt(f[y++]));r=g(r,l,a.charAt(0))}return r}}(),w=function(){function e(e,t,r){var i,n,s,o,a=0,c=e.length,l=t%1e7,p=t/1e7|0;for(e=e.slice();c--;)i=p*(s=e[c]%1e7)+(o=e[c]/1e7|0)*l,a=((n=l*s+i%1e7*1e7+a)/r|0)+(i/1e7|0)+p*o,e[c]=n%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,s,a,c){var l,u,d,h,f,m,g,y,v,b,x,w,E,_,A,T,k,O=i.s==n.s?1:-1,S=i.c,C=n.c;if(!S||!S[0]||!C||!C[0])return new M(!i.s||!n.s||(S?C&&S[0]==C[0]:!C)?NaN:S&&0==S[0]||!C?0*O:O/0);for(v=(y=new M(O)).c=[],O=s+(u=i.e-n.e)+1,c||(c=1e14,u=p(i.e/14)-p(n.e/14),O=O/14|0),d=0;C[d]==(S[d]||0);d++);if(C[d]>(S[d]||0)&&u--,O<0)v.push(1),h=!0;else{for(_=S.length,T=C.length,d=0,O+=2,(f=o(c/(C[0]+1)))>1&&(C=e(C,f,c),S=e(S,f,c),T=C.length,_=S.length),E=T,x=(b=S.slice(0,T)).length;x<T;b[x++]=0);k=[0].concat(k=C.slice()),A=C[0],C[1]>=c/2&&A++;do{if(f=0,(l=t(C,b,T,x))<0){if(w=b[0],T!=x&&(w=w*c+(b[1]||0)),(f=o(w/A))>1)for(f>=c&&(f=c-1),g=(m=e(C,f,c)).length,x=b.length;1==t(m,b,g,x);)f--,r(m,T<g?k:C,g,c),g=m.length,l=1;else 0==f&&(l=f=1),g=(m=C.slice()).length;if(g<x&&(m=[0].concat(m)),r(b,m,x,c),x=b.length,-1==l)for(;1>t(C,b,T,x);)f++,r(b,T<x?k:C,x,c),x=b.length}else 0===l&&(f++,b=[0]);v[d++]=f,b[0]?b[x++]=S[E]||0:(b=[S[E]],x=1)}while((E++<_||null!=b[0])&&O--)h=null!=b[0],v[0]||v.splice(0,1)}if(1e14==c){for(d=1,O=v[0];O>=10;O/=10,d++);G(y,s+(y.e=d+14*u-1)+1,a,h)}else y.e=u,y.r=+h;return y}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,v=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(e,t,r,n){var s,o=r?t:t.replace(x,"");if(b.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(i,function(e,t,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=s?e:t}),n&&(s=n,o=o.replace(y,"$1").replace(v,"0.$1")),t!=o))return new M(o,s);if(M.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new M(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return d(this,new M(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,i,n;if(null!=e)return h(e,0,1e9),null==t?t=O:h(t,0,8),G(new M(this),e+this.e+1,t);if(!(r=this.c))return null;if(i=((n=r.length-1)-p(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},A.dividedBy=A.div=function(e,t){return w(this,new M(e,t),k,O)},A.dividedToIntegerBy=A.idiv=function(e,t){return w(this,new M(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,i,n,c,l,p,u,d,h,m=this;if((e=new M(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+$(e));if(null!=t&&(t=new M(t)),p=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return h=new M(Math.pow(+$(m),p?e.s*(2-f(e)):+$(e))),t?h.mod(t):h;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new M(NaN);(i=!u&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||p&&m.c[1]>=24e7:m.c[0]<8e13||p&&m.c[0]<=9999975e7)))return c=m.s<0&&f(e)?-0:0,m.e>-1&&(c=1/c),new M(u?1/c:c);I&&(c=s(I/14+2))}for(p?(r=new M(.5),u&&(e.s=1),d=f(e)):d=(n=Math.abs(+$(e)))%2,h=new M(T);;){if(d){if(!(h=h.times(m)).c)break;c?h.c.length>c&&(h.c.length=c):i&&(h=h.mod(t))}if(n){if(0===(n=o(n/2)))break;d=n%2}else if(G(e=e.times(r),e.e+1,1),e.e>14)d=f(e);else{if(0==(n=+$(e)))break;d=n%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):i&&(m=m.mod(t))}return i?h:(u&&(h=T.div(h)),t?h.mod(t):c?G(h,I,O,l):h)},A.integerValue=function(e){var t=new M(this);return null==e?e=O:h(e,0,8),G(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===d(this,new M(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return d(this,new M(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=d(this,new M(e,t)))||0===t},A.isInteger=function(){return!!this.c&&p(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return 0>d(this,new M(e,t))},A.isLessThanOrEqualTo=A.lte=function(e,t){return -1===(t=d(this,new M(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,i,n,s,o=this.s;if(t=(e=new M(e,t)).s,!o||!t)return new M(NaN);if(o!=t)return e.s=-t,this.plus(e);var a=this.e/14,c=e.e/14,l=this.c,u=e.c;if(!a||!c){if(!l||!u)return l?(e.s=-t,e):new M(u?this:NaN);if(!l[0]||!u[0])return u[0]?(e.s=-t,e):new M(l[0]?this:3==O?-0:0)}if(a=p(a),c=p(c),l=l.slice(),o=a-c){for((s=o<0)?(o=-o,n=l):(c=a,n=u),n.reverse(),t=o;t--;n.push(0));n.reverse()}else for(i=(s=(o=l.length)<(t=u.length))?o:t,o=t=0;t<i;t++)if(l[t]!=u[t]){s=l[t]<u[t];break}if(s&&(n=l,l=u,u=n,e.s=-e.s),(t=(i=u.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;i>o;){if(l[--i]<u[i]){for(r=i;r&&!l[--r];l[r]=t);--l[r],l[i]+=1e14}l[i]-=u[i]}for(;0==l[0];l.splice(0,1),--c);return l[0]?B(e,l,c):(e.s=3==O?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,i;return(e=new M(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==P?(i=e.s,e.s=1,r=w(this,e,0,3),e.s=i,r.s*=i):r=w(this,e,0,P),(e=this.minus(r.times(e))).c[0]||1!=P||(e.s=this.s),e):new M(this):new M(NaN)},A.multipliedBy=A.times=function(e,t){var r,i,n,s,o,a,c,l,u,d,h,f,m,g=this.c,y=(e=new M(e,t)).c;if(!g||!y||!g[0]||!y[0])return this.s&&e.s&&(!g||g[0]||y)&&(!y||y[0]||g)?(e.s*=this.s,g&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(i=p(this.e/14)+p(e.e/14),e.s*=this.s,(c=g.length)<(d=y.length)&&(m=g,g=y,y=m,n=c,c=d,d=n),n=c+d,m=[];n--;m.push(0));for(n=d;--n>=0;){for(r=0,h=y[n]%1e7,f=y[n]/1e7|0,s=n+(o=c);s>n;)a=f*(l=g[--o]%1e7)+(u=g[o]/1e7|0)*h,r=((l=h*l+a%1e7*1e7+m[s]+r)/1e14|0)+(a/1e7|0)+f*u,m[s--]=l%1e14;m[s]=r}return r?++i:m.splice(0,1),B(e,m,i)},A.negated=function(){var e=new M(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,i=this.s;if(t=(e=new M(e,t)).s,!i||!t)return new M(NaN);if(i!=t)return e.s=-t,this.minus(e);var n=this.e/14,s=e.e/14,o=this.c,a=e.c;if(!n||!s){if(!o||!a)return new M(i/0);if(!o[0]||!a[0])return a[0]?e:new M(o[0]?this:0*i)}if(n=p(n),s=p(s),o=o.slice(),i=n-s){for(i>0?(s=n,r=a):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=a.length)<0&&(r=a,a=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+a[t]+i)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return i&&(o=[i].concat(o),++s),B(e,o,s)},A.precision=A.sd=function(e,t){var r,i,n;if(null!=e&&!!e!==e)return h(e,1,1e9),null==t?t=O:h(t,0,8),G(new M(this),e,t);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&this.e+1>i&&(i=this.e+1),i},A.shiftedBy=function(e){return h(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,i,n,s=this.c,o=this.s,a=this.e,c=k+4,l=new M("0.5");if(1!==o||!s||!s[0])return new M(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(o=Math.sqrt(+$(this)))||o==1/0?(((t=u(s)).length+a)%2==0&&(t+="0"),o=Math.sqrt(+t),a=p((a+1)/2)-(a<0||a%2),r=new M(t=o==1/0?"5e"+a:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new M(o+""),r.c[0]){for((o=(a=r.e)+c)<3&&(o=0);;)if(n=r,r=l.times(n.plus(w(this,n,c,1))),u(n.c).slice(0,o)===(t=u(r.c)).slice(0,o)){if(r.e<a&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+k+2,1),e=!r.times(r).eq(this));break}if(!i&&(G(n,n.e+k+2,0),n.times(n).eq(this))){r=n;break}c+=4,o+=4,i=1}}return G(r,r.e+k+1,O,e)},A.toExponential=function(e,t){return null!=e&&(h(e,0,1e9),e++),L(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(h(e,0,1e9),e=e+this.e+1),L(this,e,t)},A.toFormat=function(e,t,r){var i;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=q;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(i=this.toFixed(e,t),this.c){var n,s=i.split("."),o=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",p=s[0],u=s[1],d=this.s<0,h=d?p.slice(1):p,f=h.length;if(c&&(n=o,o=c,c=n,f-=n),o>0&&f>0){for(n=f%o||o,p=h.substr(0,n);n<f;n+=o)p+=l+h.substr(n,o);c>0&&(p+=l+h.slice(n)),d&&(p="-"+p)}i=u?p+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?u.replace(RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):u):p}return(r.prefix||"")+i+(r.suffix||"")},A.toFraction=function(e){var t,r,i,n,s,o,c,p,d,h,f,m,g=this.c;if(null!=e&&(!(c=new M(e)).isInteger()&&(c.c||1!==c.s)||c.lt(T)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+$(c));if(!g)return new M(this);for(t=new M(T),d=r=new M(T),i=p=new M(T),m=u(g),s=t.e=m.length-this.e-1,t.c[0]=l[(o=s%14)<0?14+o:o],e=!e||c.comparedTo(t)>0?s>0?t:d:c,o=j,j=1/0,c=new M(m),p.c[0]=0;h=w(c,t,0,1),1!=(n=r.plus(h.times(i))).comparedTo(e);)r=i,i=n,d=p.plus(h.times(n=d)),p=n,t=c.minus(h.times(n=t)),c=n;return n=w(e.minus(r),i,0,1),p=p.plus(n.times(d)),r=r.plus(n.times(i)),p.s=d.s=this.s,s*=2,f=1>w(d,i,s,O).minus(this).abs().comparedTo(w(p,r,s,O).minus(this).abs())?[d,i]:[p,r],j=o,f},A.toNumber=function(){return+$(this)},A.toPrecision=function(e,t){return null!=e&&h(e,1,1e9),L(this,e,t,2)},A.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=S||n>=C?m(u(r.c),n):g(u(r.c),n,"0"):10===e&&U?t=g(u((r=G(new M(r),k+n+1,O)).c),r.e,"0"):(h(e,2,D.length,"Base"),t=E(g(u(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return $(this)},A._isBigNumber=!0,null!=t&&M.set(t),M}()).default=i.BigNumber=i,"function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self?self:window),r.BigNumber=i)}(e.e)},364349,(e,t,r)=>{var i=e.r(345905),n=t.exports;!function(){"use strict";var e,t,r,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=o[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof n.stringify&&(n.stringify=function(n,s,o){var c;if(e="",t="","number"==typeof o)for(c=0;c<o;c+=1)t+=" ";else"string"==typeof o&&(t=o);if(r=s,s&&"function"!=typeof s&&("object"!=typeof s||"number"!=typeof s.length))throw Error("JSON.stringify");return function n(s,o){var c,l,p,u,d,h=e,f=o[s],m=null!=f&&(f instanceof i||i.isBigNumber(f));switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(s)),"function"==typeof r&&(f=r.call(o,s,f)),typeof f){case"string":if(m)return f;return a(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":case"bigint":return String(f);case"object":if(!f)return"null";if(e+=t,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=0,u=f.length;c<u;c+=1)d[c]=n(c,f)||"null";return p=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+h+"]":"["+d.join(",")+"]",e=h,p}if(r&&"object"==typeof r)for(c=0,u=r.length;c<u;c+=1)"string"==typeof r[c]&&(p=n(l=r[c],f))&&d.push(a(l)+(e?": ":":")+p);else Object.keys(f).forEach(function(t){var r=n(t,f);r&&d.push(a(t)+(e?": ":":")+r)});return p=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+h+"}":"{"+d.join(",")+"}",e=h,p}}("",{"":n})})}()},767104,(e,t,r)=>{var i=null;let n=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,s=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){"use strict";var r={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(r.strict=!0),!0===t.storeAsString&&(r.storeAsString=!0),r.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,r.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction)if("error"===t.constructorAction||"ignore"===t.constructorAction||"preserve"===t.constructorAction)r.constructorAction=t.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(void 0!==t.protoAction)if("error"===t.protoAction||"ignore"===t.protoAction||"preserve"===t.protoAction)r.protoAction=t.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var o,a,c,l,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},u=function(e){throw{name:"SyntaxError",message:e,at:o,text:c}},d=function(e){return e&&e!==a&&u("Expected '"+e+"' instead of '"+a+"'"),a=c.charAt(o),o+=1,a},h=function(){var t,n="";for("-"===a&&(n="-",d("-"));a>="0"&&a<="9";)n+=a,d();if("."===a)for(n+=".";d()&&a>="0"&&a<="9";)n+=a;if("e"===a||"E"===a)for(n+=a,d(),("-"===a||"+"===a)&&(n+=a,d());a>="0"&&a<="9";)n+=a,d();if(isFinite(t=+n))return(null==i&&(i=e.r(345905)),n.length>15)?r.storeAsString?n:r.useNativeBigInt?BigInt(n):new i(n):r.alwaysParseAsBig?r.useNativeBigInt?BigInt(t):new i(t):t;u("Bad number")},f=function(){var e,t,r,i="";if('"'===a)for(var n=o;d();){if('"'===a)return o-1>n&&(i+=c.substring(n,o-1)),d(),i;if("\\"===a){if(o-1>n&&(i+=c.substring(n,o-1)),d(),"u"===a){for(t=0,r=0;t<4&&isFinite(e=parseInt(d(),16));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else if("string"==typeof p[a])i+=p[a];else break;n=o}}u("Bad string")},m=function(){for(;a&&a<=" ";)d()},g=function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}u("Unexpected '"+a+"'")},y=function(){var e=[];if("["===a){if(d("["),m(),"]"===a)return d("]"),e;for(;a;){if(e.push(l()),m(),"]"===a)return d("]"),e;d(","),m()}}u("Bad array")},v=function(){var e,t=Object.create(null);if("{"===a){if(d("{"),m(),"}"===a)return d("}"),t;for(;a;){if(e=f(),m(),d(":"),!0===r.strict&&Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),!0===n.test(e)?"error"===r.protoAction?u("Object contains forbidden prototype property"):"ignore"===r.protoAction?l():t[e]=l():!0===s.test(e)?"error"===r.constructorAction?u("Object contains forbidden constructor property"):"ignore"===r.constructorAction?l():t[e]=l():t[e]=l(),m(),"}"===a)return d("}"),t;d(","),m()}}u("Bad object")};return l=function(){switch(m(),a){case"{":return v();case"[":return y();case'"':return f();case"-":return h();default:return a>="0"&&a<="9"?h():g()}},function(e,t){var r;return c=e+"",o=0,a=" ",r=l(),m(),a&&u("Syntax error"),"function"==typeof t?function e(r,i){var n,s=r[i];return s&&"object"==typeof s&&Object.keys(s).forEach(function(t){void 0!==(n=e(s,t))?s[t]=n:delete s[t]}),t.call(r,i,s)}({"":r},""):r}}},301158,(e,t,r)=>{var i=e.r(364349).stringify,n=e.r(767104);t.exports=function(e){return{parse:n(e),stringify:i}},t.exports.parse=n(),t.exports.stringify=i},687769,(e,t,r)=>{t.exports=e.x("node:events",()=>require("node:events"))},59639,(e,t,r)=>{t.exports=e.x("node:process",()=>require("node:process"))},812057,(e,t,r)=>{t.exports=e.x("node:util",()=>require("node:util"))},106737,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Colours=void 0;class i{static isEnabled(e){return e.isTTY&&("function"!=typeof e.getColorDepth||e.getColorDepth()>2)}static refresh(){i.enabled=i.isEnabled(process.stderr),this.enabled?(i.reset="\x1b[0m",i.bright="\x1b[1m",i.dim="\x1b[2m",i.red="\x1b[31m",i.green="\x1b[32m",i.yellow="\x1b[33m",i.blue="\x1b[34m",i.magenta="\x1b[35m",i.cyan="\x1b[36m",i.white="\x1b[37m",i.grey="\x1b[90m"):(i.reset="",i.bright="",i.dim="",i.red="",i.green="",i.yellow="",i.blue="",i.magenta="",i.cyan="",i.white="",i.grey="")}}r.Colours=i,i.enabled=!1,i.reset="",i.bright="",i.dim="",i.red="",i.green="",i.yellow="",i.blue="",i.magenta="",i.cyan="",i.white="",i.grey="",i.refresh()},190812,(e,t,r)=>{"use strict";let i;var n,s,o=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),a=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.env=r.DebugLogBackendBase=r.placeholder=r.AdhocDebugLogger=r.LogSeverity=void 0,r.getNodeBackend=g,r.getDebugBackend=function(e){return new y(e)},r.getStructuredBackend=function(e){return new v(e)},r.setBackend=function(e){i=e,b.clear()},r.log=x;let l=e.r(687769),p=c(e.r(59639)),u=c(e.r(812057)),d=e.r(106737);(n=s||(r.LogSeverity=s={})).DEFAULT="DEFAULT",n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR";class h extends l.EventEmitter{constructor(e,t){super(),this.namespace=e,this.upstream=t,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(e,t)=>this.on(e,t)}),this.func.debug=(...e)=>this.invokeSeverity(s.DEBUG,...e),this.func.info=(...e)=>this.invokeSeverity(s.INFO,...e),this.func.warn=(...e)=>this.invokeSeverity(s.WARNING,...e),this.func.error=(...e)=>this.invokeSeverity(s.ERROR,...e),this.func.sublog=e=>x(e,this.func)}invoke(e,...t){this.upstream&&this.upstream(e,...t),this.emit("log",e,t)}invokeSeverity(e,...t){this.invoke({severity:e},...t)}}r.AdhocDebugLogger=h,r.placeholder=new h("",()=>{}).func;class f{constructor(){var e;this.cached=new Map,this.filters=[],this.filtersSet=!1;let t=null!=(e=p.env[r.env.nodeEnables])?e:"*";"all"===t&&(t="*"),this.filters=t.split(",")}log(e,t,...r){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let i=this.cached.get(e);i||(i=this.makeLogger(e),this.cached.set(e,i)),i(t,...r)}catch(e){console.error(e)}}}r.DebugLogBackendBase=f;class m extends f{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(e){return this.enabledRegexp.test(e)}makeLogger(e){return this.enabledRegexp.test(e)?(t,...r)=>{var i;let n,o=`${d.Colours.green}${e}${d.Colours.reset}`,a=`${d.Colours.yellow}${p.pid}${d.Colours.reset}`;switch(t.severity){case s.ERROR:n=`${d.Colours.red}${t.severity}${d.Colours.reset}`;break;case s.INFO:n=`${d.Colours.magenta}${t.severity}${d.Colours.reset}`;break;case s.WARNING:n=`${d.Colours.yellow}${t.severity}${d.Colours.reset}`;break;default:n=null!=(i=t.severity)?i:s.DEFAULT}let c=u.formatWithOptions({colors:d.Colours.enabled},...r),l=Object.assign({},t);delete l.severity;let h=Object.getOwnPropertyNames(l).length?JSON.stringify(l):"",f=h?`${d.Colours.grey}${h}${d.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",a,o,n,c,h?` ${f}`:"")}:()=>{}}setFilters(){let e=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=RegExp(`^${e}$`,"i")}}function g(){return new m}class y extends f{constructor(e){super(),this.debugPkg=e}makeLogger(e){let t=this.debugPkg(e);return(e,...r)=>{t(r[0],...r.slice(1))}}setFilters(){var e;let t=null!=(e=p.env.NODE_DEBUG)?e:"";p.env.NODE_DEBUG=`${t}${t?",":""}${this.filters.join(",")}`}}class v extends f{constructor(e){super(),this.upstream=null!=e?e:new m}makeLogger(e){let t=this.upstream.makeLogger(e);return(e,...r)=>{var i;let n=JSON.stringify(Object.assign({severity:null!=(i=e.severity)?i:s.INFO,message:u.format(...r)},e));t(e,n)}}setFilters(){this.upstream.setFilters()}}r.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};let b=new Map;function x(e,t){let n;if(!p.env[r.env.nodeEnables]||!e)return r.placeholder;t&&(e=`${t.instance.namespace}:${e}`);let s=b.get(e);if(s)return s.func;if(null===i)return r.placeholder;void 0===i&&(i=g());let o=new h(e,(t,...r)=>{if(n!==i){if(null===i)return;void 0===i&&(i=g()),n=i}null==i||i.log(e,t,...r)});return b.set(e,o),o.func}},547637,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(190812),r)},482e3,(e,t,r)=>{"use strict";let i;var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.gcpResidencyCache=r.METADATA_SERVER_DETECTION=r.HEADERS=r.HEADER_VALUE=r.HEADER_NAME=r.SECONDARY_HOST_ADDRESS=r.HOST_ADDRESS=r.BASE_PATH=void 0,r.instance=function(e){return d("instance",e)},r.project=function(e){return d("project",e)},r.universe=function(e){return d("universe",e)},r.bulk=f,r.isAvailable=m,r.resetIsAvailableCache=function(){i=void 0},r.getGCPResidency=g,r.setGCPResidency=y,r.requestTimeout=v;let o=e.r(366037),a=e.r(301158),c=e.r(29077),l=e.r(547637);r.BASE_PATH="/computeMetadata/v1",r.HOST_ADDRESS="http://169.254.169.254",r.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",r.HEADER_NAME="Metadata-Flavor",r.HEADER_VALUE="Google",r.HEADERS=Object.freeze({[r.HEADER_NAME]:r.HEADER_VALUE});let p=l.log("gcp metadata");function u(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||r.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(r.BASE_PATH,e).href}async function d(e,t={},i=3,n=!1){let s="",c={},l={};("object"==typeof e?(s=e.metadataKey,c=e.params||c,l=e.headers||l,i=e.noResponseRetries||i,n=e.fastFail||n):s=e,"string"==typeof t)?s+=`/${t}`:(Object.keys(t).forEach(e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw Error(`'${e}' is not a valid configuration option.`)}}),t.property&&(s+=`/${t.property}`),l=t.headers||l,c=t.params||c);let f=n?h:o.request,m={url:`${u()}/${s}`,headers:{...r.HEADERS,...l},retryConfig:{noResponseRetries:i},params:c,responseType:"text",timeout:v()};p.info("instance request %j",m);let g=await f(m);if(p.info("instance metadata is %s",g.data),g.headers[r.HEADER_NAME.toLowerCase()]!==r.HEADER_VALUE)throw Error(`Invalid response from metadata service: incorrect ${r.HEADER_NAME} header. Expected '${r.HEADER_VALUE}', got ${g.headers[r.HEADER_NAME.toLowerCase()]?`'${g.headers[r.HEADER_NAME.toLowerCase()]}'`:"no header"}`);if("string"==typeof g.data)try{return a.parse(g.data)}catch(e){}return g.data}async function h(e){var t;let i={...e,url:null==(t=e.url)?void 0:t.toString().replace(u(),u(r.SECONDARY_HOST_ADDRESS))},n=!1,s=(0,o.request)(e).then(e=>(n=!0,e)).catch(e=>{if(n)return a;throw n=!0,e}),a=(0,o.request)(i).then(e=>(n=!0,e)).catch(e=>{if(n)return s;throw n=!0,e});return Promise.race([s,a])}async function f(e){let t={};return await Promise.all(e.map(e=>(async()=>{let r=await d(e);t[e.metadataKey]=r})())),t}async function m(){if(process.env.METADATA_SERVER_DETECTION){let e=process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(e in r.METADATA_SERVER_DETECTION))throw RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${e}\`, but it should be \`${Object.keys(r.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(e){case"assume-present":return!0;case"none":return!1;case"bios-only":return g()}}try{return void 0===i&&(i=d("instance",void 0,process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0,!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),await i,!0}catch(e){if(process.env.DEBUG_AUTH&&console.info(e),"request-timeout"===e.type||e.response&&404===e.response.status)return!1;if(!(e.response&&404===e.response.status)&&(!e.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(e.code))){let t="UNKNOWN";e.code&&(t=e.code),process.emitWarning(`received unexpected error = ${e.message} code = ${t}`,"MetadataLookupWarning")}return!1}}function g(){return null===r.gcpResidencyCache&&y(),r.gcpResidencyCache}function y(e=null){r.gcpResidencyCache=null!==e?e:(0,c.detectGCPResidency)()}function v(){return 3e3*!g()}r.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"}),r.gcpResidencyCache=null,s(e.r(29077),r)},906920,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return(r+i)*3/4-i},r.toByteArray=function(e){var t,r,i=l(e),o=i[0],a=i[1],c=new s((o+a)*3/4-a),p=0,u=a>0?o-4:o;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[p++]=t>>16&255,c[p++]=t>>8&255,c[p++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[p++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[p++]=t>>8&255,c[p++]=255&t),c},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,s=[],o=0,a=r-n;o<a;o+=16383)s.push(function(e,t,r){for(var n,s=[],o=t;o<r;o+=3)n=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?s.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&s.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)i[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}n[45]=62,n[95]=63},269216,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BrowserCrypto=void 0;let i=e.r(906920),n=e.r(859501);class s{constructor(){throw Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(e){let t=new TextEncoder().encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return i.fromByteArray(new Uint8Array(r))}randomBytesBase64(e){let t=new Uint8Array(e);return window.crypto.getRandomValues(t),i.fromByteArray(t)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(e,t,r){let n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=new TextEncoder().encode(t),a=i.toByteArray(s.padBase64(r)),c=await window.crypto.subtle.importKey("jwk",e,n,!0,["verify"]);return await window.crypto.subtle.verify(n,c,a,o)}async sign(e,t){let r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n=new TextEncoder().encode(t),s=await window.crypto.subtle.importKey("jwk",e,r,!0,["sign"]),o=await window.crypto.subtle.sign(r,s,n);return i.fromByteArray(new Uint8Array(o))}decodeBase64StringUtf8(e){let t=i.toByteArray(s.padBase64(e));return new TextDecoder().decode(t)}encodeBase64StringUtf8(e){let t=new TextEncoder().encode(e);return i.fromByteArray(t)}async sha256DigestHex(e){let t=new TextEncoder().encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return(0,n.fromArrayBufferToHex)(r)}async signWithHmacSha256(e,t){let r="string"==typeof e?e:String.fromCharCode(...new Uint16Array(e)),i=new TextEncoder,n=await window.crypto.subtle.importKey("raw",i.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",n,i.encode(t))}}r.BrowserCrypto=s},521962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NodeCrypto=void 0;let i=e.r(254799);r.NodeCrypto=class{async sha256DigestBase64(e){return i.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return i.randomBytes(e).toString("base64")}async verify(e,t,r){let n=i.createVerify("RSA-SHA256");return n.update(t),n.end(),n.verify(e,r,"base64")}async sign(e,t){let r=i.createSign("RSA-SHA256");return r.update(t),r.end(),r.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}async sha256DigestHex(e){return i.createHash("sha256").update(e).digest("hex")}async signWithHmacSha256(e,t){var r,n;let s="string"==typeof e?e:(r=e,Buffer.from(r));return(n=i.createHmac("sha256",s).update(t).digest()).buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}}},859501,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createCrypto=function(){return function(){;}(),new i.NodeCrypto},r.hasBrowserCrypto=n,r.fromArrayBufferToHex=function(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")},e.r(269216);let i=e.r(521962);function n(){return!1}},437556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validate=function(e){for(let t of[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}])if(e[t.invalid])throw Error(`'${t.invalid}' is not a valid configuration option. Please use '${t.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`)}},791829,e=>{e.v({name:"google-auth-library",version:"9.15.1",author:"Google Inc.",description:"Google APIs Authentication Client Library for Node.js",engines:{node:">=14"},main:"./build/src/index.js",types:"./build/src/index.d.ts",repository:"googleapis/google-auth-library-nodejs.git",keywords:["google","api","google apis","client","client library"],dependencies:{"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11",gaxios:"^6.1.1","gcp-metadata":"^6.1.0",gtoken:"^7.0.0",jws:"^4.0.0"},devDependencies:{"@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/mocha":"^9.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.4.2","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0",c8:"^8.0.0",chai:"^4.2.0",cheerio:"1.0.0-rc.12",codecov:"^3.0.2","engine.io":"6.6.2",gts:"^5.0.0","is-docker":"^2.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",keypair:"^1.0.4",linkinator:"^4.0.0",mocha:"^9.2.2",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",pdfmake:"0.2.12",puppeteer:"^21.0.0",sinon:"^18.0.0","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.21.2","webpack-cli":"^4.0.0"},files:["build/src","!build/src/**/*.map"],scripts:{test:"c8 mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check",compile:"tsc -p .",fix:"gts fix",pretest:"npm run compile -- --sourceMap",docs:"jsdoc -c .jsdoc.json","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap",webpack:"webpack","browser-test":"karma start","docs-test":"linkinator docs","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install",precompile:"gts clean"},license:"Apache-2.0"})},996299,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultTransporter=void 0;let i=e.r(366037),n=e.r(437556),s=e.r(791829),o="google-api-nodejs-client";class a{constructor(){this.instance=new i.Gaxios}configure(e={}){e.headers=e.headers||{};{let t=e.headers["User-Agent"];if(t?t.includes(`${o}/`)||(e.headers["User-Agent"]=`${t} ${a.USER_AGENT}`):e.headers["User-Agent"]=a.USER_AGENT,!e.headers["x-goog-api-client"]){let t=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]=`gl-node/${t}`}}return e}request(e){return e=this.configure(e),(0,n.validate)(e),this.instance.request(e).catch(e=>{throw this.processError(e)})}get defaults(){return this.instance.defaults}set defaults(e){this.instance.defaults=e}processError(e){let t=e.response,r=t?t.data:null;return t&&r&&r.error&&200!==t.status?"string"==typeof r.error?(e.message=r.error,e.status=t.status):Array.isArray(r.error.errors)?(e.message=r.error.errors.map(e=>e.message).join("\n"),e.code=r.error.code,e.errors=r.error.errors):(e.message=r.error.message,e.code=r.error.code):t&&t.status>=400&&(e.message=r,e.status=t.status),e}}r.DefaultTransporter=a,a.USER_AGENT=`${o}/${s.version}`},415733,(e,t,r)=>{"use strict";var i,n,s,o,a=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};function c(e){return e.replace(/([_][^_])/g,e=>e.slice(1).toUpperCase())}Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0,r.snakeToCamel=c,r.originalOrCamelOptions=function(e){return{get:function(t){var r;let i=e||{};return null!=(r=i[t])?r:i[c(t)]}}},r.LRUCache=class{constructor(e){i.add(this),n.set(this,new Map),this.capacity=e.capacity,this.maxAge=e.maxAge}set(e,t){a(this,i,"m",s).call(this,e,t),a(this,i,"m",o).call(this)}get(e){let t=a(this,n,"f").get(e);if(t)return a(this,i,"m",s).call(this,e,t.value),a(this,i,"m",o).call(this),t.value}},n=new WeakMap,i=new WeakSet,s=function(e,t){a(this,n,"f").delete(e),a(this,n,"f").set(e,{value:t,lastAccessed:Date.now()})},o=function(){let e=this.maxAge?Date.now()-this.maxAge:0,t=a(this,n,"f").entries().next();for(;!t.done&&(a(this,n,"f").size>this.capacity||t.value[1].lastAccessed<e);)a(this,n,"f").delete(t.value[0]),t=a(this,n,"f").entries().next()}},911656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AuthClient=r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=r.DEFAULT_UNIVERSE=void 0;let i=e.r(427699),n=e.r(366037),s=e.r(996299),o=e.r(415733);r.DEFAULT_UNIVERSE="googleapis.com",r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=3e5;class a extends i.EventEmitter{constructor(e={}){var t,i,n,a,c;super(),this.credentials={},this.eagerRefreshThresholdMillis=r.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS,this.forceRefreshOnFailure=!1,this.universeDomain=r.DEFAULT_UNIVERSE;const l=(0,o.originalOrCamelOptions)(e);this.apiKey=e.apiKey,this.projectId=null!=(t=l.get("project_id"))?t:null,this.quotaProjectId=l.get("quota_project_id"),this.credentials=null!=(i=l.get("credentials"))?i:{},this.universeDomain=null!=(n=l.get("universe_domain"))?n:r.DEFAULT_UNIVERSE,this.transporter=null!=(a=e.transporter)?a:new s.DefaultTransporter,e.transporterOptions&&(this.transporter.defaults=e.transporterOptions),e.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=null!=(c=e.forceRefreshOnFailure)&&c}get gaxios(){return this.transporter instanceof n.Gaxios?this.transporter:this.transporter instanceof s.DefaultTransporter||"instance"in this.transporter&&this.transporter.instance instanceof n.Gaxios?this.transporter.instance:null}setCredentials(e){this.credentials=e}addSharedMetadataHeaders(e){return!e["x-goog-user-project"]&&this.quotaProjectId&&(e["x-goog-user-project"]=this.quotaProjectId),e}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}r.AuthClient=a},442602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoginTicket=void 0,r.LoginTicket=class{constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){let e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}},800701,(e,t,r)=>{"use strict";var i,n,s,o,a,c;Object.defineProperty(r,"__esModule",{value:!0}),r.OAuth2Client=r.ClientAuthentication=r.CertificateFormat=r.CodeChallengeMethod=void 0;let l=e.r(366037),p=e.r(145706),u=e.r(688947),d=e.r(732955),h=e.r(859501),f=e.r(911656),m=e.r(442602);(o=i||(r.CodeChallengeMethod=i={})).Plain="plain",o.S256="S256",(a=n||(r.CertificateFormat=n={})).PEM="PEM",a.JWK="JWK",(c=s||(r.ClientAuthentication=s={})).ClientSecretPost="ClientSecretPost",c.ClientSecretBasic="ClientSecretBasic",c.None="None";class g extends f.AuthClient{constructor(e,t,r){const i=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,redirectUri:r};super(i),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=n.PEM,this.refreshTokenPromises=new Map,this._clientId=i.clientId,this._clientSecret=i.clientSecret,this.redirectUri=i.redirectUri,this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...i.endpoints},this.clientAuthentication=i.clientAuthentication||s.ClientSecretPost,this.issuers=i.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw Error("If a code_challenge_method is provided, code_challenge must be included.");return e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),this.endpoints.oauth2AuthBaseUrl.toString()+"?"+p.stringify(e)}generateCodeVerifier(){throw Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){let e=(0,h.createCrypto)(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),r=(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:t,codeChallenge:r}}getToken(e,t){let r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then(e=>t(null,e.tokens,e.res),e=>t(e,null,e.response))}async getTokenAsync(e){let t=this.endpoints.oauth2TokenUrl.toString(),r={"Content-Type":"application/x-www-form-urlencoded"},i={client_id:e.client_id||this._clientId,code_verifier:e.codeVerifier,code:e.code,grant_type:"authorization_code",redirect_uri:e.redirect_uri||this.redirectUri};if(this.clientAuthentication===s.ClientSecretBasic){let e=Buffer.from(`${this._clientId}:${this._clientSecret}`);r.Authorization=`Basic ${e.toString("base64")}`}this.clientAuthentication===s.ClientSecretPost&&(i.client_secret=this._clientSecret);let n=await this.transporter.request({...g.RETRY_CONFIG,method:"POST",url:t,data:p.stringify(i),headers:r}),o=n.data;return n.data&&n.data.expires_in&&(o.expiry_date=new Date().getTime()+1e3*n.data.expires_in,delete o.expires_in),this.emit("tokens",o),{tokens:o,res:n}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);let t=this.refreshTokenNoCache(e).then(t=>(this.refreshTokenPromises.delete(e),t),t=>{throw this.refreshTokenPromises.delete(e),t});return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(e){var t;let r;if(!e)throw Error("No refresh token is set.");let i=this.endpoints.oauth2TokenUrl.toString(),n={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};try{r=await this.transporter.request({...g.RETRY_CONFIG,method:"POST",url:i,data:p.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(e){throw e instanceof l.GaxiosError&&"invalid_grant"===e.message&&(null==(t=e.response)?void 0:t.data)&&/ReAuth/i.test(e.response.data.error_description)&&(e.message=JSON.stringify(e.response.data)),e}let s=r.data;return r.data&&r.data.expires_in&&(s.expiry_date=new Date().getTime()+1e3*r.data.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:r}}refreshAccessToken(e){if(!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then(t=>e(null,t.credentials,t.res),e)}async refreshAccessTokenAsync(){let e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then(t=>e(null,t.token,t.res),e)}async getAccessTokenAsync(){if(!(!this.credentials.access_token||this.isTokenExpiring()))return{token:this.credentials.access_token};{if(!this.credentials.refresh_token)if(this.refreshHandler){let e=await this.processAndValidateRefreshHandler();if(null==e?void 0:e.access_token)return this.setCredentials(e),{token:this.credentials.access_token}}else throw Error("No refresh token or refresh handler callback is set.");let e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){let t=this.credentials;if(!t.access_token&&!t.refresh_token&&!this.apiKey&&!this.refreshHandler)throw Error("No access, refresh token, API key or refresh handler callback is set.");if(t.access_token&&!this.isTokenExpiring()){t.token_type=t.token_type||"Bearer";let e={Authorization:t.token_type+" "+t.access_token};return{headers:this.addSharedMetadataHeaders(e)}}if(this.refreshHandler){let e=await this.processAndValidateRefreshHandler();if(null==e?void 0:e.access_token){this.setCredentials(e);let t={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(t)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let r=null,i=null;try{i=(r=await this.refreshToken(t.refresh_token)).tokens}catch(e){throw e.response&&(403===e.response.status||404===e.response.status)&&(e.message=`Could not refresh access token: ${e.message}`),e}let n=this.credentials;n.token_type=n.token_type||"Bearer",i.refresh_token=n.refresh_token,this.credentials=i;let s={Authorization:n.token_type+" "+i.access_token};return{headers:this.addSharedMetadataHeaders(s),res:r.res}}static getRevokeTokenUrl(e){return new g().getRevokeTokenURL(e).toString()}getRevokeTokenURL(e){let t=new URL(this.endpoints.oauth2RevokeUrl);return t.searchParams.append("token",e),t}revokeToken(e,t){let r={...g.RETRY_CONFIG,url:this.getRevokeTokenURL(e).toString(),method:"POST"};if(!t)return this.transporter.request(r);this.transporter.request(r).then(e=>t(null,e),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then(t=>e(null,t),e)}async revokeCredentialsAsync(){let e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestMetadataAsync(e.url);e.headers=e.headers||{},t.headers&&t.headers["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t.headers["x-goog-user-project"]),t.headers&&t.headers.Authorization&&(e.headers.Authorization=t.headers.Authorization),this.apiKey&&(e.headers["X-Goog-Api-Key"]=this.apiKey),r=await this.transporter.request(e)}catch(i){let r=i.response;if(r){let i=r.status,n=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),s=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,o=r.config.data instanceof u.Readable,a=401===i||403===i;if(!t&&a&&!o&&n)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0);if(!t&&a&&!o&&s){let t=await this.processAndValidateRefreshHandler();return(null==t?void 0:t.access_token)&&this.setCredentials(t),this.requestAsync(e,!0)}}throw i}return r}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then(e=>t(null,e),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw Error("The verifyIdToken method requires an ID Token");let t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,this.issuers,e.maxExpiry)}async getTokenInfo(e){let{data:t}=await this.transporter.request({...g.RETRY_CONFIG,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${e}`},url:this.endpoints.tokenInfoUrl.toString()}),r=Object.assign({expiry_date:new Date().getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then(t=>e(null,t.certs,t.res),e)}async getFederatedSignonCertsAsync(){let e,t,r=new Date().getTime(),i=(0,h.hasBrowserCrypto)()?n.JWK:n.PEM;if(this.certificateExpiry&&r<this.certificateExpiry.getTime()&&this.certificateCacheFormat===i)return{certs:this.certificateCache,format:i};switch(i){case n.PEM:t=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case n.JWK:t=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw Error(`Unsupported certificate format ${i}`)}try{e=await this.transporter.request({...g.RETRY_CONFIG,url:t})}catch(e){throw e instanceof Error&&(e.message=`Failed to retrieve verification certificates: ${e.message}`),e}let s=e?e.headers["cache-control"]:void 0,o=-1;if(s){let e=RegExp("max-age=([0-9]*)").exec(s);e&&2===e.length&&(o=1e3*Number(e[1]))}let a={};switch(i){case n.PEM:a=e.data;break;case n.JWK:for(let t of e.data.keys)a[t.kid]=t;break;default:throw Error(`Unsupported certificate format ${i}`)}let c=new Date;return this.certificateExpiry=-1===o?null:new Date(c.getTime()+o),this.certificateCache=a,this.certificateCacheFormat=i,{certs:a,format:i,res:e}}getIapPublicKeys(e){if(!e)return this.getIapPublicKeysAsync();this.getIapPublicKeysAsync().then(t=>e(null,t.pubkeys,t.res),e)}async getIapPublicKeysAsync(){let e,t=this.endpoints.oauth2IapPublicKeyUrl.toString();try{e=await this.transporter.request({...g.RETRY_CONFIG,url:t})}catch(e){throw e instanceof Error&&(e.message=`Failed to retrieve verification certificates: ${e.message}`),e}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,r,i,n){let s,o,a=(0,h.createCrypto)();n||(n=g.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);let c=e.split(".");if(3!==c.length)throw Error("Wrong number of segments in token: "+e);let l=c[0]+"."+c[1],p=c[2];try{s=JSON.parse(a.decodeBase64StringUtf8(c[0]))}catch(e){throw e instanceof Error&&(e.message=`Can't parse token envelope: ${c[0]}': ${e.message}`),e}if(!s)throw Error("Can't parse token envelope: "+c[0]);try{o=JSON.parse(a.decodeBase64StringUtf8(c[1]))}catch(e){throw e instanceof Error&&(e.message=`Can't parse token payload '${c[0]}`),e}if(!o)throw Error("Can't parse token payload: "+c[1]);if(!Object.prototype.hasOwnProperty.call(t,s.kid))throw Error("No pem found for envelope: "+JSON.stringify(s));let u=t[s.kid];if("ES256"===s.alg&&(p=d.joseToDer(p,"ES256").toString("base64")),!await a.verify(u,l,p))throw Error("Invalid token signature: "+e);if(!o.iat)throw Error("No issue time in token: "+JSON.stringify(o));if(!o.exp)throw Error("No expiration time in token: "+JSON.stringify(o));let f=Number(o.iat);if(isNaN(f))throw Error("iat field using invalid format");let y=Number(o.exp);if(isNaN(y))throw Error("exp field using invalid format");let v=new Date().getTime()/1e3;if(y>=v+n)throw Error("Expiration time too far in future: "+JSON.stringify(o));let b=f-g.CLOCK_SKEW_SECS_,x=y+g.CLOCK_SKEW_SECS_;if(v<b)throw Error("Token used too early, "+v+" < "+b+": "+JSON.stringify(o));if(v>x)throw Error("Token used too late, "+v+" > "+x+": "+JSON.stringify(o));if(i&&0>i.indexOf(o.iss))throw Error("Invalid issuer, expected one of ["+i+"], but got "+o.iss);if(null!=r){let e=o.aud;if(!(r.constructor===Array?r.indexOf(e)>-1:e===r))throw Error("Wrong recipient, payload audience != requiredAudience")}return new m.LoginTicket(s,o)}async processAndValidateRefreshHandler(){if(this.refreshHandler){let e=await this.refreshHandler();if(!e.access_token)throw Error("No access token is returned by the refreshHandler callback.");return e}}isTokenExpiring(){let e=this.credentials.expiry_date;return!!e&&e<=new Date().getTime()+this.eagerRefreshThresholdMillis}}r.OAuth2Client=g,g.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",g.CLOCK_SKEW_SECS_=300,g.DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400},70814,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Compute=void 0;let i=e.r(366037),n=e.r(482e3),s=e.r(800701);class o extends s.OAuth2Client{constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=Array.isArray(e.scopes)?e.scopes:e.scopes?[e.scopes]:[]}async refreshTokenNoCache(e){let t,r=`service-accounts/${this.serviceAccountEmail}/token`;try{let e={property:r};this.scopes.length>0&&(e.params={scopes:this.scopes.join(",")}),t=await n.instance(e)}catch(e){throw e instanceof i.GaxiosError&&(e.message=`Could not refresh access token: ${e.message}`,this.wrapError(e)),e}let s=t;return t&&t.expires_in&&(s.expiry_date=new Date().getTime()+1e3*t.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:null}}async fetchIdToken(e){let t,r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${e}`;try{t=await n.instance({property:r})}catch(e){throw e instanceof Error&&(e.message=`Could not fetch ID token: ${e.message}`),e}return t}wrapError(e){let t=e.response;t&&t.status&&(e.status=t.status,403===t.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===t.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}r.Compute=o},180732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IdTokenClient=void 0;let i=e.r(800701);class n extends i.OAuth2Client{constructor(e){super(e),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(e){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){let e=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:e,expiry_date:this.getIdTokenExpiryDate(e)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(e){let t=e.split(".")[1];if(t)return 1e3*JSON.parse(Buffer.from(t,"base64").toString("ascii")).exp}}r.IdTokenClient=n},880243,(e,t,r)=>{"use strict";var i,n;let s;Object.defineProperty(r,"__esModule",{value:!0}),r.GCPEnv=void 0,r.clear=function(){s=void 0},r.getEnv=a;let o=e.r(482e3);async function a(){return s||(s=c())}async function c(){i.NONE;return process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME?i.APP_ENGINE:process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET?i.CLOUD_FUNCTIONS:await p()?await l()?i.KUBERNETES_ENGINE:process.env.K_CONFIGURATION?i.CLOUD_RUN:i.COMPUTE_ENGINE:i.NONE}async function l(){try{return await o.instance("attributes/cluster-name"),!0}catch(e){return!1}}async function p(){return o.isAvailable()}(n=i||(r.GCPEnv=i={})).APP_ENGINE="APP_ENGINE",n.KUBERNETES_ENGINE="KUBERNETES_ENGINE",n.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",n.COMPUTE_ENGINE="COMPUTE_ENGINE",n.CLOUD_RUN="CLOUD_RUN",n.NONE="NONE"},41949,(e,t,r)=>{var i=e.r(223469).Buffer,n=e.r(688947);function s(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=i.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=i.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}e.r(224361).inherits(s,n),s.prototype.write=function(e){this.buffer=i.concat([this.buffer,i.from(e)]),this.emit("data",e)},s.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},t.exports=s},757067,(e,t,r)=>{var i,n=e.r(223469).Buffer,s=e.r(254799),o=e.r(732955),a=e.r(224361),c="secret must be a string or buffer",l="key must be a string or a buffer",p="function"==typeof s.createPublicKey;function u(e){if(!n.isBuffer(e)&&"string"!=typeof e&&(!p||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(l)}function d(e){if(!n.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function g(e){var t;return t=e,n.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!n.isBuffer(e)){if("string"!=typeof e){if(!p||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export)throw m(c)}}}(r),t=g(t);var i=s.createHmac("sha"+e,r);return h((i.update(t),i.digest("base64")))}}p&&(l+=" or a KeyObject",c+="or a KeyObject");var v="timingSafeEqual"in s?function(e,t){return e.byteLength===t.byteLength&&s.timingSafeEqual(e,t)}:function(t,r){return i||(i=e.r(922691)),i(t,r)};function b(e){return function(t,r,i){var s=y(e)(t,i);return v(n.from(r),n.from(s))}}function x(e){return function(t,r){d(r),t=g(t);var i=s.createSign("RSA-SHA"+e);return h((i.update(t),i.sign(r,"base64")))}}function w(e){return function(t,r,i){u(i),t=g(t),r=f(r);var n=s.createVerify("RSA-SHA"+e);return n.update(t),n.verify(i,r,"base64")}}function E(e){return function(t,r){d(r),t=g(t);var i=s.createSign("RSA-SHA"+e);return h((i.update(t),i.sign({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,i){u(i),t=g(t),r=f(r);var n=s.createVerify("RSA-SHA"+e);return n.update(t),n.verify({key:i,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function A(e){var t=x(e);return function(){var r=t.apply(null,arguments);return o.derToJose(r,"ES"+e)}}function T(e){var t=w(e);return function(r,i,n){return t(r,i=o.joseToDer(i,"ES"+e).toString("base64"),n)}}function k(){return function(){return""}}function O(){return function(e,t){return""===t}}t.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),i=t[2];return{sign:({hs:y,rs:x,ps:E,es:A,none:k})[r](i),verify:({hs:b,rs:w,ps:_,es:T,none:O})[r](i)}}},576872,(e,t,r)=>{var i=e.r(500874).Buffer;t.exports=function(e){return"string"==typeof e?e:"number"==typeof e||i.isBuffer(e)?e.toString():JSON.stringify(e)}},614743,(e,t,r)=>{var i=e.r(223469).Buffer,n=e.r(41949),s=e.r(757067),o=e.r(688947),a=e.r(576872),c=e.r(224361);function l(e,t){return i.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){var t,r,i,n=e.header,o=e.payload,p=e.secret||e.privateKey,u=e.encoding,d=s(n.alg),h=(t=(t=u)||"utf8",r=l(a(n),"binary"),i=l(a(o),t),c.format("%s.%s",r,i)),f=d.sign(h,p);return c.format("%s.%s",h,f)}function u(e){var t=new n(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new n(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}c.inherits(u,o),u.prototype.sign=function(){try{var e=p({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},u.sign=p,t.exports=u},148233,(e,t,r)=>{var i=e.r(223469).Buffer,n=e.r(41949),s=e.r(757067),o=e.r(688947),a=e.r(576872),c=e.r(224361),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function p(e){var t=e.split(".",1)[0],r=i.from(t,"base64").toString("binary");if("[object Object]"===Object.prototype.toString.call(r))return r;try{return JSON.parse(r)}catch(e){return}}function u(e){return e.split(".")[2]}function d(e){return l.test(e)&&!!p(e)}function h(e,t,r){if(!t){var i=Error("Missing algorithm parameter for jws.verify");throw i.code="MISSING_ALGORITHM",i}var n=u(e=a(e)),o=e.split(".",2).join(".");return s(t).verify(o,n,r)}function f(e,t){if(t=t||{},!d(e=a(e)))return null;var r,n,s=p(e);if(!s)return null;var o=(r=r||"utf8",n=e.split(".")[1],i.from(n,"base64").toString(r));return("JWT"===s.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:s,payload:o,signature:u(e)}}function m(e){var t=new n((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new n(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}c.inherits(m,o),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=d,m.verify=h,t.exports=m},258184,(e,t,r)=>{var i=e.r(614743),n=e.r(148233);r.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],r.sign=i.sign,r.verify=n.verify,r.decode=n.decode,r.isValid=n.isValid,r.createSign=function(e){return new i(e)},r.createVerify=function(e){return new n(e)}},903618,(e,t,r)=>{"use strict";var i,n,s,o,a,c,l,p,u=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},d=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleToken=void 0;let h=e.r(522734),f=e.r(366037),m=e.r(258184),g=e.r(814747),y=(0,e.r(224361).promisify)(h.readFile),v="https://www.googleapis.com/oauth2/v4/token";class b extends Error{constructor(e,t){super(e),this.code=t}}r.GoogleToken=class{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(e){i.add(this),this.transporter={request:e=>(0,f.request)(e)},n.set(this,void 0),u(this,i,"m",l).call(this,e)}hasExpired(){let e=new Date().getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}isTokenExpiring(){var e;let t=new Date().getTime(),r=null!=(e=this.eagerRefreshThresholdMillis)?e:0;return!this.rawToken||!this.expiresAt||this.expiresAt<=t+r}getToken(e,t={}){if("object"==typeof e&&(t=e,e=void 0),t=Object.assign({forceRefresh:!1},t),e){let r=e;u(this,i,"m",s).call(this,t).then(e=>r(null,e),e);return}return u(this,i,"m",s).call(this,t)}async getCredentials(e){switch(g.extname(e)){case".json":{let t=JSON.parse(await y(e,"utf8")),r=t.private_key,i=t.client_email;if(!r||!i)throw new b("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:r,clientEmail:i}}case".der":case".crt":case".pem":return{privateKey:await y(e,"utf8")};case".p12":case".pfx":throw new b("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");default:throw new b("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE")}}revokeToken(e){return e?void u(this,i,"m",c).call(this).then(()=>e(),e):u(this,i,"m",c).call(this)}},n=new WeakMap,i=new WeakSet,s=async function(e){if(u(this,n,"f")&&!e.forceRefresh)return u(this,n,"f");try{return await d(this,n,u(this,i,"m",o).call(this,e),"f")}finally{d(this,n,void 0,"f")}},o=async function(e){if(!1===this.isTokenExpiring()&&!1===e.forceRefresh)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw Error("No key or keyFile set.");if(!this.key&&this.keyFile){let e=await this.getCredentials(this.keyFile);this.key=e.privateKey,this.iss=e.clientEmail||this.iss,e.clientEmail||u(this,i,"m",a).call(this)}return u(this,i,"m",p).call(this)},a=function(){if(!this.iss)throw new b("email is required.","MISSING_CREDENTIALS")},c=async function(){if(!this.accessToken)throw Error("No token to revoke.");let e="https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken;await this.transporter.request({url:e,retry:!0}),u(this,i,"m",l).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})},l=function(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"==typeof e.scope?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis,e.transporter&&(this.transporter=e.transporter)},p=async function(){var e,t;let r=Math.floor(new Date().getTime()/1e3),i=this.additionalClaims||{},n=Object.assign({iss:this.iss,scope:this.scope,aud:v,exp:r+3600,iat:r,sub:this.sub},i),s=m.sign({header:{alg:"RS256"},payload:n,secret:this.key});try{let e=await this.transporter.request({method:"POST",url:v,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:s},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});return this.rawToken=e.data,this.expiresAt=null===e.data.expires_in||void 0===e.data.expires_in?void 0:(r+e.data.expires_in)*1e3,this.rawToken}catch(i){this.rawToken=void 0,this.tokenExpires=void 0;let r=i.response&&(null==(e=i.response)?void 0:e.data)?null==(t=i.response)?void 0:t.data:{};if(r.error){let e=r.error_description?`: ${r.error_description}`:"";i.message=`${r.error}${e}`}throw i}}},910247,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWTAccess=void 0;let i=e.r(258184),n=e.r(415733),s={alg:"RS256",typ:"JWT"};class o{constructor(e,t,r,i){this.cache=new n.LRUCache({capacity:500,maxAge:36e5}),this.email=e,this.key=t,this.keyId=r,this.eagerRefreshThresholdMillis=null!=i?i:3e5}getCachedKey(e,t){let r=e;if(t&&Array.isArray(t)&&t.length?r=e?`${e}_${t.join("_")}`:`${t.join("_")}`:"string"==typeof t&&(r=e?`${e}_${t}`:t),!r)throw Error("Scopes or url must be provided");return r}getRequestHeaders(e,t,r){let n,a=this.getCachedKey(e,r),c=this.cache.get(a),l=Date.now();if(c&&c.expiration-l>this.eagerRefreshThresholdMillis)return c.headers;let p=Math.floor(Date.now()/1e3),u=o.getExpirationTime(p);if(Array.isArray(r)&&(r=r.join(" ")),n=r?{iss:this.email,sub:this.email,scope:r,exp:u,iat:p}:{iss:this.email,sub:this.email,aud:e,exp:u,iat:p},t){for(let e in n)if(t[e])throw Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}let d=this.keyId?{...s,kid:this.keyId}:s,h=Object.assign(n,t),f=i.sign({header:d,payload:h,secret:this.key}),m={Authorization:`Bearer ${f}`};return this.cache.set(a,{expiration:1e3*u,headers:m}),m}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{e||r(Error("Must pass in a stream containing the service account auth settings."));let i="";e.setEncoding("utf8").on("data",e=>i+=e).on("error",r).on("end",()=>{try{let e=JSON.parse(i);this.fromJSON(e),t()}catch(e){r(e)}})})}}r.JWTAccess=o},24553,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWT=void 0;let i=e.r(903618),n=e.r(910247),s=e.r(800701),o=e.r(911656);class a extends s.OAuth2Client{constructor(e,t,r,i,n,s){const o=e&&"object"==typeof e?e:{email:e,keyFile:t,key:r,keyId:s,scopes:i,subject:n};super(o),this.email=o.email,this.keyFile=o.keyFile,this.key=o.key,this.keyId=o.keyId,this.scopes=o.scopes,this.subject=o.subject,this.additionalClaims=o.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){let t=new a(this);return t.scopes=e,t}async getRequestMetadataAsync(e){e=this.defaultServicePath?`https://${this.defaultServicePath}/`:e;let t=!this.hasUserScopes()&&e||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==o.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==o.DEFAULT_UNIVERSE)throw RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${o.DEFAULT_UNIVERSE}`);if(!this.apiKey&&t)if(this.additionalClaims&&this.additionalClaims.target_audience){let{tokens:e}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${e.id_token}`})}}else{let t;this.access||(this.access=new n.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis)),this.hasUserScopes()?t=this.scopes:e||(t=this.defaultScopes);let r=this.useJWTAccessWithScope||this.universeDomain!==o.DEFAULT_UNIVERSE,i=await this.access.getRequestHeaders(null!=e?e:void 0,this.additionalClaims,r?t:void 0);return{headers:this.addSharedMetadataHeaders(i)}}return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:{}}}async fetchIdToken(e){let t=new i.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e},transporter:this.transporter});if(await t.getToken({forceRefresh:!0}),!t.idToken)throw Error("Unknown error: Failed to fetch ID token");return t.idToken}hasUserScopes(){return!!this.scopes&&this.scopes.length>0}hasAnyScopes(){return!!this.scopes&&!!(this.scopes.length>0)||!!this.defaultScopes&&!!(this.defaultScopes.length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then(t=>e(null,t),e)}async authorizeAsync(){let e=await this.refreshToken();if(!e)throw Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){let t=this.createGToken(),r={access_token:(await t.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:t.expiresAt,id_token:t.idToken};return this.emit("tokens",r),{res:null,tokens:r}}createGToken(){return this.gtoken||(this.gtoken=new i.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{if(!e)throw Error("Must pass in a stream containing the service account auth settings.");let i="";e.setEncoding("utf8").on("error",r).on("data",e=>i+=e).on("end",()=>{try{let e=JSON.parse(i);this.fromJSON(e),t()}catch(e){r(e)}})})}fromAPIKey(e){if("string"!=typeof e)throw Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){let e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw Error("A key or a keyFile must be provided to getCredentials.")}}r.JWT=a},416260,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UserRefreshClient=r.USER_REFRESH_ACCOUNT_TYPE=void 0;let i=e.r(800701),n=e.r(145706);r.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class s extends i.OAuth2Client{constructor(e,t,r,i,n){const s=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,refreshToken:r,eagerRefreshThresholdMillis:i,forceRefreshOnFailure:n};super(s),this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(e){return(await this.transporter.request({...s.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:(0,n.stringify)({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:e})})).data.id_token}fromJSON(e){if(!e)throw Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}async fromStreamAsync(e){return new Promise((t,r)=>{if(!e)return r(Error("Must pass in a stream containing the user refresh token."));let i="";e.setEncoding("utf8").on("error",r).on("data",e=>i+=e).on("end",()=>{try{let e=JSON.parse(i);return this.fromJSON(e),t()}catch(e){return r(e)}})})}static fromJSON(e){let t=new s;return t.fromJSON(e),t}}r.UserRefreshClient=s},636126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Impersonated=r.IMPERSONATED_ACCOUNT_TYPE=void 0;let i=e.r(800701),n=e.r(366037),s=e.r(415733);r.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class o extends i.OAuth2Client{constructor(e={}){var t,r,n,o,a,c;if(super(e),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=null!=(t=e.sourceClient)?t:new i.OAuth2Client,this.targetPrincipal=null!=(r=e.targetPrincipal)?r:"",this.delegates=null!=(n=e.delegates)?n:[],this.targetScopes=null!=(o=e.targetScopes)?o:[],this.lifetime=null!=(a=e.lifetime)?a:3600,(0,s.originalOrCamelOptions)(e).get("universe_domain")){if(this.sourceClient.universeDomain!==this.universeDomain)throw RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`)}else this.universeDomain=this.sourceClient.universeDomain;this.endpoint=null!=(c=e.endpoint)?c:`https://iamcredentials.${this.universeDomain}`}async sign(e){await this.sourceClient.getAccessToken();let t=`projects/-/serviceAccounts/${this.targetPrincipal}`,r=`${this.endpoint}/v1/${t}:signBlob`,i={delegates:this.delegates,payload:Buffer.from(e).toString("base64")};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:r,data:i,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var e,t,r,i,s,a;try{await this.sourceClient.getAccessToken();let e="projects/-/serviceAccounts/"+this.targetPrincipal,t=`${this.endpoint}/v1/${e}:generateAccessToken`,r={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},i=await this.sourceClient.request({...o.RETRY_CONFIG,url:t,data:r,method:"POST"}),n=i.data;return this.credentials.access_token=n.accessToken,this.credentials.expiry_date=Date.parse(n.expireTime),{tokens:this.credentials,res:i}}catch(l){if(!(l instanceof Error))throw l;let o=0,c="";if(l instanceof n.GaxiosError&&(o=null==(r=null==(t=null==(e=null==l?void 0:l.response)?void 0:e.data)?void 0:t.error)?void 0:r.status,c=null==(a=null==(s=null==(i=null==l?void 0:l.response)?void 0:i.data)?void 0:s.error)?void 0:a.message),o&&c)throw l.message=`${o}: unable to impersonate: ${c}`,l;throw l.message=`unable to impersonate: ${l}`,l}}async fetchIdToken(e,t){var r,i;await this.sourceClient.getAccessToken();let n=`projects/-/serviceAccounts/${this.targetPrincipal}`,s=`${this.endpoint}/v1/${n}:generateIdToken`,a={delegates:this.delegates,audience:e,includeEmail:null==(r=null==t?void 0:t.includeEmail)||r,useEmailAzp:null==(i=null==t?void 0:t.includeEmail)||i};return(await this.sourceClient.request({...o.RETRY_CONFIG,url:s,data:a,method:"POST"})).data.token}}r.Impersonated=o},846944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OAuthClientAuthHandler=void 0,r.getErrorFromOAuthErrorResponse=function(e,t){let r=e.error,i=e.error_description,n=e.error_uri,s=`Error code ${r}`;void 0!==i&&(s+=`: ${i}`),void 0!==n&&(s+=` - ${n}`);let o=Error(s);if(t){let e=Object.keys(t);t.stack&&e.push("stack"),e.forEach(e=>{"message"!==e&&Object.defineProperty(o,e,{value:t[e],writable:!1,enumerable:!0})})}return o};let i=e.r(145706),n=e.r(859501),s=["PUT","POST","PATCH"];r.OAuthClientAuthHandler=class{constructor(e){this.clientAuthentication=e,this.crypto=(0,n.createCrypto)()}applyClientAuthenticationOptions(e,t){this.injectAuthenticatedHeaders(e,t),t||this.injectAuthenticatedRequestBody(e)}injectAuthenticatedHeaders(e,t){var r;if(t)e.headers=e.headers||{},Object.assign(e.headers,{Authorization:`Bearer ${t}}`});else if((null==(r=this.clientAuthentication)?void 0:r.confidentialClientType)==="basic"){e.headers=e.headers||{};let t=this.clientAuthentication.clientId,r=this.clientAuthentication.clientSecret||"",i=this.crypto.encodeBase64StringUtf8(`${t}:${r}`);Object.assign(e.headers,{Authorization:`Basic ${i}`})}}injectAuthenticatedRequestBody(e){var t;if((null==(t=this.clientAuthentication)?void 0:t.confidentialClientType)==="request-body"){let t=(e.method||"GET").toUpperCase();if(-1!==s.indexOf(t)){let t,r=e.headers||{};for(let e in r)if("content-type"===e.toLowerCase()&&r[e]){t=r[e].toLowerCase();break}if("application/x-www-form-urlencoded"===t){e.data=e.data||"";let t=i.parse(e.data);Object.assign(t,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),e.data=i.stringify(t)}else if("application/json"===t)e.data=e.data||{},Object.assign(e.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw Error(`${t} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw Error(`${t} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}},605332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StsCredentials=void 0;let i=e.r(366037),n=e.r(145706),s=e.r(996299),o=e.r(846944);class a extends o.OAuthClientAuthHandler{constructor(e,t){super(t),this.tokenExchangeEndpoint=e,this.transporter=new s.DefaultTransporter}async exchangeToken(e,t,r){var s,c,l;let p={grant_type:e.grantType,resource:e.resource,audience:e.audience,scope:null==(s=e.scope)?void 0:s.join(" "),requested_token_type:e.requestedTokenType,subject_token:e.subjectToken,subject_token_type:e.subjectTokenType,actor_token:null==(c=e.actingParty)?void 0:c.actorToken,actor_token_type:null==(l=e.actingParty)?void 0:l.actorTokenType,options:r&&JSON.stringify(r)};Object.keys(p).forEach(e=>{void 0===p[e]&&delete p[e]});let u={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(u,t||{});let d={...a.RETRY_CONFIG,url:this.tokenExchangeEndpoint.toString(),method:"POST",headers:u,data:n.stringify(p),responseType:"json"};this.applyClientAuthenticationOptions(d);try{let e=await this.transporter.request(d),t=e.data;return t.res=e,t}catch(e){if(e instanceof i.GaxiosError&&e.response)throw(0,o.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}r.StsCredentials=a},306560,(e,t,r)=>{"use strict";var i,n,s,o=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},a=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseExternalAccountClient=r.DEFAULT_UNIVERSE=r.CLOUD_RESOURCE_MANAGER=r.EXTERNAL_ACCOUNT_TYPE=r.EXPIRATION_TIME_OFFSET=void 0;let c=e.r(688947),l=e.r(911656),p=e.r(605332),u=e.r(415733),d="https://www.googleapis.com/auth/cloud-platform";r.EXPIRATION_TIME_OFFSET=3e5,r.EXTERNAL_ACCOUNT_TYPE="external_account",r.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";let h=e.r(791829);var f=e.r(911656);Object.defineProperty(r,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return f.DEFAULT_UNIVERSE}});class m extends l.AuthClient{constructor(e,t){var s;super({...e,...t}),i.add(this),n.set(this,null);const o=(0,u.originalOrCamelOptions)(e),a=o.get("type");if(a&&a!==r.EXTERNAL_ACCOUNT_TYPE)throw Error(`Expected "${r.EXTERNAL_ACCOUNT_TYPE}" type but received "${e.type}"`);const c=o.get("client_id"),l=o.get("client_secret"),h=null!=(s=o.get("token_url"))?s:"https://sts.{universeDomain}/v1/token".replace("{universeDomain}",this.universeDomain),f=o.get("subject_token_type"),m=o.get("workforce_pool_user_project"),g=o.get("service_account_impersonation_url"),y=o.get("service_account_impersonation"),v=(0,u.originalOrCamelOptions)(y).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(o.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),c&&(this.clientAuth={confidentialClientType:"basic",clientId:c,clientSecret:l}),this.stsCredential=new p.StsCredentials(h,this.clientAuth),this.scopes=o.get("scopes")||[d],this.cachedAccessToken=null,this.audience=o.get("audience"),this.subjectTokenType=f,this.workforcePoolUserProject=m;const b=RegExp("//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+");if(this.workforcePoolUserProject&&!this.audience.match(b))throw Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=g,this.serviceAccountImpersonationLifetime=v,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=3600),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var e;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);let t=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return(null==(e=null==t?void 0:t.groups)?void 0:e.email)||null}return null}setCredentials(e){super.setCredentials(e),this.cachedAccessToken=e}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t={Authorization:`Bearer ${e.token}`};return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async getProjectId(){let e=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(e){let t=await this.getRequestHeaders(),r=await this.transporter.request({...m.RETRY_CONFIG,headers:t,url:`${this.cloudResourceManagerURL.toString()}${e}`,responseType:"json"});return this.projectId=r.data.projectId,this.projectId}return null}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(i){let r=i.response;if(r){let i=r.status,n=r.config.data instanceof c.Readable;if(!t&&(401===i||403===i)&&!n&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw i}return r}async refreshAccessTokenAsync(){a(this,n,o(this,n,"f")||o(this,i,"m",s).call(this),"f");try{return await o(this,n,"f")}finally{a(this,n,null,"f")}}getProjectNumber(e){let t=e.match(/\/projects\/([^/]+)/);return t?t[1]:null}async getImpersonatedAccessToken(e){let t={...m.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"},responseType:"json"},r=await this.transporter.request(t),i=r.data;return{access_token:i.accessToken,expiry_date:new Date(i.expireTime).getTime(),res:r}}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}getScopesArray(){return"string"==typeof this.scopes?[this.scopes]:this.scopes||[d]}getMetricsHeaderValue(){let e=process.version.replace(/^v/,""),t=void 0!==this.serviceAccountImpersonationUrl,r=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${e} auth/${h.version} google-byoid-sdk source/${r} sa-impersonation/${t} config-lifetime/${this.configLifetimeRequested}`}}r.BaseExternalAccountClient=m,n=new WeakMap,i=new WeakSet,s=async function(){let e=await this.retrieveSubjectToken(),t={grantType:"urn:ietf:params:oauth:grant-type:token-exchange",audience:this.audience,requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:e,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[d]:this.getScopesArray()},r=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,i={"x-goog-api-client":this.getMetricsHeaderValue()},n=await this.stsCredential.exchangeToken(t,i,r);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(n.access_token):n.expires_in?this.cachedAccessToken={access_token:n.access_token,expiry_date:new Date().getTime()+1e3*n.expires_in,res:n.res}:this.cachedAccessToken={access_token:n.access_token,res:n.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}},237289,(e,t,r)=>{"use strict";var i,n,s;Object.defineProperty(r,"__esModule",{value:!0}),r.FileSubjectTokenSupplier=void 0;let o=e.r(224361),a=e.r(522734),c=(0,o.promisify)(null!=(i=a.readFile)?i:()=>{}),l=(0,o.promisify)(null!=(n=a.realpath)?n:()=>{}),p=(0,o.promisify)(null!=(s=a.lstat)?s:()=>{});r.FileSubjectTokenSupplier=class{constructor(e){this.filePath=e.filePath,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName}async getSubjectToken(e){let t,r=this.filePath;try{if(r=await l(r),!(await p(r)).isFile())throw Error()}catch(e){throw e instanceof Error&&(e.message=`The file at ${r} does not exist, or it is not a file. ${e.message}`),e}let i=await c(r,{encoding:"utf8"});if("text"===this.formatType?t=i:"json"===this.formatType&&this.subjectTokenFieldName&&(t=JSON.parse(i)[this.subjectTokenFieldName]),!t)throw Error("Unable to parse the subject_token from the credential_source file");return t}}},363057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UrlSubjectTokenSupplier=void 0,r.UrlSubjectTokenSupplier=class{constructor(e){this.url=e.url,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName,this.headers=e.headers,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getSubjectToken(e){let t,r={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers,responseType:this.formatType};if("text"===this.formatType?t=(await e.transporter.request(r)).data:"json"===this.formatType&&this.subjectTokenFieldName&&(t=(await e.transporter.request(r)).data[this.subjectTokenFieldName]),!t)throw Error("Unable to parse the subject_token from the credential_source URL");return t}}},176868,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IdentityPoolClient=void 0;let i=e.r(306560),n=e.r(415733),s=e.r(237289),o=e.r(363057);class a extends i.BaseExternalAccountClient{constructor(e,t){super(e,t);const r=(0,n.originalOrCamelOptions)(e),i=r.get("credential_source"),c=r.get("subject_token_supplier");if(!i&&!c)throw Error("A credential source or subject token supplier must be specified.");if(i&&c)throw Error("Only one of credential source or subject token supplier can be specified.");if(c)this.subjectTokenSupplier=c,this.credentialSourceType="programmatic";else{const e=(0,n.originalOrCamelOptions)(i),t=(0,n.originalOrCamelOptions)(e.get("format")),r=t.get("type")||"text",c=t.get("subject_token_field_name");if("json"!==r&&"text"!==r)throw Error(`Invalid credential_source format "${r}"`);if("json"===r&&!c)throw Error("Missing subject_token_field_name for JSON credential_source format");const l=e.get("file"),p=e.get("url"),u=e.get("headers");if(l&&p)throw Error('No valid Identity Pool "credential_source" provided, must be either file or url.');if(l&&!p)this.credentialSourceType="file",this.subjectTokenSupplier=new s.FileSubjectTokenSupplier({filePath:l,formatType:r,subjectTokenFieldName:c});else if(!l&&p)this.credentialSourceType="url",this.subjectTokenSupplier=new o.UrlSubjectTokenSupplier({url:p,formatType:r,subjectTokenFieldName:c,headers:u,additionalGaxiosOptions:a.RETRY_CONFIG});else throw Error('No valid Identity Pool "credential_source" provided, must be either file or url.')}}async retrieveSubjectToken(){return this.subjectTokenSupplier.getSubjectToken(this.supplierContext)}}r.IdentityPoolClient=a},287573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AwsRequestSigner=void 0;let i=e.r(859501),n="AWS4-HMAC-SHA256";async function s(e,t,r){return await e.signWithHmacSha256(t,r)}async function o(e,t,r,i,n){let o=await s(e,`AWS4${t}`,r),a=await s(e,o,i),c=await s(e,a,n);return await s(e,c,"aws4_request")}async function a(e){let t=e.additionalAmzHeaders||{},r=e.requestPayload||"",a=e.host.split(".")[0],c=new Date,l=c.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),p=c.toISOString().replace(/[-]/g,"").replace(/T.*/,""),u={};Object.keys(t).forEach(e=>{u[e.toLowerCase()]=t[e]}),e.securityCredentials.token&&(u["x-amz-security-token"]=e.securityCredentials.token);let d=Object.assign({host:e.host},u.date?{}:{"x-amz-date":l},u),h="",f=Object.keys(d).sort();f.forEach(e=>{h+=`${e}:${d[e]}
`});let m=f.join(";"),g=await e.crypto.sha256DigestHex(r),y=`${e.method}
${e.canonicalUri}
${e.canonicalQuerystring}
${h}
${m}
${g}`,v=`${p}/${e.region}/${a}/aws4_request`,b=`${n}
${l}
${v}
`+await e.crypto.sha256DigestHex(y),x=await o(e.crypto,e.securityCredentials.secretAccessKey,p,e.region,a),w=await s(e.crypto,x,b),E=`${n} Credential=${e.securityCredentials.accessKeyId}/${v}, SignedHeaders=${m}, Signature=${(0,i.fromArrayBufferToHex)(w)}`;return{amzDate:u.date?void 0:l,authorizationHeader:E,canonicalQuerystring:e.canonicalQuerystring}}r.AwsRequestSigner=class{constructor(e,t){this.getCredentials=e,this.region=t,this.crypto=(0,i.createCrypto)()}async getRequestOptions(e){if(!e.url)throw Error('"url" is required in "amzOptions"');let t="object"==typeof e.data?JSON.stringify(e.data):e.data,r=e.url,i=e.method||"GET",n=e.body||t,s=e.headers,o=await this.getCredentials(),c=new URL(r),l=await a({crypto:this.crypto,host:c.host,canonicalUri:c.pathname,canonicalQuerystring:c.search.substr(1),method:i,region:this.region,securityCredentials:o,requestPayload:n,additionalAmzHeaders:s}),p=Object.assign(l.amzDate?{"x-amz-date":l.amzDate}:{},{Authorization:l.authorizationHeader,host:c.host},s||{});o.token&&Object.assign(p,{"x-amz-security-token":o.token});let u={url:r,method:i,headers:p};return void 0!==n&&(u.body=n),u}}},541033,(e,t,r)=>{"use strict";var i,n,s,o,a,c,l=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultAwsSecurityCredentialsSupplier=void 0,r.DefaultAwsSecurityCredentialsSupplier=class{constructor(e){i.add(this),this.regionUrl=e.regionUrl,this.securityCredentialsUrl=e.securityCredentialsUrl,this.imdsV2SessionTokenUrl=e.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getAwsRegion(e){if(l(this,i,"a",a))return l(this,i,"a",a);let t={};if(!l(this,i,"a",a)&&this.imdsV2SessionTokenUrl&&(t["x-aws-ec2-metadata-token"]=await l(this,i,"m",n).call(this,e.transporter)),!this.regionUrl)throw Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');let r={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",responseType:"text",headers:t},s=await e.transporter.request(r);return s.data.substr(0,s.data.length-1)}async getAwsSecurityCredentials(e){if(l(this,i,"a",c))return l(this,i,"a",c);let t={};this.imdsV2SessionTokenUrl&&(t["x-aws-ec2-metadata-token"]=await l(this,i,"m",n).call(this,e.transporter));let r=await l(this,i,"m",s).call(this,t,e.transporter),a=await l(this,i,"m",o).call(this,r,t,e.transporter);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,token:a.Token}}},i=new WeakSet,n=async function(e){let t={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(await e.request(t)).data},s=async function(e,t){if(!this.securityCredentialsUrl)throw Error('Unable to determine AWS role name due to missing "options.credential_source.url"');let r={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:e};return(await t.request(r)).data},o=async function(e,t,r){return(await r.request({...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${e}`,responseType:"json",headers:t})).data},a=function(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||null},c=function(){return process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY?{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN}:null}},690220,(e,t,r)=>{"use strict";var i,n,s=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.AwsClient=void 0;let o=e.r(287573),a=e.r(306560),c=e.r(541033),l=e.r(415733);class p extends a.BaseExternalAccountClient{constructor(e,t){super(e,t);const r=(0,l.originalOrCamelOptions)(e),o=r.get("credential_source"),a=r.get("aws_security_credentials_supplier");if(!o&&!a)throw Error("A credential source or AWS security credentials supplier must be specified.");if(o&&a)throw Error("Only one of credential source or AWS security credentials supplier can be specified.");if(a)this.awsSecurityCredentialsSupplier=a,this.regionalCredVerificationUrl=s(i,i,"f",n),this.credentialSourceType="programmatic";else{const e=(0,l.originalOrCamelOptions)(o);this.environmentId=e.get("environment_id");const t=e.get("region_url"),r=e.get("url"),i=e.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new c.DefaultAwsSecurityCredentialsSupplier({regionUrl:t,securityCredentialsUrl:r,imdsV2SessionTokenUrl:i}),this.regionalCredVerificationUrl=e.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var e;let t=null==(e=this.environmentId)?void 0:e.match(/^(aws)(\d+)$/);if(t&&this.regionalCredVerificationUrl){if(1!==parseInt(t[2],10))throw Error(`aws version "${t[2]}" is not supported in the current build.`)}else throw Error('No valid AWS "credential_source" provided')}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new o.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));let e=await this.awsRequestSigner.getRequestOptions({...i.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),t=[],r=Object.assign({"x-goog-cloud-target-resource":this.audience},e.headers);for(let e in r)t.push({key:e,value:r[e]});return encodeURIComponent(JSON.stringify({url:e.url,method:e.method,headers:t}))}}r.AwsClient=p,i=p,n={value:"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"},p.AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254",p.AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254"},671006,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidSubjectTokenError=r.InvalidMessageFieldError=r.InvalidCodeFieldError=r.InvalidTokenTypeFieldError=r.InvalidExpirationTimeFieldError=r.InvalidSuccessFieldError=r.InvalidVersionFieldError=r.ExecutableResponseError=r.ExecutableResponse=void 0;let i="urn:ietf:params:oauth:token-type:saml2",n="urn:ietf:params:oauth:token-type:id_token",s="urn:ietf:params:oauth:token-type:jwt";r.ExecutableResponse=class{constructor(e){if(!e.version)throw new a("Executable response must contain a 'version' field.");if(void 0===e.success)throw new c("Executable response must contain a 'success' field.");if(this.version=e.version,this.success=e.success,this.success){if(this.expirationTime=e.expiration_time,this.tokenType=e.token_type,this.tokenType!==i&&this.tokenType!==n&&this.tokenType!==s)throw new l(`Executable response must contain a 'token_type' field when successful and it must be one of ${n}, ${s}, or ${i}.`);if(this.tokenType===i){if(!e.saml_response)throw new d(`Executable response must contain a 'saml_response' field when token_type=${i}.`);this.subjectToken=e.saml_response}else{if(!e.id_token)throw new d(`Executable response must contain a 'id_token' field when token_type=${n} or ${s}.`);this.subjectToken=e.id_token}}else{if(!e.code)throw new p("Executable response must contain a 'code' field when unsuccessful.");if(!e.message)throw new u("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=e.code,this.errorMessage=e.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return void 0!==this.expirationTime&&this.expirationTime<Math.round(Date.now()/1e3)}};class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}r.ExecutableResponseError=o;class a extends o{}r.InvalidVersionFieldError=a;class c extends o{}r.InvalidSuccessFieldError=c,r.InvalidExpirationTimeFieldError=class extends o{};class l extends o{}r.InvalidTokenTypeFieldError=l;class p extends o{}r.InvalidCodeFieldError=p;class u extends o{}r.InvalidMessageFieldError=u;class d extends o{}r.InvalidSubjectTokenError=d},920336,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PluggableAuthHandler=void 0;let i=e.r(623238),n=e.r(671006),s=e.r(233405),o=e.r(522734);class a{constructor(e){if(!e.command)throw Error("No command provided.");if(this.commandComponents=a.parseCommand(e.command),this.timeoutMillis=e.timeoutMillis,!this.timeoutMillis)throw Error("No timeoutMillis provided.");this.outputFile=e.outputFile}retrieveResponseFromExecutable(e){return new Promise((t,r)=>{let o=s.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...process.env,...Object.fromEntries(e)}}),a="";o.stdout.on("data",e=>{a+=e}),o.stderr.on("data",e=>{a+=e});let c=setTimeout(()=>(o.removeAllListeners(),o.kill(),r(Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);o.on("close",e=>{if(clearTimeout(c),0!==e)return r(new i.ExecutableError(a,e.toString()));try{let e=JSON.parse(a),r=new n.ExecutableResponse(e);return t(r)}catch(e){if(e instanceof n.ExecutableResponseError)return r(e);return r(new n.ExecutableResponseError(`The executable returned an invalid response: ${a}`))}})})}async retrieveCachedResponse(){let e;if(!this.outputFile||0===this.outputFile.length)return;try{e=await o.promises.realpath(this.outputFile)}catch(e){return}if(!(await o.promises.lstat(e)).isFile())return;let t=await o.promises.readFile(e,{encoding:"utf8"});if(""!==t)try{let e=JSON.parse(t);if(new n.ExecutableResponse(e).isValid())return new n.ExecutableResponse(e);return}catch(e){if(e instanceof n.ExecutableResponseError)throw e;throw new n.ExecutableResponseError(`The output file contained an invalid response: ${t}`)}}static parseCommand(e){let t=e.match(/(?:[^\s"]+|"[^"]*")+/g);if(!t)throw Error(`Provided command: "${e}" could not be parsed.`);for(let e=0;e<t.length;e++)'"'===t[e][0]&&'"'===t[e].slice(-1)&&(t[e]=t[e].slice(1,-1));return t}}r.PluggableAuthHandler=a},623238,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PluggableAuthClient=r.ExecutableError=void 0;let i=e.r(306560),n=e.r(671006),s=e.r(920336);class o extends Error{constructor(e,t){super(`The executable failed with exit code: ${t} and error message: ${e}.`),this.code=t,Object.setPrototypeOf(this,new.target.prototype)}}r.ExecutableError=o;class a extends i.BaseExternalAccountClient{constructor(e,t){if(super(e,t),!e.credential_source.executable||(this.command=e.credential_source.executable.command,!this.command))throw Error('No valid Pluggable Auth "credential_source" provided.');if(void 0===e.credential_source.executable.timeout_millis)this.timeoutMillis=3e4;else if(this.timeoutMillis=e.credential_source.executable.timeout_millis,this.timeoutMillis<5e3||this.timeoutMillis>12e4)throw Error("Timeout must be between 5000120000 milliseconds.");this.outputFile=e.credential_source.executable.output_file,this.handler=new s.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){let e;if("1"!==process.env.GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES)throw Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");if(this.outputFile&&(e=await this.handler.retrieveCachedResponse()),!e){let t=new Map;t.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),t.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),t.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&t.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);let r=this.getServiceAccountEmail();r&&t.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",r),e=await this.handler.retrieveResponseFromExecutable(t)}if(e.version>1)throw Error("Version of executable is not currently supported, maximum supported version is 1.");if(!e.success)throw new o(e.errorMessage,e.errorCode);if(this.outputFile&&!e.expirationTime)throw new n.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(e.isExpired())throw Error("Executable response is expired.");return e.subjectToken}}r.PluggableAuthClient=a},145037,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalAccountClient=void 0;let i=e.r(306560),n=e.r(176868),s=e.r(690220),o=e.r(623238);r.ExternalAccountClient=class{constructor(){throw Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(e,t){var r,a;return e&&e.type===i.EXTERNAL_ACCOUNT_TYPE?(null==(r=e.credential_source)?void 0:r.environment_id)?new s.AwsClient(e,t):(null==(a=e.credential_source)?void 0:a.executable)?new o.PluggableAuthClient(e,t):new n.IdentityPoolClient(e,t):null}}},374158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalAccountAuthorizedUserClient=r.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;let i=e.r(911656),n=e.r(846944),s=e.r(366037),o=e.r(688947),a=e.r(306560);r.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";class c extends n.OAuthClientAuthHandler{constructor(e,t,r){super(r),this.url=e,this.transporter=t}async refreshToken(e,t){let r=new URLSearchParams({grant_type:"refresh_token",refresh_token:e}),i={"Content-Type":"application/x-www-form-urlencoded",...t},o={...c.RETRY_CONFIG,url:this.url,method:"POST",headers:i,data:r.toString(),responseType:"json"};this.applyClientAuthenticationOptions(o);try{let e=await this.transporter.request(o),t=e.data;return t.res=e,t}catch(e){if(e instanceof s.GaxiosError&&e.response)throw(0,n.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}class l extends i.AuthClient{constructor(e,t){var r;super({...e,...t}),e.universe_domain&&(this.universeDomain=e.universe_domain),this.refreshToken=e.refresh_token;const i={confidentialClientType:"basic",clientId:e.client_id,clientSecret:e.client_secret};this.externalAccountAuthorizedUserHandler=new c(null!=(r=e.token_url)?r:"https://sts.{universeDomain}/v1/oauthtoken".replace("{universeDomain}",this.universeDomain),this.transporter,i),this.cachedAccessToken=null,this.quotaProjectId=e.quota_project_id,"number"!=typeof(null==t?void 0:t.eagerRefreshThresholdMillis)?this.eagerRefreshThresholdMillis=a.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=t.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(null==t?void 0:t.forceRefreshOnFailure)}async getAccessToken(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t={Authorization:`Bearer ${e.token}`};return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(i){let r=i.response;if(r){let i=r.status,n=r.config.data instanceof o.Readable;if(!t&&(401===i||403===i)&&!n&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw i}return r}async refreshAccessTokenAsync(){let e=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:e.access_token,expiry_date:new Date().getTime()+1e3*e.expires_in,res:e.res},void 0!==e.refresh_token&&(this.refreshToken=e.refresh_token),this.cachedAccessToken}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}r.ExternalAccountAuthorizedUserClient=l},264794,(e,t,r)=>{"use strict";var i,n,s,o,a=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},c=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAuth=r.GoogleAuthExceptionMessages=r.CLOUD_SDK_CLIENT_ID=void 0;let l=e.r(233405),p=e.r(522734),u=e.r(482e3),d=e.r(446786),h=e.r(814747),f=e.r(859501),m=e.r(996299),g=e.r(70814),y=e.r(180732),v=e.r(880243),b=e.r(24553),x=e.r(416260),w=e.r(636126),E=e.r(145037),_=e.r(306560),A=e.r(911656),T=e.r(374158),k=e.r(415733);r.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com",r.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:"Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_CREDENTIALS_FOUND:"Unable to find credentials in current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:"Unable to detect a Universe Domain in the current environment.\nTo learn more about Universe Domain retrieval, visit: \nhttps://cloud.google.com/compute/docs/metadata/predefined-metadata-keys"};class O{get isGCE(){return this.checkIsGCE}constructor(e={}){if(i.add(this),this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,n.set(this,null),this.clientOptions={},this._cachedProjectId=e.projectId||null,this.cachedCredential=e.authClient||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.clientOptions=e.clientOptions||{},this.jsonContent=e.credentials||null,this.apiKey=e.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw RangeError(r.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);e.universeDomain&&(this.clientOptions.universeDomain=e.universeDomain)}setGapicJWTValues(e){e.defaultServicePath=this.defaultServicePath,e.useJWTAccessWithScope=this.useJWTAccessWithScope,e.defaultScopes=this.defaultScopes}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdOptional(){try{return await this.getProjectId()}catch(e){if(e instanceof Error&&e.message===r.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw e}}async findAndCacheProjectId(){let e=null;if((e=await this.getProductionProjectId())||(e=await this.getFileProjectId()),e||(e=await this.getDefaultServiceProjectId()),e||(e=await this.getGCEProjectId()),e||(e=await this.getExternalAccountClientProjectId()),e)return this._cachedProjectId=e,e;throw Error(r.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var e;let t;try{(t=await u.universe("universe-domain"))||(t=A.DEFAULT_UNIVERSE)}catch(r){if(r&&(null==(e=null==r?void 0:r.response)?void 0:e.status)===404)t=A.DEFAULT_UNIVERSE;else throw r}return t}async getUniverseDomain(){let e=(0,k.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{null!=e||(e=(await this.getClient()).universeDomain)}catch(t){null!=e||(e=A.DEFAULT_UNIVERSE)}return e}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then(e=>t(null,e.credential,e.projectId),t)}async getApplicationDefaultAsync(e={}){let t;if(this.cachedCredential)return await a(this,i,"m",s).call(this,this.cachedCredential,null);if((t=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e))||(t=await this._tryGetApplicationCredentialsFromWellKnownFile(e)))return t instanceof b.JWT?t.scopes=this.scopes:t instanceof _.BaseExternalAccountClient&&(t.scopes=this.getAnyScopes()),await a(this,i,"m",s).call(this,t);if(await this._checkIsGCE())return e.scopes=this.getAnyScopes(),await a(this,i,"m",s).call(this,new g.Compute(e));throw Error(r.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=u.getGCPResidency()||await u.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){let t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(e){throw e instanceof Error&&(e.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${e.message}`),e}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let t=null;if(this._isWindows())t=process.env.APPDATA;else{let e=process.env.HOME;e&&(t=h.join(e,".config"))}return(t&&(t=h.join(t,"gcloud","application_default_credentials.json"),p.existsSync(t)||(t=null)),t)?await this._getApplicationCredentialsFromFilePath(t,e):null}async _getApplicationCredentialsFromFilePath(e,t={}){if(!e||0===e.length)throw Error("The file path is invalid.");try{if(e=p.realpathSync(e),!p.lstatSync(e).isFile())throw Error()}catch(t){throw t instanceof Error&&(t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`),t}let r=p.createReadStream(e);return this.fromStream(r,t)}fromImpersonatedJSON(e){var t,r,i,n;if(!e)throw Error("Must pass in a JSON object containing an  impersonated refresh token");if(e.type!==w.IMPERSONATED_ACCOUNT_TYPE)throw Error(`The incoming JSON object does not have the "${w.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!e.source_credentials)throw Error("The incoming JSON object does not contain a source_credentials field");if(!e.service_account_impersonation_url)throw Error("The incoming JSON object does not contain a service_account_impersonation_url field");let s=this.fromJSON(e.source_credentials);if((null==(t=e.service_account_impersonation_url)?void 0:t.length)>256)throw RangeError(`Target principal is too long: ${e.service_account_impersonation_url}`);let o=null==(i=null==(r=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(e.service_account_impersonation_url))?void 0:r.groups)?void 0:i.target;if(!o)throw RangeError(`Cannot extract target principal from ${e.service_account_impersonation_url}`);let a=null!=(n=this.getAnyScopes())?n:[];return new w.Impersonated({...e,sourceClient:s,targetPrincipal:o,targetScopes:Array.isArray(a)?a:[a]})}fromJSON(e,t={}){let r,i=(0,k.originalOrCamelOptions)(t).get("universe_domain");return e.type===x.USER_REFRESH_ACCOUNT_TYPE?(r=new x.UserRefreshClient(t)).fromJSON(e):e.type===w.IMPERSONATED_ACCOUNT_TYPE?r=this.fromImpersonatedJSON(e):e.type===_.EXTERNAL_ACCOUNT_TYPE?(r=E.ExternalAccountClient.fromJSON(e,t)).scopes=this.getAnyScopes():e.type===T.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?r=new T.ExternalAccountAuthorizedUserClient(e,t):(t.scopes=this.scopes,r=new b.JWT(t),this.setGapicJWTValues(r),r.fromJSON(e)),i&&(r.universeDomain=i),r}_cacheClientFromJSON(e,t){let r=this.fromJSON(e,t);return this.jsonContent=e,this.cachedCredential=r,r}fromStream(e,t={},r){let i={};if("function"==typeof t?r=t:i=t,!r)return this.fromStreamAsync(e,i);this.fromStreamAsync(e,i).then(e=>r(null,e),r)}fromStreamAsync(e,t){return new Promise((r,i)=>{if(!e)throw Error("Must pass in a stream containing the Google auth settings.");let n=[];e.setEncoding("utf8").on("error",i).on("data",e=>n.push(e)).on("end",()=>{try{try{let e=JSON.parse(n.join("")),i=this._cacheClientFromJSON(e,t);return r(i)}catch(t){if(!this.keyFilename)throw t;let e=new b.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=e,this.setGapicJWTValues(e),r(e)}}catch(e){return i(e)}})})}fromAPIKey(e,t={}){return new b.JWT({...t,apiKey:e})}_isWindows(){let e=d.platform();return!!e&&!!(e.length>=3)&&"win"===e.substring(0,3).toLowerCase()}async getDefaultServiceProjectId(){return new Promise(e=>{(0,l.exec)("gcloud config config-helper --format json",(t,r)=>{if(!t&&r)try{let t=JSON.parse(r).configuration.properties.core.project;e(t);return}catch(e){}e(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){let e=await this.getClient();if(e&&e.projectId)return e.projectId}let e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getExternalAccountClientProjectId(){if(!this.jsonContent||this.jsonContent.type!==_.EXTERNAL_ACCOUNT_TYPE)return null;let e=await this.getClient();return await e.getProjectId()}async getGCEProjectId(){try{return await u.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then(t=>e(null,t),e)}async getCredentialsAsync(){let e=await this.getClient();if(e instanceof w.Impersonated)return{client_email:e.getTargetPrincipal()};if(e instanceof _.BaseExternalAccountClient){let t=e.getServiceAccountEmail();if(t)return{client_email:t,universe_domain:e.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){let[e,t]=await Promise.all([u.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:e,universe_domain:t}}throw Error(r.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;c(this,n,a(this,n,"f")||a(this,i,"m",o).call(this),"f");try{return await a(this,n,"f")}finally{c(this,n,null,"f")}}async getIdTokenClient(e){let t=await this.getClient();if(!("fetchIdToken"in t))throw Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new y.IdTokenClient({targetAudience:e,idTokenProvider:t})}async getAccessToken(){let e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e){let t=(e=e||{}).url||e.uri,r=await this.getClient(),i=await r.getRequestHeaders(t);return e.headers=Object.assign(e.headers||{},i),e}async request(e){return(await this.getClient()).request(e)}getEnv(){return(0,v.getEnv)()}async sign(e,t){let r=await this.getClient(),i=await this.getUniverseDomain();if(t=t||`https://iamcredentials.${i}/v1/projects/-/serviceAccounts/`,r instanceof w.Impersonated)return(await r.sign(e)).signedBlob;let n=(0,f.createCrypto)();if(r instanceof b.JWT&&r.key)return await n.sign(r.key,e);let s=await this.getCredentials();if(!s.client_email)throw Error("Cannot sign data without `client_email`.");return this.signBlob(n,s.client_email,e,t)}async signBlob(e,t,r,i){let n=new URL(i+`${t}:signBlob`);return(await this.request({method:"POST",url:n.href,data:{payload:e.encodeBase64StringUtf8(r)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}r.GoogleAuth=O,n=new WeakMap,i=new WeakSet,s=async function(e,t=process.env.GOOGLE_CLOUD_QUOTA_PROJECT||null){let r=await this.getProjectIdOptional();return t&&(e.quotaProjectId=t),this.cachedCredential=e,{credential:e,projectId:r}},o=async function(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){let e=h.resolve(this.keyFilename),t=p.createReadStream(e);return await this.fromStreamAsync(t,this.clientOptions)}if(this.apiKey){let e=await this.fromAPIKey(this.apiKey,this.clientOptions);e.scopes=this.scopes;let{credential:t}=await a(this,i,"m",s).call(this,e);return t}{let{credential:e}=await this.getApplicationDefaultAsync(this.clientOptions);return e}},O.DefaultTransporter=m.DefaultTransporter},403994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IAMAuth=void 0,r.IAMAuth=class{constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}},956777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DownscopedClient=r.EXPIRATION_TIME_OFFSET=r.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;let i=e.r(688947),n=e.r(911656),s=e.r(605332);r.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,r.EXPIRATION_TIME_OFFSET=3e5;class o extends n.AuthClient{constructor(e,t,i,n){if(super({...i,quotaProjectId:n}),this.authClient=e,this.credentialAccessBoundary=t,0===t.accessBoundary.accessBoundaryRules.length)throw Error("At least one access boundary rule needs to be defined.");if(t.accessBoundary.accessBoundaryRules.length>r.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw Error(`The provided access boundary has more than ${r.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(const e of t.accessBoundary.accessBoundaryRules)if(0===e.availablePermissions.length)throw Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new s.StsCredentials(`https://sts.${this.universeDomain}/v1/token`),this.cachedDownscopedAccessToken=null}setCredentials(e){if(!e.expiry_date)throw Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(e),this.cachedDownscopedAccessToken=e}async getAccessToken(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){let e=await this.getAccessToken(),t={Authorization:`Bearer ${e.token}`};return this.addSharedMetadataHeaders(t)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{let t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(n){let r=n.response;if(r){let n=r.status,s=r.config.data instanceof i.Readable;if(!t&&(401===n||403===n)&&!s&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw n}return r}async refreshAccessTokenAsync(){var e;let t=(await this.authClient.getAccessToken()).token,r=await this.stsCredential.exchangeToken({grantType:"urn:ietf:params:oauth:grant-type:token-exchange",requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:t,subjectTokenType:"urn:ietf:params:oauth:token-type:access_token"},void 0,this.credentialAccessBoundary),i=(null==(e=this.authClient.credentials)?void 0:e.expiry_date)||null,n=r.expires_in?new Date().getTime()+1e3*r.expires_in:i;return this.cachedDownscopedAccessToken={access_token:r.access_token,expiry_date:n,res:r.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(e){let t=new Date().getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}r.DownscopedClient=o},853534,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PassThroughClient=void 0;let i=e.r(911656);class n extends i.AuthClient{async request(e){return this.transporter.request(e)}async getAccessToken(){return{}}async getRequestHeaders(){return{}}}r.PassThroughClient=n,new n().getAccessToken()},947334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAuth=r.auth=r.DefaultTransporter=r.PassThroughClient=r.ExecutableError=r.PluggableAuthClient=r.DownscopedClient=r.BaseExternalAccountClient=r.ExternalAccountClient=r.IdentityPoolClient=r.AwsRequestSigner=r.AwsClient=r.UserRefreshClient=r.LoginTicket=r.ClientAuthentication=r.OAuth2Client=r.CodeChallengeMethod=r.Impersonated=r.JWT=r.JWTAccess=r.IdTokenClient=r.IAMAuth=r.GCPEnv=r.Compute=r.DEFAULT_UNIVERSE=r.AuthClient=r.gaxios=r.gcpMetadata=void 0;let i=e.r(264794);Object.defineProperty(r,"GoogleAuth",{enumerable:!0,get:function(){return i.GoogleAuth}}),r.gcpMetadata=e.r(482e3),r.gaxios=e.r(366037);var n=e.r(911656);Object.defineProperty(r,"AuthClient",{enumerable:!0,get:function(){return n.AuthClient}}),Object.defineProperty(r,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return n.DEFAULT_UNIVERSE}});var s=e.r(70814);Object.defineProperty(r,"Compute",{enumerable:!0,get:function(){return s.Compute}});var o=e.r(880243);Object.defineProperty(r,"GCPEnv",{enumerable:!0,get:function(){return o.GCPEnv}});var a=e.r(403994);Object.defineProperty(r,"IAMAuth",{enumerable:!0,get:function(){return a.IAMAuth}});var c=e.r(180732);Object.defineProperty(r,"IdTokenClient",{enumerable:!0,get:function(){return c.IdTokenClient}});var l=e.r(910247);Object.defineProperty(r,"JWTAccess",{enumerable:!0,get:function(){return l.JWTAccess}});var p=e.r(24553);Object.defineProperty(r,"JWT",{enumerable:!0,get:function(){return p.JWT}});var u=e.r(636126);Object.defineProperty(r,"Impersonated",{enumerable:!0,get:function(){return u.Impersonated}});var d=e.r(800701);Object.defineProperty(r,"CodeChallengeMethod",{enumerable:!0,get:function(){return d.CodeChallengeMethod}}),Object.defineProperty(r,"OAuth2Client",{enumerable:!0,get:function(){return d.OAuth2Client}}),Object.defineProperty(r,"ClientAuthentication",{enumerable:!0,get:function(){return d.ClientAuthentication}});var h=e.r(442602);Object.defineProperty(r,"LoginTicket",{enumerable:!0,get:function(){return h.LoginTicket}});var f=e.r(416260);Object.defineProperty(r,"UserRefreshClient",{enumerable:!0,get:function(){return f.UserRefreshClient}});var m=e.r(690220);Object.defineProperty(r,"AwsClient",{enumerable:!0,get:function(){return m.AwsClient}});var g=e.r(287573);Object.defineProperty(r,"AwsRequestSigner",{enumerable:!0,get:function(){return g.AwsRequestSigner}});var y=e.r(176868);Object.defineProperty(r,"IdentityPoolClient",{enumerable:!0,get:function(){return y.IdentityPoolClient}});var v=e.r(145037);Object.defineProperty(r,"ExternalAccountClient",{enumerable:!0,get:function(){return v.ExternalAccountClient}});var b=e.r(306560);Object.defineProperty(r,"BaseExternalAccountClient",{enumerable:!0,get:function(){return b.BaseExternalAccountClient}});var x=e.r(956777);Object.defineProperty(r,"DownscopedClient",{enumerable:!0,get:function(){return x.DownscopedClient}});var w=e.r(623238);Object.defineProperty(r,"PluggableAuthClient",{enumerable:!0,get:function(){return w.PluggableAuthClient}}),Object.defineProperty(r,"ExecutableError",{enumerable:!0,get:function(){return w.ExecutableError}});var E=e.r(853534);Object.defineProperty(r,"PassThroughClient",{enumerable:!0,get:function(){return E.PassThroughClient}});var _=e.r(996299);Object.defineProperty(r,"DefaultTransporter",{enumerable:!0,get:function(){return _.DefaultTransporter}}),r.auth=new i.GoogleAuth},862098,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingProjectIdError=r.replaceProjectIdToken=void 0;let i=e.r(688947);r.replaceProjectIdToken=function e(t,r){if(Array.isArray(t)&&(t=t.map(t=>e(t,r))),null!==t&&"object"==typeof t&&!(t instanceof Buffer)&&!(t instanceof i.Stream)&&"function"==typeof t.hasOwnProperty)for(let i in t)t.hasOwnProperty(i)&&(t[i]=e(t[i],r));if("string"==typeof t&&t.indexOf("{{projectId}}")>-1){if(!r||"{{projectId}}"===r)throw new n;t=t.replace(/{{projectId}}/g,r)}return t};class n extends Error{constructor(){super(...arguments),this.message=`Sorry, we cannot connect to Cloud Services without a project
    ID. You may specify one with an environment variable named
    "GOOGLE_CLOUD_PROJECT".`.replace(/ +/g," ")}}r.MissingProjectIdError=n},976504,(e,t,r)=>{"use strict";let{PassThrough:i}=e.r(688947),n=e.r(725705),s=()=>{};"undefined"!=typeof process&&"env"in process&&"object"==typeof process.env&&"retry-request"===process.env.DEBUG&&(s=e=>{console.log("retry-request:",e)});let o={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(e){let t,r=[[100,199],[429,429],[500,599]],i=e.statusCode;for(s(`Response status: ${i}`);t=r.shift();)if(i>=t[0]&&i<=t[1])return!0}};function a(e){let{maxRetryDelay:t,retryDelayMultiplier:r,retryNumber:i,timeOfFirstRequest:n,totalTimeout:s}=e;return Math.min(1e3*Math.pow(r,i)+Math.floor(1e3*Math.random()),1e3*s-(Date.now()-n),1e3*t)}t.exports=function(e,t,r){let c,l,p,u;"string"==typeof e&&(e={url:e});let d="function"!=typeof arguments[arguments.length-1];"function"==typeof t&&(r=t);let h=t&&"number"==typeof t.currentRetryAttempt;if(void 0===(t=n({},o,t)).request)throw Error("A request library must be provided to retry-request.");let f=t.currentRetryAttempt,m=0,g=!1;d&&((c=new i({objectMode:t.objectMode})).abort=v);let y=Date.now();if(f>0?x(f):b(),d)return c;return{abort:function(){u&&u.abort&&u.abort()}};function v(){p=null,l&&(l.abort&&l.abort(),l.cancel&&l.cancel(),l.destroy?l.destroy():l.end&&l.end())}function b(){let r=!1;function n(e=[]){r||(r=!0,c.emit("complete",...e))}f++,s(`Current retry attempt: ${f}`),d?(g=!1,p=new i({objectMode:t.objectMode}),l=t.request(e),setImmediate(()=>{c.emit("request")}),l.on("error",e=>{g||(g=!0,w(e))}).on("response",(e,t)=>{g||(g=!0,w(null,e,t))}).on("complete",(...e)=>n(e)).on("finish",(...e)=>n(e)),l.pipe(p)):u=t.request(e,w)}function x(e){d&&v();let r=a({maxRetryDelay:t.maxRetryDelay,retryDelayMultiplier:t.retryDelayMultiplier,retryNumber:e,timeOfFirstRequest:y,totalTimeout:t.totalTimeout});if(s(`Next retry delay: ${r}`),r<=0){m=t.noResponseRetries+1;return}setTimeout(b,r)}function w(e,i,n){e?++m<=t.noResponseRetries?x(m):d?(c.emit("error",e),c.end()):r(e,i,n):(h?f:f-1)<t.retries&&t.shouldRetryFn(i)?x(f):d?(c.emit("response",i),p.pipe(c),l.on("error",e=>{c.destroy(e)})):r(e,i,n)}},t.exports.defaults=o,t.exports.getNextRetryDelay=a},658569,e=>{"use strict";let t,r;e.s([],458218),e.i(458218);var i=e.i(254799);let n=new Uint8Array(256),s=n.length;function o(){return s>n.length-16&&(i.default.randomFillSync(n),s=0),n.slice(s,s+=16)}let a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function p(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}let u=0,d=0,h=function(e){let t;if(!c(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function f(e,t,r){function i(e,i,n,s){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=h(i)),(null==(o=i)?void 0:o.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,n){s=s||0;for(let e=0;e<16;++e)n[s+e]=a[e];return n}return p(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}let m=f("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("md5").update(e).digest()}),g={randomUUID:i.default.randomUUID},y=f("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,h,"stringify",0,function(e,t=0){let r=p(e,t);if(!c(r))throw TypeError("Stringified UUID is invalid");return r},"v1",0,function(e,i,n){let s=i&&n||0,a=i||Array(16),c=(e=e||{}).node||t,l=void 0!==e.clockseq?e.clockseq:r;if(null==c||null==l){let i=e.random||(e.rng||o)();null==c&&(c=t=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==l&&(l=r=(i[6]<<8|i[7])&16383)}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:d+1,m=h-u+(f-d)/1e4;if(m<0&&void 0===e.clockseq&&(l=l+1&16383),(m<0||h>u)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,d=f,r=l;let g=((0xfffffff&(h+=122192928e5))*1e4+f)%0x100000000;a[s++]=g>>>24&255,a[s++]=g>>>16&255,a[s++]=g>>>8&255,a[s++]=255&g;let y=h/0x100000000*1e4&0xfffffff;a[s++]=y>>>8&255,a[s++]=255&y,a[s++]=y>>>24&15|16,a[s++]=y>>>16&255,a[s++]=l>>>8|128,a[s++]=255&l;for(let e=0;e<6;++e)a[s+e]=c[e];return i||p(a)},"v3",0,m,"v4",0,function(e,t,r){if(g.randomUUID&&!t&&!e)return g.randomUUID();let i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return p(i)},"v5",0,y,"validate",0,c,"version",0,function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}],658569)},345264,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,{signal:r}={}){return new Promise((i,n)=>{function s(){null==r||r.removeEventListener("abort",s),e.removeListener(t,o),e.removeListener("error",a)}function o(...e){s(),i(e)}function a(e){s(),n(e)}null==r||r.addEventListener("abort",s),e.on(t,o),e.on("error",a)})}},297637,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let s=n(e.r(504446)),o=n(e.r(755004)),a=n(e.r(792509)),c=n(e.r(817293)),l=n(e.r(345264)),p=e.r(474621),u=(0,c.default)("http-proxy-agent");class d extends p.Agent{constructor(e){let t;if(!(t="string"==typeof e?a.default.parse(e):e))throw Error("an HTTP(S) proxy server `host` and `port` must be specified!");u("Creating new HttpProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);this.secureProxy=t.secureProxy||function(e){return"string"==typeof e&&/^https:?$/i.test(e)}(r.protocol),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return i(this,void 0,void 0,function*(){let r,{proxy:i,secureProxy:n}=this,c=a.default.parse(e.path);if(c.protocol||(c.protocol="http:"),c.hostname||(c.hostname=t.hostname||t.host||null),null==c.port&&(t.port,1)&&(c.port=String(t.port)),"80"===c.port&&(c.port=""),e.path=a.default.format(c),i.auth&&e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(i.auth).toString("base64")}`),n?(u("Creating `tls.Socket`: %o",i),r=o.default.connect(i)):(u("Creating `net.Socket`: %o",i),r=s.default.connect(i)),e._header){let t,r;u("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(u("Patching connection write() output buffer with updated header"),r=(t=e.output[0]).indexOf("\r\n\r\n")+4,e.output[0]=e._header+t.substring(r),u("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(u("Patching connection write() output buffer with updated header"),r=(t=e.outputData[0].data).indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+t.substring(r),u("Output buffer: %o",e.outputData[0].data))}return yield(0,l.default)(r,"connect"),r})}}r.default=d},621654,(e,t,r)=>{"use strict";var i;let n=(e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(e.r(297637));function s(e){return new n.default(e)}(i=s||(s={})).HttpProxyAgent=n.default,i.prototype=n.default.prototype,t.exports=s},913797,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getAgent=r.pool=void 0;let i=e.r(921517),n=e.r(524836),s=e.r(792509);r.pool=new Map,r.getAgent=function(t,o){let a=t.startsWith("http://"),c=o.proxy||process.env.HTTP_PROXY||process.env.http_proxy||process.env.HTTPS_PROXY||process.env.https_proxy,l=Object.assign({},o.pool),p=!!o.proxy||function(e){let t=process.env.NO_PROXY||process.env.no_proxy;if(!t)return!0;let r=new URL(e);for(let e of t.split(",")){let t=e.trim();if(t===r.origin||t===r.hostname)return!1;if(t.startsWith("*.")||t.startsWith(".")){let e=t.replace(/^\*\./,".");if(r.hostname.endsWith(e))return!1}}return!0}(t);if(c&&p)return new(a?e.r(621654):e.r(312111))({...(0,s.parse)(c),...l});let u=a?"http":"https";if(o.forever&&(u+=":forever",!r.pool.has(u))){let e=a?i.Agent:n.Agent;r.pool.set(u,new e({...l,keepAlive:!0}))}return r.pool.get(u)}},269326,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TeenyStatistics=r.TeenyStatisticsWarning=void 0;class i extends Error{constructor(e){super(e),this.threshold=0,this.type="",this.value=0,this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}r.TeenyStatisticsWarning=i,i.CONCURRENT_REQUESTS="ConcurrentRequestsExceededWarning";class n{constructor(e){this._concurrentRequests=0,this._didConcurrentRequestWarn=!1,this._options=n._prepareOptions(e)}getOptions(){return Object.assign({},this._options)}setOptions(e){let t=this._options;return this._options=n._prepareOptions(e),t}get counters(){return{concurrentRequests:this._concurrentRequests}}requestStarting(){if(this._concurrentRequests++,this._options.concurrentRequests>0&&this._concurrentRequests>=this._options.concurrentRequests&&!this._didConcurrentRequestWarn){this._didConcurrentRequestWarn=!0;let e=new i("Possible excessive concurrent requests detected. "+this._concurrentRequests+" requests in-flight, which exceeds the configured threshold of "+this._options.concurrentRequests+". Use the TEENY_REQUEST_WARN_CONCURRENT_REQUESTS environment variable or the concurrentRequests option of teeny-request to increase or disable (0) this warning.");e.type=i.CONCURRENT_REQUESTS,e.value=this._concurrentRequests,e.threshold=this._options.concurrentRequests,process.emitWarning(e)}}requestFinished(){this._concurrentRequests--}static _prepareOptions({concurrentRequests:e}={}){let t=this.DEFAULT_WARN_CONCURRENT_REQUESTS,r=Number(process.env.TEENY_REQUEST_WARN_CONCURRENT_REQUESTS);return void 0!==e?t=e:Number.isNaN(r)||(t=r),{concurrentRequests:t}}}r.TeenyStatistics=n,n.DEFAULT_WARN_CONCURRENT_REQUESTS=5e3},556946,(e,t,r)=>{"use strict";t.exports=function(e,t,r,i){if(!e||!t||!e[t])throw Error("You must provide an object and a key for an existing method");i||(i=r,r={}),i=i||function(){},r.callthrough=r.callthrough||!1,r.calls=r.calls||0;var n=0===r.calls,s=e[t].bind(e);e[t]=function(){var o,a=[].slice.call(arguments);return r.callthrough&&(o=s.apply(e,a)),o=i.apply(e,a)||o,n||0!=--r.calls||(e[t]=s),o}}},82941,(e,t,r)=>{"use strict";var i=e.r(556946);t.exports=function(e){var t={callthrough:!0,calls:1};return i(e=e||this,"_read",t,e.emit.bind(e,"reading")),i(e,"_write",t,e.emit.bind(e,"writing")),e}},563452,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.teenyRequest=r.RequestError=void 0;let i=e.r(456569),n=e.r(688947),s=e.r(658569),o=e.r(913797),a=e.r(269326),c=e.r(82941);function l(e,t){let r={};r.agent=e.agent||!1,r.headers=e.headers||{},r.href=t.url;let i={};return t.headers.forEach((e,t)=>i[t]=e),Object.assign(t.body,{statusCode:t.status,statusMessage:t.statusText,request:r,body:t.body,headers:i,toJSON:()=>({headers:i})})}function p(t,r){let{uri:a,options:u}=function(t){let r={method:t.method||"GET",...t.timeout&&{timeout:t.timeout},..."boolean"==typeof t.gzip&&{compress:t.gzip}};"object"==typeof t.json?(t.headers=t.headers||{},t.headers["Content-Type"]="application/json",r.body=JSON.stringify(t.json)):Buffer.isBuffer(t.body)?r.body=t.body:"string"!=typeof t.body?r.body=JSON.stringify(t.body):r.body=t.body,r.headers=t.headers;let i=t.uri||t.url;if(!i)throw Error("Missing uri or url in reqOpts.");return(!0===t.useQuerystring||"object"==typeof t.qs)&&(i=i+"?"+e.r(145706).stringify(t.qs)),r.agent=(0,o.getAgent)(i,t),{uri:i,options:r}}(t),d=t.multipart;if(t.multipart&&2===d.length){if(!r)throw Error("Multipart without callback is not implemented.");let e=s.v4();u.headers["Content-Type"]=`multipart/related; boundary=${e}`,u.body=function(e,t){let r=`--${e}--`,i=new n.PassThrough;for(let n of t){let t=`--${e}\r
Content-Type: ${n["Content-Type"]}\r
\r
`;i.write(t),"string"==typeof n.body?(i.write(n.body),i.write("\r\n")):(n.body.pipe(i,{end:!1}),n.body.on("end",()=>{i.write("\r\n"),i.write(r),i.end()}))}return i}(e,d),p.stats.requestStarting(),(0,i.default)(a,u).then(e=>{p.stats.requestFinished();let t=e.headers.get("content-type"),i=l(u,e),n=i.body;"application/json"===t||"application/json; charset=utf-8"===t?e.json().then(e=>{i.body=e,r(null,i,e)},e=>{r(e,i,n)}):e.text().then(e=>{i.body=e,r(null,i,e)},e=>{r(e,i,n)})},e=>{p.stats.requestFinished(),r(e,null,null)});return}if(void 0===r){let e,t=c(new n.PassThrough);return t.once("reading",()=>{e?(0,n.pipeline)(e,t,()=>{}):t.once("response",()=>{(0,n.pipeline)(e,t,()=>{})})}),u.compress=!1,p.stats.requestStarting(),(0,i.default)(a,u).then(r=>{p.stats.requestFinished(),(e=r.body).on("error",e=>{t.emit("error",e)});let i=l(u,r);t.emit("response",i)},e=>{p.stats.requestFinished(),t.emit("error",e)}),t}p.stats.requestStarting(),(0,i.default)(a,u).then(e=>{p.stats.requestFinished();let t=e.headers.get("content-type"),i=l(u,e),n=i.body;"application/json"===t||"application/json; charset=utf-8"===t?204===i.statusCode?r(null,i,n):e.json().then(e=>{i.body=e,r(null,i,e)},e=>{r(e,i,n)}):e.text().then(t=>{let i=l(u,e);i.body=t,r(null,i,t)},e=>{r(e,i,n)})},e=>{p.stats.requestFinished(),r(e,null,null)})}r.RequestError=class extends Error{},r.teenyRequest=p,p.defaults=e=>(t,r)=>{let i={...e,...t};if(void 0===r)return p(i);p(i,r)},p.stats=new a.TeenyStatistics,p.resetStats=()=>{p.stats=new a.TeenyStatistics(p.stats.getOptions())}},524380,e=>{e.v({name:"@google-cloud/storage",description:"Cloud Storage Client Library for Node.js",version:"7.17.3",license:"Apache-2.0",author:"Google Inc.",engines:{node:">=14"},repository:"googleapis/nodejs-storage",main:"./build/cjs/src/index.js",types:"./build/cjs/src/index.d.ts",type:"module",exports:{".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},files:["build/cjs/src","build/cjs/package.json","!build/cjs/src/**/*.map","build/esm/src","!build/esm/src/**/*.map"],keywords:["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google storage","storage"],scripts:{"all-test":"npm test && npm run system-test && npm run samples-test",benchwrapper:"node bin/benchwrapper.js",check:"gts check",clean:"rm -rf build/","compile:cjs":"tsc -p ./tsconfig.cjs.json","compile:esm":"tsc -p .",compile:"npm run compile:cjs && npm run compile:esm","conformance-test":"mocha --parallel build/cjs/conformance-test/ --require build/cjs/conformance-test/globalHooks.js","docs-test":"linkinator docs",docs:"jsdoc -c .jsdoc.json",fix:"gts fix",lint:"gts check",postcompile:"cp ./src/package-json-helper.cjs ./build/cjs/src && cp ./src/package-json-helper.cjs ./build/esm/src","postcompile:cjs":"babel --plugins gapic-tools/build/src/replaceImportMetaUrl,gapic-tools/build/src/toggleESMFlagVariable build/cjs/src/util.js -o build/cjs/src/util.js && cp internal-tooling/helpers/package.cjs.json build/cjs/package.json",precompile:"rm -rf build/","preconformance-test":"npm run compile:cjs -- --sourceMap","predocs-test":"npm run docs",predocs:"npm run compile:cjs -- --sourceMap",prelint:"cd samples; npm link ../; npm install",prepare:"npm run compile","presystem-test:esm":"npm run compile:esm","presystem-test":"npm run compile -- --sourceMap",pretest:"npm run compile -- --sourceMap","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","system-test:esm":"mocha build/esm/system-test --timeout 600000 --exit","system-test":"mocha build/cjs/system-test --timeout 600000 --exit",test:"c8 mocha build/cjs/test"},dependencies:{"@google-cloud/paginator":"^5.0.0","@google-cloud/projectify":"^4.0.0","@google-cloud/promisify":"<4.1.0","abort-controller":"^3.0.0","async-retry":"^1.3.3",duplexify:"^4.1.3","fast-xml-parser":"^4.4.1",gaxios:"^6.0.2","google-auth-library":"^9.6.3","html-entities":"^2.5.2",mime:"^3.0.0","p-limit":"^3.0.1","retry-request":"^7.0.0","teeny-request":"^9.0.0",uuid:"^8.0.0"},devDependencies:{"@babel/cli":"^7.22.10","@babel/core":"^7.22.11","@google-cloud/pubsub":"^4.0.0","@grpc/grpc-js":"^1.0.3","@grpc/proto-loader":"^0.8.0","@types/async-retry":"^1.4.3","@types/duplexify":"^3.6.4","@types/mime":"^3.0.0","@types/mocha":"^9.1.1","@types/mockery":"^1.4.29","@types/node":"^24.0.0","@types/node-fetch":"^2.1.3","@types/proxyquire":"^1.3.28","@types/request":"^2.48.4","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^8.0.0","@types/yargs":"^17.0.10",c8:"^9.0.0","form-data":"^4.0.4","gapic-tools":"^0.4.0",gts:"^5.0.0",jsdoc:"^4.0.4","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",linkinator:"^3.0.0",mocha:"^9.2.2",mockery:"^2.1.0",nock:"~13.5.0","node-fetch":"^2.6.7","pack-n-play":"^2.0.0",proxyquire:"^2.1.3",sinon:"^18.0.0",nise:"6.0.0","path-to-regexp":"6.3.0",tmp:"^0.2.0",typescript:"^5.1.6",yargs:"^17.3.1"}})},128472,(e,t,r)=>{r.getPackageJSON=function(){return e.r(524380)}},899636,(e,t,r)=>{t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),i}}},548727,(e,t,r)=>{var i=e.r(899636);function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}t.exports=i(n),t.exports.strict=i(s),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},691682,(e,t,r)=>{var i=e.r(548727),n=function(){},s=e.g.Bare?queueMicrotask:process.nextTick.bind(process),o=function(e,t,r){if("function"==typeof t)return o(e,null,t);t||(t={}),r=i(r||n);var a=e._writableState,c=e._readableState,l=t.readable||!1!==t.readable&&e.readable,p=t.writable||!1!==t.writable&&e.writable,u=!1,d=function(){e.writable||h()},h=function(){p=!1,l||r.call(e)},f=function(){l=!1,p||r.call(e)},m=function(t){r.call(e,t?Error("exited with error code: "+t):null)},g=function(t){r.call(e,t)},y=function(){s(v)},v=function(){if(!u&&(l&&!(c&&c.ended&&!c.destroyed)||p&&!(a&&a.ended&&!a.destroyed)))return r.call(e,Error("premature close"))},b=function(){e.req.on("finish",h)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",h),e.on("abort",y),e.req?b():e.on("request",b)):p&&!a&&(e.on("end",d),e.on("close",d)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",m),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",y),function(){u=!0,e.removeListener("complete",h),e.removeListener("abort",y),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",f),e.removeListener("error",g),e.removeListener("close",y)}};t.exports=o},249414,(e,t,r)=>{t.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){if(e.buffer.length){var t=e.bufferIndex||0;if(e.buffer.head)return e.buffer.head.data.length;if(e.buffer.length-t>0&&e.buffer[t])return e.buffer[t].length}return e.length}(t)):null}},469917,(e,t,r)=>{var i=e.r(882712),n=e.r(691682),s=e.r(966397),o=e.r(249414),a=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){e._autoDestroy&&e.destroy(t)},p=function(e,t){return function(r){r?l(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},u=function(){},d=function(e,t,r){if(!(this instanceof d))return new d(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(d,i.Duplex),d.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(e,t,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed){e&&e.destroy&&e.destroy();return}if(null===e||!1===e)return void this.end();var t=this,r=n(e,{writable:!0,readable:!1},p(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&process.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),r()},this.uncork()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed){e&&e.destroy&&e.destroy();return}if(null===e||!1===e){this.push(null),this.resume();return}var t=this,r=n(e,{writable:!1,readable:!0},p(this)),s=function(){t._forward()},o=function(){t.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e),this._readable2.on("readable",s),this._readable2.on("end",o),this._unread=function(){t._readable2.removeListener("readable",s),t._readable2.removeListener("end",o),r()},this._forward()},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){var e;if(!this._forwarding&&this._readable2&&this._drained){for(this._forwarding=!0;this._drained&&null!==(e=o(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e,t){if(t||(t=u),this.destroyed)return t(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(e),t(null)})},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,r){if(!this.destroyed){if(this._corked)return c(this,this._write.bind(this,e,t,r));if(e===a)return this._finish(r);if(!this._writable)return r();!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()}},d.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,function(){var r,i;r=t._forwardEnd&&t._writable,i=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},!r||r._writableState&&r._writableState.finished?i():r._writableState?r.end(i):(r.end(),i())})},d.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(a),i.Writable.prototype.end.call(this,r))},t.exports=d},460406,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callbackifyAll=r.callbackify=r.promisifyAll=r.promisify=void 0,r.promisify=function(e,t){if(e.promisified_)return e;t=t||{};let r=Array.prototype.slice,i=function(){let i;for(i=arguments.length-1;i>=0;i--){let t=arguments[i];if(void 0!==t){if("function"!=typeof t)break;return e.apply(this,arguments)}}let n=r.call(arguments,0,i+1),s=Promise;return this&&this.Promise&&(s=this.Promise),new s((i,s)=>{n.push((...e)=>{let n=r.call(e),o=n.shift();if(o)return s(o);t.singular&&1===n.length?i(n[0]):i(n)}),e.apply(this,n)})};return i.promisified_=!0,i},r.promisifyAll=function(e,t){let i=t&&t.exclude||[];Object.getOwnPropertyNames(e.prototype).filter(t=>!i.includes(t)&&"function"==typeof e.prototype[t]&&!/(^_|(Stream|_)|promise$)|^constructor$/.test(t)).forEach(i=>{let n=e.prototype[i];n.promisified_||(e.prototype[i]=r.promisify(n,t))})},r.callbackify=function(e){if(e.callbackified_)return e;let t=function(){if("function"!=typeof arguments[arguments.length-1])return e.apply(this,arguments);let t=Array.prototype.pop.call(arguments);e.apply(this,arguments).then(e=>{t(null,...e=Array.isArray(e)?e:[e])},e=>t(e))};return t.callbackified_=!0,t},r.callbackifyAll=function(e,t){let i=t&&t.exclude||[];Object.getOwnPropertyNames(e.prototype).filter(t=>!i.includes(t)&&"function"==typeof e.prototype[t]&&!/^_|(Stream|_)|^constructor$/.test(t)).forEach(t=>{let i=e.prototype[t];i.callbackified_||(e.prototype[t]=r.callbackify(i))})}},143189,(e,t,r)=>{"use strict";t.exports=e=>null==e?[]:Array.isArray(e)?e:"string"==typeof e?[e]:"function"==typeof e[Symbol.iterator]?[...e]:[e]},895818,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceStream=void 0;let i=e.r(688947);class n extends i.Transform{constructor(e,t){super(Object.assign({objectMode:!0},e.streamOptions)),this._ended=!1,this._maxApiCalls=-1===e.maxApiCalls?1/0:e.maxApiCalls,this._nextQuery=e.query,this._reading=!1,this._requestFn=t,this._requestsMade=0,this._resultsToSend=-1===e.maxResults?1/0:e.maxResults,this._otherArgs=[]}end(...e){return this._ended=!0,super.end(...e)}_read(){if(!this._reading){this._reading=!0;try{this._requestFn(this._nextQuery,(e,t,r,...i)=>{if(e)return void this.destroy(e);this._otherArgs=i,this._nextQuery=r,this._resultsToSend!==1/0&&(t=t.splice(0,this._resultsToSend),this._resultsToSend-=t.length);let n=!0;for(let e of t){if(this._ended)break;n=this.push(e)}let s=!this._nextQuery||this._resultsToSend<1,o=++this._requestsMade>=this._maxApiCalls;(s||o)&&this.end(),n&&!this._ended&&setImmediate(()=>this._read()),this._reading=!1})}catch(e){this.destroy(e)}}}}r.ResourceStream=n},902383,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceStream=r.paginator=r.Paginator=void 0;let i=e.r(143189),n=e.r(725705),s=e.r(895818);Object.defineProperty(r,"ResourceStream",{enumerable:!0,get:function(){return s.ResourceStream}});class o{extend(e,t){(t=i(t)).forEach(t=>{let r=e.prototype[t];e.prototype[t+"_"]=r,e.prototype[t]=function(...e){let t=a.parseArguments_(e);return a.run_(t,r.bind(this))}})}streamify(e){return function(...t){let r=a.parseArguments_(t),i=this[e+"_"]||this[e];return a.runAsStream_(r,i.bind(this))}}parseArguments_(e){let t,r,i=!0,s=-1,o=-1,a=e[0],c=e[e.length-1];"function"==typeof a?r=a:t=a,"function"==typeof c&&(r=c),"object"==typeof t&&((t=n(!0,{},t)).maxResults&&"number"==typeof t.maxResults?o=t.maxResults:"number"==typeof t.pageSize&&(o=t.pageSize),t.maxApiCalls&&"number"==typeof t.maxApiCalls&&(s=t.maxApiCalls,delete t.maxApiCalls),(-1!==o||!1===t.autoPaginate)&&(i=!1));let l={query:t||{},autoPaginate:i,maxApiCalls:s,maxResults:o,callback:r};return l.streamOptions=n(!0,{},l.query),delete l.streamOptions.autoPaginate,delete l.streamOptions.maxResults,delete l.streamOptions.pageSize,l}run_(e,t){let r=e.query,i=e.callback;if(!e.autoPaginate)return t(r,i);let n=[],s=[],o=new Promise((r,i)=>{let o=a.runAsStream_(e,t);o.on("error",i).on("data",e=>n.push(e)).on("end",()=>{s=o._otherArgs||[],r(n)})});if(!i)return o.then(e=>[e,r,...s]);o.then(e=>i(null,e,r,...s),e=>i(e))}runAsStream_(e,t){return new s.ResourceStream(e,t)}}r.Paginator=o;let a=new o;r.paginator=a},523629,(e,t,r)=>{"use strict";function i(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}i.prototype.define=function(e,t){for(let r in e){let i=e[r].map(function(e){return e.toLowerCase()});r=r.toLowerCase();for(let e=0;e<i.length;e++){let n=i[e];if("*"!==n[0]){if(!t&&n in this._types)throw Error('Attempt to change mapping for "'+n+'" extension from "'+this._types[n]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+n+'" from the list of extensions for "'+r+'".');this._types[n]=r}}if(t||!this._extensions[r]){let e=i[0];this._extensions[r]="*"!==e[0]?e:e.substr(1)}}},i.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),i=t.length<e.length;return(r.length<t.length-1||!i)&&this._types[r]||null},i.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},t.exports=i},100017,(e,t,r)=>{t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},462001,(e,t,r)=>{t.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},464328,(e,t,r)=>{"use strict";t.exports=new(e.r(523629))(e.r(100017),e.r(462001))},514136,(e,t,r)=>{class i{constructor(e){this.value=e,this.next=void 0}}class n{constructor(){this.clear()}enqueue(e){let t=new i(e);this._head?this._tail.next=t:this._head=t,this._tail=t,this._size++}dequeue(){let e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}t.exports=n},344967,(e,t,r)=>{"use strict";let i=e.r(514136);t.exports=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw TypeError("Expected `concurrency` to be a number from 1 and up");let t=new i,r=0,n=async(e,i,...n)=>{r++;let s=(async()=>e(...n))();i(s);try{await s}catch{}r--,t.size>0&&t.dequeue()()},s=(i,...s)=>new Promise(o=>{((i,s,...o)=>{t.enqueue(n.bind(null,i,s,...o)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(i,o,...s)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),s}},138047,(e,t,r)=>{function i(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r)if(!this._cachedTimeouts)return!1;else this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},i.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=n,r=o)}return t}},318263,(e,t,r)=>{var i=e.r(138047);r.operation=function(e){return new i(r.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},r.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<t.retries;n++)i.push(this.createTimeout(n,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(n,t)),i.sort(function(e,t){return e-t}),i},r.createTimeout=function(e,t){var r=Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},r.wrap=function(e,t,i){if(t instanceof Array&&(i=t,t=null),!i)for(var n in i=[],e)"function"==typeof e[n]&&i.push(n);for(var s=0;s<i.length;s++){var o=i[s],a=e[o];e[o]=(function(i){var n=r.operation(t),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push(function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),o.apply(this,arguments))}),n.attempt(function(){i.apply(e,s)})}).bind(e,a),e[o].options=t}}},774167,(e,t,r)=>{t.exports=e.r(318263)},252534,(e,t,r)=>{var i=e.r(774167);t.exports=function(e,t){return new Promise(function(r,n){var s,o=t||{};function a(e){n(e||Error("Aborted"))}function c(e,t){e.bail?a(e):s.retry(e)?o.onRetry&&o.onRetry(e,t):n(s.mainError())}"randomize"in o||(o.randomize=!0),(s=i.operation(o)).attempt(function(t){var i;try{i=e(a,t)}catch(e){c(e,t);return}Promise.resolve(i).then(r).catch(function(e){c(e,t)})})})}},777538,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=new WeakMap,n=new WeakMap;function s(e){let t=i.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function a(e,t){i.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,c(t))}}function c(e){return{get(){return s(this).event[e]},set(t){s(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e,t){s(e).passiveListener=t}a.prototype={get type(){return s(this).event.type},get target(){return s(this).eventTarget},get currentTarget(){return s(this).currentTarget},composedPath(){let e=s(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return s(this).eventPhase},stopPropagation(){let e=s(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=s(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!s(this).event.bubbles},get cancelable(){return!!s(this).event.cancelable},preventDefault(){o(s(this))},get defaultPrevented(){return s(this).canceled},get composed(){return!!s(this).event.composed},get timeStamp(){return s(this).timeStamp},get srcElement(){return s(this).eventTarget},get cancelBubble(){return s(this).stopped},set cancelBubble(value){if(!value)return;let e=s(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!s(this).canceled},set returnValue(value){value||o(s(this))},initEvent(){}},Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});let p=new WeakMap;function u(e){return null!==e&&"object"==typeof e}function d(e){let t=p.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function h(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=d(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||u(e)||(e=null);let r=d(this),i=null,n=r.get(t);for(;null!=n;)3===n.listenerType?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){let n={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0})}function f(e){function t(){m.call(this)}t.prototype=Object.create(m.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)h(t.prototype,e[r]);return t}function m(){if(this instanceof m)return void p.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return f(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return f(e)}throw TypeError("Cannot call a class as a function")}m.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!u(t))throw TypeError("'listener' should be a function or an object.");let i=d(this),n=u(r),s=(n?r.capture:r)?1:2,o={listener:t,listenerType:s,passive:n&&!!r.passive,once:n&&!!r.once,next:null},a=i.get(e);if(void 0===a)return void i.set(e,o);let c=null;for(;null!=a;){if(a.listener===t&&a.listenerType===s)return;c=a,a=a.next}c.next=o},removeEventListener(e,t,r){if(null==t)return;let i=d(this),n=(u(r)?r.capture:r)?1:2,s=null,o=i.get(e);for(;null!=o;){if(o.listener===t&&o.listenerType===n)return void(null!==s?s.next=o.next:null!==o.next?i.set(e,o.next):i.delete(e));s=o,o=o.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=d(this),r=e.type,i=t.get(r);if(null==i)return!0;let o=new(function e(t){if(null==t||t===Object.prototype)return a;let r=n.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function i(t,r){e.call(this,t,r)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){let o=r[n];if(!(o in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(i.prototype,o,e?function(e){return{value(){let t=s(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(o):c(o))}}return i}(e(Object.getPrototypeOf(t)),t),n.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),p=null;for(;null!=i;){if(i.once?null!==p?p.next=i.next:null!==i.next?t.set(r,i.next):t.delete(r):p=i,l(o,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,o)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(o);if(s(o).immediateStopped)break;i=i.next}return l(o,null),s(o).eventPhase=0,s(o).currentTarget=null,!o.defaultPrevented}},Object.defineProperty(m.prototype,"constructor",{value:m,configurable:!0,writable:!0}),r.defineEventAttribute=h,r.EventTarget=m,r.default=m,t.exports=m,t.exports.EventTarget=t.exports.default=m,t.exports.defineEventAttribute=h},337282,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e.r(777538);class AbortSignal extends i.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=n.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}i.defineEventAttribute(AbortSignal.prototype,"abort");let n=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class s{constructor(){o.set(this,function(){let e=Object.create(AbortSignal.prototype);return i.EventTarget.call(e),n.set(e,!1),e}())}get signal(){return a(this)}abort(){var e;e=a(this),!1===n.get(e)&&(n.set(e,!0),e.dispatchEvent({type:"abort"}))}}let o=new WeakMap;function a(e){let t=o.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),r.AbortController=s,r.AbortSignal=AbortSignal,r.default=s,t.exports=s,t.exports.AbortController=t.exports.default=s,t.exports.AbortSignal=AbortSignal},172447,(e,t,r)=>{"use strict";let i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+i+"]["+i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=RegExp("^"+n+"$");r.isExist=function(e){return void 0!==e},r.isEmptyObject=function(e){return 0===Object.keys(e).length},r.merge=function(e,t,r){if(t){let i=Object.keys(t),n=i.length;for(let s=0;s<n;s++)"strict"===r?e[i[s]]=[t[i[s]]]:e[i[s]]=t[i[s]]}},r.getValue=function(e){return r.isExist(e)?e:""},r.isName=function(e){return null!=s.exec(e)},r.getAllMatches=function(e,t){let r=[],i=t.exec(e);for(;i;){let n=[];n.startIndex=t.lastIndex-i[0].length;let s=i.length;for(let e=0;e<s;e++)n.push(i[e]);r.push(n),i=t.exec(e)}return r},r.nameRegexp=n},90983,(e,t,r)=>{"use strict";let i=e.r(172447),n={allowBooleanAttributes:!1,unpairedTags:[]};function s(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function o(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let i=e.substr(r,t-r);if(t>5&&"xml"===i)return p("InvalidXml","XML declaration allowed only at the start of the document.",u(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}r.validate=function(e,t){t=Object.assign({},n,t);let r=[],c=!1,d=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let n=0;n<e.length;n++)if("<"===e[n]&&"?"===e[n+1]){if(n+=2,(n=o(e,n)).err)return n}else if("<"===e[n]){let f=n;if("!"===e[++n]){n=a(e,n);continue}{var h;let m=!1;"/"===e[n]&&(m=!0,n++);let g="";for(;n<e.length&&">"!==e[n]&&" "!==e[n]&&"	"!==e[n]&&"\n"!==e[n]&&"\r"!==e[n];n++)g+=e[n];if("/"===(g=g.trim())[g.length-1]&&(g=g.substring(0,g.length-1),n--),h=g,!i.isName(h))return p("InvalidTag",0===g.trim().length?"Invalid space after '<'.":"Tag '"+g+"' is an invalid name.",u(e,n));let y=function(e,t){let r="",i="",n=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===i?i=e[t]:i!==e[t]||(i="");else if(">"===e[t]&&""===i){n=!0;break}r+=e[t]}return""===i&&{value:r,index:t,tagClosed:n}}(e,n);if(!1===y)return p("InvalidAttr","Attributes for '"+g+"' have open quote.",u(e,n));let v=y.value;if(n=y.index,"/"===v[v.length-1]){let r=n-v.length,i=l(v=v.substring(0,v.length-1),t);if(!0!==i)return p(i.err.code,i.err.msg,u(e,r+i.err.line));c=!0}else if(m)if(!y.tagClosed)return p("InvalidTag","Closing tag '"+g+"' doesn't have proper closing.",u(e,n));else{if(v.trim().length>0)return p("InvalidTag","Closing tag '"+g+"' can't have attributes or invalid starting.",u(e,f));if(0===r.length)return p("InvalidTag","Closing tag '"+g+"' has not been opened.",u(e,f));let t=r.pop();if(g!==t.tagName){let r=u(e,t.tagStartPos);return p("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+g+"'.",u(e,f))}0==r.length&&(d=!0)}else{let i=l(v,t);if(!0!==i)return p(i.err.code,i.err.msg,u(e,n-v.length+i.err.line));if(!0===d)return p("InvalidXml","Multiple possible root nodes found.",u(e,n));-1!==t.unpairedTags.indexOf(g)||r.push({tagName:g,tagStartPos:f}),c=!0}for(n++;n<e.length;n++)if("<"===e[n])if("!"===e[n+1]){n=a(e,++n);continue}else if("?"===e[n+1]){if((n=o(e,++n)).err)return n}else break;else if("&"===e[n]){let t=function(e,t){if(";"===e[++t])return -1;if("#"===e[t]){var r=++t;let i=/\d/;for("x"===e[r]&&(r++,i=/[\da-fA-F]/);r<e.length;r++){if(";"===e[r])return r;if(!e[r].match(i))break}return -1}let i=0;for(;t<e.length;t++,i++)if(!e[t].match(/\w/)||!(i<20)){if(";"===e[t])break;return -1}return t}(e,n);if(-1==t)return p("InvalidChar","char '&' is not expected.",u(e,n));n=t}else if(!0===d&&!s(e[n]))return p("InvalidXml","Extra text at the end",u(e,n));"<"===e[n]&&n--}}else{if(s(e[n]))continue;return p("InvalidChar","char '"+e[n]+"' is not expected.",u(e,n))}return c?1==r.length?p("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",u(e,r[0].tagStartPos)):!(r.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};let c=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(e,t){let r=i.getAllMatches(e,c),n={};for(let e=0;e<r.length;e++){var s;if(0===r[e][1].length)return p("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",d(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return p("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",d(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",d(r[e]));let o=r[e][2];if(s=o,!i.isName(s))return p("InvalidAttr","Attribute '"+o+"' is an invalid name.",d(r[e]));if(n.hasOwnProperty(o))return p("InvalidAttr","Attribute '"+o+"' is repeated.",d(r[e]));n[o]=1}return!0}function p(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function u(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function d(e){return e.startIndex+e[1].length}},438805,(e,t,r)=>{let i={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};r.buildOptions=function(e){return Object.assign({},i,e)},r.defaultOptions=i},445116,(e,t,r)=>{"use strict";t.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},336991,(e,t,r)=>{let i=e.r(172447);t.exports=function(e,t){let r={};if("O"===e[t+3]&&"C"===e[t+4]&&"T"===e[t+5]&&"Y"===e[t+6]&&"P"===e[t+7]&&"E"===e[t+8]){t+=9;let d=1,h=!1,f=!1;for(;t<e.length;t++)if("<"!==e[t]||f)if(">"===e[t]){if(f?"-"===e[t-1]&&"-"===e[t-2]&&(f=!1,d--):d--,0===d)break}else"["===e[t]?h=!0:e[t];else{var n,s,o,a,c,l,p,u;if(h&&"!"===(n=e)[(s=t)+1]&&"E"===n[s+2]&&"N"===n[s+3]&&"T"===n[s+4]&&"I"===n[s+5]&&"T"===n[s+6]&&"Y"===n[s+7]){let n,s;t+=7,[n,s,t]=function(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(-1!==(r=r.trim()).indexOf(" "))throw Error("External entites are not supported");let i=e[t++],n="";for(;t<e.length&&e[t]!==i;t++)n+=e[t];return[r,n,t]}(e,t+1),-1===s.indexOf("&")&&(r[function(e){if(i.isName(e))return e;throw Error(`Invalid entity name ${e}`)}(n)]={regx:RegExp(`&${n};`,"g"),val:s})}else{h&&"!"===(o=e)[(a=t)+1]&&"E"===o[a+2]&&"L"===o[a+3]&&"E"===o[a+4]&&"M"===o[a+5]&&"E"===o[a+6]&&"N"===o[a+7]&&"T"===o[a+8]||h&&"!"===(c=e)[(l=t)+1]&&"A"===c[l+2]&&"T"===c[l+3]&&"T"===c[l+4]&&"L"===c[l+5]&&"I"===c[l+6]&&"S"===c[l+7]&&"T"===c[l+8]?t+=8:h&&"!"===(p=e)[(u=t)+1]&&"N"===p[u+2]&&"O"===p[u+3]&&"T"===p[u+4]&&"A"===p[u+5]&&"T"===p[u+6]&&"I"===p[u+7]&&"O"===p[u+8]&&"N"===p[u+9]?t+=9:f=!0}d++}if(0!==d)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}},135693,(e,t,r)=>{let i=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,s={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(e,t={}){if(t=Object.assign({},s,t),!e||"string"!=typeof e)return e;let r=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(r))return e;if("0"===e)return 0;if(t.hex&&i.test(r)){var o,a=r;if(parseInt)return parseInt(a,16);if(Number.parseInt)return Number.parseInt(a,16);if(window&&window.parseInt)return window.parseInt(a,16);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}if(-1!==r.search(/[eE]/)){let i=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(!i)return e;if(t.leadingZeros)r=(i[1]||"")+i[3];else if("0"!==i[2]||"."!==i[3][0])return e;return t.eNotation?Number(r):e}{let i=n.exec(r);if(!i)return e;{let n=i[1],s=i[2],a=((o=i[3])&&-1!==o.indexOf(".")&&("."===(o=o.replace(/0+$/,""))?o="0":"."===o[0]?o="0"+o:"."===o[o.length-1]&&(o=o.substr(0,o.length-1))),o);if(!t.leadingZeros&&s.length>0&&n&&"."!==r[2])return e;{if(!t.leadingZeros&&s.length>0&&!n&&"."!==r[1])return e;if(t.leadingZeros&&s===e)return 0;let i=Number(r),o=""+i;if(-1!==o.search(/[eE]/))if(t.eNotation)return i;else return e;if(-1!==r.indexOf("."))if("0"===o&&""===a)return i;else if(o===a)return i;else if(n&&o==="-"+a)return i;else return e;return s?a===o||n+a===o?i:e:r===o||r===n+o?i:e}}}}},492239,(e,t,r)=>{t.exports=function(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(let r of e)if("string"==typeof r&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}},890164,(e,t,r)=>{"use strict";let i=e.r(172447),n=e.r(445116),s=e.r(336991),o=e.r(135693),a=e.r(492239);function c(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let i=t[r];this.lastEntities[i]={regex:RegExp("&"+i+";","g"),val:e[i]}}}function l(e,t,r,i,n,s,o){if(void 0!==e&&(this.options.trimValues&&!i&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let i=this.options.tagValueProcessor(t,e,r,n,s);return null==i?e:typeof i!=typeof e||i!==e?i:this.options.trimValues||e.trim()===e?w(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function p(e){if(this.options.removeNSPrefix){let t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}let u=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){let r=i.getAllMatches(e,u),n=r.length,s={};for(let e=0;e<n;e++){let i=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(i,t))continue;let n=r[e][4],o=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==n){this.options.trimValues&&(n=n.trim()),n=this.replaceEntitiesValue(n);let e=this.options.attributeValueProcessor(i,n,t);null==e?s[o]=n:typeof e!=typeof n||e!==n?s[o]=e:s[o]=w(n,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(Object.keys(s).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=s,e}return s}}}let h=function(e){e=e.replace(/\r\n?/g,"\n");let t=new n("!xml"),r=t,i="",o="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){let t=v(e,">",a,"Closing Tag is not closed."),n=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){let e=n.indexOf(":");-1!==e&&(n=n.substr(e+1))}this.options.transformTagName&&(n=this.options.transformTagName(n)),r&&(i=this.saveTextToParentTag(i,r,o));let s=o.substring(o.lastIndexOf(".")+1);if(n&&-1!==this.options.unpairedTags.indexOf(n))throw Error(`Unpaired tag can not be used as closing tag: </${n}>`);let c=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),r=this.tagsNodeStack.pop(),i="",a=t}else if("?"===e[a+1]){let t=b(e,a,!1,"?>");if(!t)throw Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,r,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{let e=new n(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(r,e,o)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){let t=v(e,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){let n=e.substring(a+4,t-2);i=this.saveTextToParentTag(i,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:n}])}a=t}else if("!D"===e.substr(a+1,2)){let t=s(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){let t=v(e,"]]>",a,"CDATA is not closed.")-2,n=e.substring(a+9,t);i=this.saveTextToParentTag(i,r,o);let s=this.parseTextData(n,r.tagname,o,!0,!1,!0,!0);void 0==s&&(s=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:n}]):r.add(this.options.textNodeName,s),a=t+2}else{let s=b(e,a,this.options.removeNSPrefix),c=s.tagName,l=s.rawTagName,p=s.tagExp,u=s.attrExpPresent,d=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&i&&"!xml"!==r.tagname&&(i=this.saveTextToParentTag(i,r,o,!1));let h=r;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let t="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)"/"===c[c.length-1]?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=s.closeIndex;else{let r=this.readStopNodeData(e,l,d+1);if(!r)throw Error(`Unexpected end of ${l}`);a=r.i,t=r.tagContent}let i=new n(c);c!==p&&u&&(i[":@"]=this.buildAttributesMap(p,o,c)),t&&(t=this.parseTextData(t,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),i.add(this.options.textNodeName,t),this.addChild(r,i,o)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let e=new n(c);c!==p&&u&&(e[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,e,o),o=o.substr(0,o.lastIndexOf("."))}else{let e=new n(c);this.tagsNodeStack.push(r),c!==p&&u&&(e[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,e,o),r=e}i="",a=d}}else i+=e[a];return t.child};function f(e,t,r){let i=this.options.updateTag(t.tagname,r,t[":@"]);!1===i||("string"==typeof i&&(t.tagname=i),e.addChild(t))}let m=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function g(e,t,r,i){return e&&(void 0===i&&(i=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,i))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function y(e,t,r){let i="*."+r;for(let r in e){let n=e[r];if(i===n||t===n)return!0}return!1}function v(e,t,r,i){let n=e.indexOf(t,r);if(-1!==n)return n+t.length-1;throw Error(i)}function b(e,t,r,i=">"){let n=function(e,t,r=">"){let i,n="";for(let s=t;s<e.length;s++){let t=e[s];if(i)t===i&&(i="");else if('"'===t||"'"===t)i=t;else if(t===r[0]){if(!r[1])return{data:n,index:s};else if(e[s+1]===r[1])return{data:n,index:s}}else"	"===t&&(t=" ");n+=t}}(e,t+1,i);if(!n)return;let s=n.data,o=n.index,a=s.search(/\s/),c=s,l=!0;-1!==a&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let e=c.indexOf(":");-1!==e&&(l=(c=c.substr(e+1))!==n.data.substr(e+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l,rawTagName:p}}function x(e,t,r){let i=r,n=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){let s=v(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&0==--n)return{tagContent:e.substring(i,r),i:s};r=s}else if("?"===e[r+1])r=v(e,"?>",r+1,"StopNode is not closed.");else if("!--"===e.substr(r+1,3))r=v(e,"-->",r+3,"StopNode is not closed.");else if("!["===e.substr(r+1,2))r=v(e,"]]>",r,"StopNode is not closed.")-2;else{let i=b(e,r,">");i&&((i&&i.tagName)===t&&"/"!==i.tagExp[i.tagExp.length-1]&&n++,r=i.closeIndex)}}function w(e,t,r){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&o(e,r)}return i.isExist(e)?e:""}t.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â¹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,16))}},this.addExternalEntities=c,this.parseXml=h,this.parseTextData=l,this.resolveNameSpace=p,this.buildAttributesMap=d,this.isItStopNode=y,this.replaceEntitiesValue=m,this.readStopNodeData=x,this.saveTextToParentTag=g,this.addChild=f,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}},836123,(e,t,r)=>{"use strict";r.prettify=function(e,t){return function e(t,r,i){let n,s={};for(let o=0;o<t.length;o++){let a=t[o],c=function(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":@"!==r)return r}}(a),l="";if(l=void 0===i?c:i+"."+c,c===r.textNodeName)void 0===n?n=a[c]:n+=""+a[c];else if(void 0===c)continue;else if(a[c]){let t=e(a[c],r,l),i=function(e,t){let{textNodeName:r}=t,i=Object.keys(e).length;return 0===i||1===i&&(!!e[r]||"boolean"==typeof e[r]||0===e[r])}(t,r);a[":@"]?function(e,t,r,i){if(t){let n=Object.keys(t),s=n.length;for(let o=0;o<s;o++){let s=n[o];i.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}(t,a[":@"],l,r):1!==Object.keys(t).length||void 0===t[r.textNodeName]||r.alwaysCreateTextNode?0===Object.keys(t).length&&(r.alwaysCreateTextNode?t[r.textNodeName]="":t=""):t=t[r.textNodeName],void 0!==s[c]&&s.hasOwnProperty(c)?(Array.isArray(s[c])||(s[c]=[s[c]]),s[c].push(t)):r.isArray(c,l,i)?s[c]=[t]:s[c]=t}}return"string"==typeof n?n.length>0&&(s[r.textNodeName]=n):void 0!==n&&(s[r.textNodeName]=n),s}(e,t)}},542149,(e,t,r)=>{let{buildOptions:i}=e.r(438805),n=e.r(890164),{prettify:s}=e.r(836123),o=e.r(90983);t.exports=class{constructor(e){this.externalEntities={},this.options=i(e)}parse(e,t){if("string"==typeof e);else if(e.toString)e=e.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(t){!0===t&&(t={});let r=o.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}let r=new n(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||void 0===i?i:s(i,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},514831,(e,t,r)=>{function i(e,t){let r="";if(e&&!t.ignoreAttributes)for(let i in e){if(!e.hasOwnProperty(i))continue;let s=t.attributeValueProcessor(i,e[i]);!0===(s=n(s,t))&&t.suppressBooleanAttributes?r+=` ${i.substr(t.attributeNamePrefix.length)}`:r+=` ${i.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function n(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let i=t.entities[r];e=e.replace(i.regex,i.val)}return e}t.exports=function(e,t){let r="";return t.format&&t.indentBy.length>0&&(r="\n"),function e(t,r,s,o){let a="",c=!1;for(let l=0;l<t.length;l++){let p=t[l],u=function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let i=t[r];if(e.hasOwnProperty(i)&&":@"!==i)return i}}(p);if(void 0===u)continue;let d="";if(d=0===s.length?u:`${s}.${u}`,u===r.textNodeName){let e=p[u];!function(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+r)return!0;return!1}(d,r)&&(e=n(e=r.tagValueProcessor(u,e),r)),c&&(a+=o),a+=e,c=!1;continue}if(u===r.cdataPropName){c&&(a+=o),a+=`<![CDATA[${p[u][0][r.textNodeName]}]]>`,c=!1;continue}if(u===r.commentPropName){a+=o+`<!--${p[u][0][r.textNodeName]}-->`,c=!0;continue}else if("?"===u[0]){let e=i(p[":@"],r),t="?xml"===u?"":o,n=p[u][0][r.textNodeName];n=0!==n.length?" "+n:"",a+=t+`<${u}${n}${e}?>`,c=!0;continue}let h=o;""!==h&&(h+=r.indentBy);let f=i(p[":@"],r),m=o+`<${u}${f}`,g=e(p[u],r,d,h);-1!==r.unpairedTags.indexOf(u)?r.suppressUnpairedNode?a+=m+">":a+=m+"/>":(!g||0===g.length)&&r.suppressEmptyNode?a+=m+"/>":g&&g.endsWith(">")?a+=m+`>${g}${o}</${u}>`:(a+=m+">",g&&""!==o&&(g.includes("/>")||g.includes("</"))?a+=o+r.indentBy+g+o:a+=g,a+=`</${u}>`),c=!0}return a}(e,t,"",r)}},984788,(e,t,r)=>{"use strict";let i=e.r(514831),n=e.r(492239),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},s,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=n(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=a,this.options.format?(this.indentate=c,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(e,t,r,i){let n=this.j2x(e,r+1,i.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function c(e){return this.options.indentBy.repeat(e)}function l(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?i(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},o.prototype.j2x=function(e,t,r){let i="",n="",s=r.join(".");for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(void 0===e[o])this.isAttribute(o)&&(n+="");else if(null===e[o])this.isAttribute(o)||o===this.options.cdataPropName?n+="":"?"===o[0]?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if("object"!=typeof e[o]){let r=this.isAttribute(o);if(r&&!this.ignoreAttributesFn(r,s))i+=this.buildAttrPairStr(r,""+e[o]);else if(!r)if(o===this.options.textNodeName){let t=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(t)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,s="",a="";for(let c=0;c<i;c++){let i=e[o][c];if(void 0===i);else if(null===i)"?"===o[0]?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof i)if(this.options.oneListGroup){let e=this.j2x(i,t+1,r.concat(o));s+=e.val,this.options.attributesGroupName&&i.hasOwnProperty(this.options.attributesGroupName)&&(a+=e.attrStr)}else s+=this.processTextOrObjNode(i,o,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(o,i);s+=e=this.replaceEntitiesValue(e)}else s+=this.buildTextValNode(i,o,"",t)}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,a,t)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let t=Object.keys(e[o]),r=t.length;for(let n=0;n<r;n++)i+=this.buildAttrPairStr(t[n],""+e[o][t[n]])}else n+=this.processTextOrObjNode(e[o],o,t,r);return{attrStr:i,val:n}},o.prototype.buildAttrPairStr=function(e,t){return(t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t)?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,r,i){if(""===e)if("?"===t[0])return this.indentate(i)+"<"+t+r+"?"+this.tagEndChar;else return this.indentate(i)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let n="</"+t+this.tagEndChar,s="";return("?"===t[0]&&(s="?",n=""),(r||""===r)&&-1===e.indexOf("<"))?this.indentate(i)+"<"+t+r+s+">"+e+n:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(i)+`<!--${e}-->`+this.newLine:this.indentate(i)+"<"+t+r+s+this.tagEndChar+e+this.indentate(i)+n}},o.prototype.closeTag=function(e){let t="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,r,i){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;{if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(i)+`<!--${e}-->`+this.newLine;if("?"===t[0])return this.indentate(i)+"<"+t+r+"?"+this.tagEndChar;let n=this.options.tagValueProcessor(t,e);return""===(n=this.replaceEntitiesValue(n))?this.indentate(i)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+r+">"+n+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},t.exports=o},781499,(e,t,r)=>{"use strict";let i=e.r(90983);t.exports={XMLParser:e.r(542149),XMLValidator:i,XMLBuilder:e.r(984788)}},820908,e=>{"use strict";var t,r,i,n,s,o,a,c,l,p,u,d,h,f,m,g,y,v,b,x,w,E,_,A,T,k,O,S,C,R,j=e.i(947334),N=e.i(254799);let P=new Uint8Array(256),I=P.length,q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,D=[];for(let e=0;e<256;++e)D.push((e+256).toString(16).substr(1));let U=function(e,t=0){let r=(D[e[t+0]]+D[e[t+1]]+D[e[t+2]]+D[e[t+3]]+"-"+D[e[t+4]]+D[e[t+5]]+"-"+D[e[t+6]]+D[e[t+7]]+"-"+D[e[t+8]]+D[e[t+9]]+"-"+D[e[t+10]]+D[e[t+11]]+D[e[t+12]]+D[e[t+13]]+D[e[t+14]]+D[e[t+15]]).toLowerCase();if(!("string"==typeof r&&q.test(r)))throw TypeError("Stringified UUID is invalid");return r},M=function(e,t,r){let i=(e=e||{}).random||(e.rng||function(){return I>P.length-16&&(N.default.randomFillSync(P),I=0),P.slice(I,I+=16)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return U(i)};var L=e.i(862098),F=function(){return(F=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function B(e,t){for(var r={},i={},n=e.split("~~"),s=!1,o=0;n.length>o;o++){for(var a=n[o].split("~"),c=0;c<a.length;c+=2){var l=a[c],p=a[c+1],u="&"+l+";";r[u]=p,s&&(r["&"+l]=p),i[p]=u}s=!0}return t?{entities:F(F({},r),t.entities),characters:F(F({},i),t.characters)}:{entities:r,characters:i}}var G={};G.xml=B("lt~<~gt~>~quot~\"~apos~'~amp~&"),G.html4=B("apos~'~OElig~Å~oelig~Å~Scaron~Å ~scaron~Å¡~Yuml~Å¸~circ~Ë~tilde~Ë~ensp~â~emsp~â~thinsp~â~zwnj~â~zwj~â~lrm~â~rlm~â~ndash~â~mdash~â~lsquo~â~rsquo~â~sbquo~â~ldquo~â~rdquo~â~bdquo~â~dagger~â ~Dagger~â¡~permil~â°~lsaquo~â¹~rsaquo~âº~euro~â¬~fnof~Æ~Alpha~Î~Beta~Î~Gamma~Î~Delta~Î~Epsilon~Î~Zeta~Î~Eta~Î~Theta~Î~Iota~Î~Kappa~Î~Lambda~Î~Mu~Î~Nu~Î~Xi~Î~Omicron~Î~Pi~Î ~Rho~Î¡~Sigma~Î£~Tau~Î¤~Upsilon~Î¥~Phi~Î¦~Chi~Î§~Psi~Î¨~Omega~Î©~alpha~Î±~beta~Î²~gamma~Î³~delta~Î´~epsilon~Îµ~zeta~Î¶~eta~Î·~theta~Î¸~iota~Î¹~kappa~Îº~lambda~Î»~mu~Î¼~nu~Î½~xi~Î¾~omicron~Î¿~pi~Ï~rho~Ï~sigmaf~Ï~sigma~Ï~tau~Ï~upsilon~Ï~phi~Ï~chi~Ï~psi~Ï~omega~Ï~thetasym~Ï~upsih~Ï~piv~Ï~bull~â¢~hellip~â¦~prime~â²~Prime~â³~oline~â¾~frasl~â~weierp~â~image~â~real~â~trade~â¢~alefsym~âµ~larr~â~uarr~â~rarr~â~darr~â~harr~â~crarr~âµ~lArr~â~uArr~â~rArr~â~dArr~â~hArr~â~forall~â~part~â~exist~â~empty~â~nabla~â~isin~â~notin~â~ni~â~prod~â~sum~â~minus~â~lowast~â~radic~â~prop~â~infin~â~ang~â ~and~â§~or~â¨~cap~â©~cup~âª~int~â«~there4~â´~sim~â¼~cong~â~asymp~â~ne~â ~equiv~â¡~le~â¤~ge~â¥~sub~â~sup~â~nsub~â~sube~â~supe~â~oplus~â~otimes~â~perp~â¥~sdot~â~lceil~â~rceil~â~lfloor~â~rfloor~â~lang~â©~rang~âª~loz~â~spades~â ~clubs~â£~hearts~â¥~diams~â¦~~nbsp~Â ~iexcl~Â¡~cent~Â¢~pound~Â£~curren~Â¤~yen~Â¥~brvbar~Â¦~sect~Â§~uml~Â¨~copy~Â©~ordf~Âª~laquo~Â«~not~Â¬~shy~Â­~reg~Â®~macr~Â¯~deg~Â°~plusmn~Â±~sup2~Â²~sup3~Â³~acute~Â´~micro~Âµ~para~Â¶~middot~Â·~cedil~Â¸~sup1~Â¹~ordm~Âº~raquo~Â»~frac14~Â¼~frac12~Â½~frac34~Â¾~iquest~Â¿~Agrave~Ã~Aacute~Ã~Acirc~Ã~Atilde~Ã~Auml~Ã~Aring~Ã~AElig~Ã~Ccedil~Ã~Egrave~Ã~Eacute~Ã~Ecirc~Ã~Euml~Ã~Igrave~Ã~Iacute~Ã~Icirc~Ã~Iuml~Ã~ETH~Ã~Ntilde~Ã~Ograve~Ã~Oacute~Ã~Ocirc~Ã~Otilde~Ã~Ouml~Ã~times~Ã~Oslash~Ã~Ugrave~Ã~Uacute~Ã~Ucirc~Ã~Uuml~Ã~Yacute~Ã~THORN~Ã~szlig~Ã~agrave~Ã ~aacute~Ã¡~acirc~Ã¢~atilde~Ã£~auml~Ã¤~aring~Ã¥~aelig~Ã¦~ccedil~Ã§~egrave~Ã¨~eacute~Ã©~ecirc~Ãª~euml~Ã«~igrave~Ã¬~iacute~Ã­~icirc~Ã®~iuml~Ã¯~eth~Ã°~ntilde~Ã±~ograve~Ã²~oacute~Ã³~ocirc~Ã´~otilde~Ãµ~ouml~Ã¶~divide~Ã·~oslash~Ã¸~ugrave~Ã¹~uacute~Ãº~ucirc~Ã»~uuml~Ã¼~yacute~Ã½~thorn~Ã¾~yuml~Ã¿~quot~\"~amp~&~lt~<~gt~>"),G.html5=B('Abreve~Ä~Acy~Ð~Afr~ð~Amacr~Ä~And~â©~Aogon~Ä~Aopf~ð¸~ApplyFunction~â¡~Ascr~ð~Assign~â~Backslash~â~Barv~â«§~Barwed~â~Bcy~Ð~Because~âµ~Bernoullis~â¬~Bfr~ð~Bopf~ð¹~Breve~Ë~Bscr~â¬~Bumpeq~â~CHcy~Ð§~Cacute~Ä~Cap~â~CapitalDifferentialD~â~Cayleys~â­~Ccaron~Ä~Ccirc~Ä~Cconint~â°~Cdot~Ä~Cedilla~Â¸~CenterDot~Â·~Cfr~â­~CircleDot~â~CircleMinus~â~CirclePlus~â~CircleTimes~â~ClockwiseContourIntegral~â²~CloseCurlyDoubleQuote~â~CloseCurlyQuote~â~Colon~â·~Colone~â©´~Congruent~â¡~Conint~â¯~ContourIntegral~â®~Copf~â~Coproduct~â~CounterClockwiseContourIntegral~â³~Cross~â¨¯~Cscr~ð~Cup~â~CupCap~â~DD~â~DDotrahd~â¤~DJcy~Ð~DScy~Ð~DZcy~Ð~Darr~â¡~Dashv~â«¤~Dcaron~Ä~Dcy~Ð~Del~â~Dfr~ð~DiacriticalAcute~Â´~DiacriticalDot~Ë~DiacriticalDoubleAcute~Ë~DiacriticalGrave~`~DiacriticalTilde~Ë~Diamond~â~DifferentialD~â~Dopf~ð»~Dot~Â¨~DotDot~â~DotEqual~â~DoubleContourIntegral~â¯~DoubleDot~Â¨~DoubleDownArrow~â~DoubleLeftArrow~â~DoubleLeftRightArrow~â~DoubleLeftTee~â«¤~DoubleLongLeftArrow~â¸~DoubleLongLeftRightArrow~âº~DoubleLongRightArrow~â¹~DoubleRightArrow~â~DoubleRightTee~â¨~DoubleUpArrow~â~DoubleUpDownArrow~â~DoubleVerticalBar~â¥~DownArrow~â~DownArrowBar~â¤~DownArrowUpArrow~âµ~DownBreve~Ì~DownLeftRightVector~â¥~DownLeftTeeVector~â¥~DownLeftVector~â½~DownLeftVectorBar~â¥~DownRightTeeVector~â¥~DownRightVector~â~DownRightVectorBar~â¥~DownTee~â¤~DownTeeArrow~â§~Downarrow~â~Dscr~ð~Dstrok~Ä~ENG~Å~Ecaron~Ä~Ecy~Ð­~Edot~Ä~Efr~ð~Element~â~Emacr~Ä~EmptySmallSquare~â»~EmptyVerySmallSquare~â«~Eogon~Ä~Eopf~ð¼~Equal~â©µ~EqualTilde~â~Equilibrium~â~Escr~â°~Esim~â©³~Exists~â~ExponentialE~â~Fcy~Ð¤~Ffr~ð~FilledSmallSquare~â¼~FilledVerySmallSquare~âª~Fopf~ð½~ForAll~â~Fouriertrf~â±~Fscr~â±~GJcy~Ð~Gammad~Ï~Gbreve~Ä~Gcedil~Ä¢~Gcirc~Ä~Gcy~Ð~Gdot~Ä ~Gfr~ð~Gg~â~Gopf~ð¾~GreaterEqual~â¥~GreaterEqualLess~â~GreaterFullEqual~â§~GreaterGreater~âª¢~GreaterLess~â·~GreaterSlantEqual~â©¾~GreaterTilde~â³~Gscr~ð¢~Gt~â«~HARDcy~Ðª~Hacek~Ë~Hat~^~Hcirc~Ä¤~Hfr~â~HilbertSpace~â~Hopf~â~HorizontalLine~â~Hscr~â~Hstrok~Ä¦~HumpDownHump~â~HumpEqual~â~IEcy~Ð~IJlig~Ä²~IOcy~Ð~Icy~Ð~Idot~Ä°~Ifr~â~Im~â~Imacr~Äª~ImaginaryI~â~Implies~â~Int~â¬~Integral~â«~Intersection~â~InvisibleComma~â£~InvisibleTimes~â¢~Iogon~Ä®~Iopf~ð~Iscr~â~Itilde~Ä¨~Iukcy~Ð~Jcirc~Ä´~Jcy~Ð~Jfr~ð~Jopf~ð~Jscr~ð¥~Jsercy~Ð~Jukcy~Ð~KHcy~Ð¥~KJcy~Ð~Kcedil~Ä¶~Kcy~Ð~Kfr~ð~Kopf~ð~Kscr~ð¦~LJcy~Ð~Lacute~Ä¹~Lang~âª~Laplacetrf~â~Larr~â~Lcaron~Ä½~Lcedil~Ä»~Lcy~Ð~LeftAngleBracket~â¨~LeftArrow~â~LeftArrowBar~â¤~LeftArrowRightArrow~â~LeftCeiling~â~LeftDoubleBracket~â¦~LeftDownTeeVector~â¥¡~LeftDownVector~â~LeftDownVectorBar~â¥~LeftFloor~â~LeftRightArrow~â~LeftRightVector~â¥~LeftTee~â£~LeftTeeArrow~â¤~LeftTeeVector~â¥~LeftTriangle~â²~LeftTriangleBar~â§~LeftTriangleEqual~â´~LeftUpDownVector~â¥~LeftUpTeeVector~â¥ ~LeftUpVector~â¿~LeftUpVectorBar~â¥~LeftVector~â¼~LeftVectorBar~â¥~Leftarrow~â~Leftrightarrow~â~LessEqualGreater~â~LessFullEqual~â¦~LessGreater~â¶~LessLess~âª¡~LessSlantEqual~â©½~LessTilde~â²~Lfr~ð~Ll~â~Lleftarrow~â~Lmidot~Ä¿~LongLeftArrow~âµ~LongLeftRightArrow~â·~LongRightArrow~â¶~Longleftarrow~â¸~Longleftrightarrow~âº~Longrightarrow~â¹~Lopf~ð~LowerLeftArrow~â~LowerRightArrow~â~Lscr~â~Lsh~â°~Lstrok~Å~Lt~âª~Map~â¤~Mcy~Ð~MediumSpace~â~Mellintrf~â³~Mfr~ð~MinusPlus~â~Mopf~ð~Mscr~â³~NJcy~Ð~Nacute~Å~Ncaron~Å~Ncedil~Å~Ncy~Ð~NegativeMediumSpace~â~NegativeThickSpace~â~NegativeThinSpace~â~NegativeVeryThinSpace~â~NestedGreaterGreater~â«~NestedLessLess~âª~NewLine~\n~Nfr~ð~NoBreak~â ~NonBreakingSpace~Â ~Nopf~â~Not~â«¬~NotCongruent~â¢~NotCupCap~â­~NotDoubleVerticalBar~â¦~NotElement~â~NotEqual~â ~NotEqualTilde~âÌ¸~NotExists~â~NotGreater~â¯~NotGreaterEqual~â±~NotGreaterFullEqual~â§Ì¸~NotGreaterGreater~â«Ì¸~NotGreaterLess~â¹~NotGreaterSlantEqual~â©¾Ì¸~NotGreaterTilde~âµ~NotHumpDownHump~âÌ¸~NotHumpEqual~âÌ¸~NotLeftTriangle~âª~NotLeftTriangleBar~â§Ì¸~NotLeftTriangleEqual~â¬~NotLess~â®~NotLessEqual~â°~NotLessGreater~â¸~NotLessLess~âªÌ¸~NotLessSlantEqual~â©½Ì¸~NotLessTilde~â´~NotNestedGreaterGreater~âª¢Ì¸~NotNestedLessLess~âª¡Ì¸~NotPrecedes~â~NotPrecedesEqual~âª¯Ì¸~NotPrecedesSlantEqual~â ~NotReverseElement~â~NotRightTriangle~â«~NotRightTriangleBar~â§Ì¸~NotRightTriangleEqual~â­~NotSquareSubset~âÌ¸~NotSquareSubsetEqual~â¢~NotSquareSuperset~âÌ¸~NotSquareSupersetEqual~â£~NotSubset~ââ~NotSubsetEqual~â~NotSucceeds~â~NotSucceedsEqual~âª°Ì¸~NotSucceedsSlantEqual~â¡~NotSucceedsTilde~â¿Ì¸~NotSuperset~ââ~NotSupersetEqual~â~NotTilde~â~NotTildeEqual~â~NotTildeFullEqual~â~NotTildeTilde~â~NotVerticalBar~â¤~Nscr~ð©~Ocy~Ð~Odblac~Å~Ofr~ð~Omacr~Å~Oopf~ð~OpenCurlyDoubleQuote~â~OpenCurlyQuote~â~Or~â©~Oscr~ðª~Otimes~â¨·~OverBar~â¾~OverBrace~â~OverBracket~â´~OverParenthesis~â~PartialD~â~Pcy~Ð~Pfr~ð~PlusMinus~Â±~Poincareplane~â~Popf~â~Pr~âª»~Precedes~âº~PrecedesEqual~âª¯~PrecedesSlantEqual~â¼~PrecedesTilde~â¾~Product~â~Proportion~â·~Proportional~â~Pscr~ð«~Qfr~ð~Qopf~â~Qscr~ð¬~RBarr~â¤~Racute~Å~Rang~â«~Rarr~â ~Rarrtl~â¤~Rcaron~Å~Rcedil~Å~Rcy~Ð ~Re~â~ReverseElement~â~ReverseEquilibrium~â~ReverseUpEquilibrium~â¥¯~Rfr~â~RightAngleBracket~â©~RightArrow~â~RightArrowBar~â¥~RightArrowLeftArrow~â~RightCeiling~â~RightDoubleBracket~â§~RightDownTeeVector~â¥~RightDownVector~â~RightDownVectorBar~â¥~RightFloor~â~RightTee~â¢~RightTeeArrow~â¦~RightTeeVector~â¥~RightTriangle~â³~RightTriangleBar~â§~RightTriangleEqual~âµ~RightUpDownVector~â¥~RightUpTeeVector~â¥~RightUpVector~â¾~RightUpVectorBar~â¥~RightVector~â~RightVectorBar~â¥~Rightarrow~â~Ropf~â~RoundImplies~â¥°~Rrightarrow~â~Rscr~â~Rsh~â±~RuleDelayed~â§´~SHCHcy~Ð©~SHcy~Ð¨~SOFTcy~Ð¬~Sacute~Å~Sc~âª¼~Scedil~Å~Scirc~Å~Scy~Ð¡~Sfr~ð~ShortDownArrow~â~ShortLeftArrow~â~ShortRightArrow~â~ShortUpArrow~â~SmallCircle~â~Sopf~ð~Sqrt~â~Square~â¡~SquareIntersection~â~SquareSubset~â~SquareSubsetEqual~â~SquareSuperset~â~SquareSupersetEqual~â~SquareUnion~â~Sscr~ð®~Star~â~Sub~â~Subset~â~SubsetEqual~â~Succeeds~â»~SucceedsEqual~âª°~SucceedsSlantEqual~â½~SucceedsTilde~â¿~SuchThat~â~Sum~â~Sup~â~Superset~â~SupersetEqual~â~Supset~â~TRADE~â¢~TSHcy~Ð~TScy~Ð¦~Tab~	~Tcaron~Å¤~Tcedil~Å¢~Tcy~Ð¢~Tfr~ð~Therefore~â´~ThickSpace~ââ~ThinSpace~â~Tilde~â¼~TildeEqual~â~TildeFullEqual~â~TildeTilde~â~Topf~ð~TripleDot~â~Tscr~ð¯~Tstrok~Å¦~Uarr~â~Uarrocir~â¥~Ubrcy~Ð~Ubreve~Å¬~Ucy~Ð£~Udblac~Å°~Ufr~ð~Umacr~Åª~UnderBar~_~UnderBrace~â~UnderBracket~âµ~UnderParenthesis~â~Union~â~UnionPlus~â~Uogon~Å²~Uopf~ð~UpArrow~â~UpArrowBar~â¤~UpArrowDownArrow~â~UpDownArrow~â~UpEquilibrium~â¥®~UpTee~â¥~UpTeeArrow~â¥~Uparrow~â~Updownarrow~â~UpperLeftArrow~â~UpperRightArrow~â~Upsi~Ï~Uring~Å®~Uscr~ð°~Utilde~Å¨~VDash~â«~Vbar~â««~Vcy~Ð~Vdash~â©~Vdashl~â«¦~Vee~â~Verbar~â~Vert~â~VerticalBar~â£~VerticalLine~|~VerticalSeparator~â~VerticalTilde~â~VeryThinSpace~â~Vfr~ð~Vopf~ð~Vscr~ð±~Vvdash~âª~Wcirc~Å´~Wedge~â~Wfr~ð~Wopf~ð~Wscr~ð²~Xfr~ð~Xopf~ð~Xscr~ð³~YAcy~Ð¯~YIcy~Ð~YUcy~Ð®~Ycirc~Å¶~Ycy~Ð«~Yfr~ð~Yopf~ð~Yscr~ð´~ZHcy~Ð~Zacute~Å¹~Zcaron~Å½~Zcy~Ð~Zdot~Å»~ZeroWidthSpace~â~Zfr~â¨~Zopf~â¤~Zscr~ðµ~abreve~Ä~ac~â¾~acE~â¾Ì³~acd~â¿~acy~Ð°~af~â¡~afr~ð~aleph~âµ~amacr~Ä~amalg~â¨¿~andand~â©~andd~â©~andslope~â©~andv~â©~ange~â¦¤~angle~â ~angmsd~â¡~angmsdaa~â¦¨~angmsdab~â¦©~angmsdac~â¦ª~angmsdad~â¦«~angmsdae~â¦¬~angmsdaf~â¦­~angmsdag~â¦®~angmsdah~â¦¯~angrt~â~angrtvb~â¾~angrtvbd~â¦~angsph~â¢~angst~Ã~angzarr~â¼~aogon~Ä~aopf~ð~ap~â~apE~â©°~apacir~â©¯~ape~â~apid~â~approx~â~approxeq~â~ascr~ð¶~ast~*~asympeq~â~awconint~â³~awint~â¨~bNot~â«­~backcong~â~backepsilon~Ï¶~backprime~âµ~backsim~â½~backsimeq~â~barvee~â½~barwed~â~barwedge~â~bbrk~âµ~bbrktbrk~â¶~bcong~â~bcy~Ð±~becaus~âµ~because~âµ~bemptyv~â¦°~bepsi~Ï¶~bernou~â¬~beth~â¶~between~â¬~bfr~ð~bigcap~â~bigcirc~â¯~bigcup~â~bigodot~â¨~bigoplus~â¨~bigotimes~â¨~bigsqcup~â¨~bigstar~â~bigtriangledown~â½~bigtriangleup~â³~biguplus~â¨~bigvee~â~bigwedge~â~bkarow~â¤~blacklozenge~â§«~blacksquare~âª~blacktriangle~â´~blacktriangledown~â¾~blacktriangleleft~â~blacktriangleright~â¸~blank~â£~blk12~â~blk14~â~blk34~â~block~â~bne~=â¥~bnequiv~â¡â¥~bnot~â~bopf~ð~bot~â¥~bottom~â¥~bowtie~â~boxDL~â~boxDR~â~boxDl~â~boxDr~â~boxH~â~boxHD~â¦~boxHU~â©~boxHd~â¤~boxHu~â§~boxUL~â~boxUR~â~boxUl~â~boxUr~â~boxV~â~boxVH~â¬~boxVL~â£~boxVR~â ~boxVh~â«~boxVl~â¢~boxVr~â~boxbox~â§~boxdL~â~boxdR~â~boxdl~â~boxdr~â~boxh~â~boxhD~â¥~boxhU~â¨~boxhd~â¬~boxhu~â´~boxminus~â~boxplus~â~boxtimes~â ~boxuL~â~boxuR~â~boxul~â~boxur~â~boxv~â~boxvH~âª~boxvL~â¡~boxvR~â~boxvh~â¼~boxvl~â¤~boxvr~â~bprime~âµ~breve~Ë~bscr~ð·~bsemi~â~bsim~â½~bsime~â~bsol~\\~bsolb~â§~bsolhsub~â~bullet~â¢~bump~â~bumpE~âª®~bumpe~â~bumpeq~â~cacute~Ä~capand~â©~capbrcup~â©~capcap~â©~capcup~â©~capdot~â©~caps~â©ï¸~caret~â~caron~Ë~ccaps~â©~ccaron~Ä~ccirc~Ä~ccups~â©~ccupssm~â©~cdot~Ä~cemptyv~â¦²~centerdot~Â·~cfr~ð ~chcy~Ñ~check~â~checkmark~â~cir~â~cirE~â§~circeq~â~circlearrowleft~âº~circlearrowright~â»~circledR~Â®~circledS~â~circledast~â~circledcirc~â~circleddash~â~cire~â~cirfnint~â¨~cirmid~â«¯~cirscir~â§~clubsuit~â£~colon~:~colone~â~coloneq~â~comma~,~commat~@~comp~â~compfn~â~complement~â~complexes~â~congdot~â©­~conint~â®~copf~ð~coprod~â~copysr~â~cross~â~cscr~ð¸~csub~â«~csube~â«~csup~â«~csupe~â«~ctdot~â¯~cudarrl~â¤¸~cudarrr~â¤µ~cuepr~â~cuesc~â~cularr~â¶~cularrp~â¤½~cupbrcap~â©~cupcap~â©~cupcup~â©~cupdot~â~cupor~â©~cups~âªï¸~curarr~â·~curarrm~â¤¼~curlyeqprec~â~curlyeqsucc~â~curlyvee~â~curlywedge~â~curvearrowleft~â¶~curvearrowright~â·~cuvee~â~cuwed~â~cwconint~â²~cwint~â±~cylcty~â­~dHar~â¥¥~daleth~â¸~dash~â~dashv~â£~dbkarow~â¤~dblac~Ë~dcaron~Ä~dcy~Ð´~dd~â~ddagger~â¡~ddarr~â~ddotseq~â©·~demptyv~â¦±~dfisht~â¥¿~dfr~ð¡~dharl~â~dharr~â~diam~â~diamond~â~diamondsuit~â¦~die~Â¨~digamma~Ï~disin~â²~div~Ã·~divideontimes~â~divonx~â~djcy~Ñ~dlcorn~â~dlcrop~â~dollar~$~dopf~ð~dot~Ë~doteq~â~doteqdot~â~dotminus~â¸~dotplus~â~dotsquare~â¡~doublebarwedge~â~downarrow~â~downdownarrows~â~downharpoonleft~â~downharpoonright~â~drbkarow~â¤~drcorn~â~drcrop~â~dscr~ð¹~dscy~Ñ~dsol~â§¶~dstrok~Ä~dtdot~â±~dtri~â¿~dtrif~â¾~duarr~âµ~duhar~â¥¯~dwangle~â¦¦~dzcy~Ñ~dzigrarr~â¿~eDDot~â©·~eDot~â~easter~â©®~ecaron~Ä~ecir~â~ecolon~â~ecy~Ñ~edot~Ä~ee~â~efDot~â~efr~ð¢~eg~âª~egs~âª~egsdot~âª~el~âª~elinters~â§~ell~â~els~âª~elsdot~âª~emacr~Ä~emptyset~â~emptyv~â~emsp13~â~emsp14~â~eng~Å~eogon~Ä~eopf~ð~epar~â~eparsl~â§£~eplus~â©±~epsi~Îµ~epsiv~Ïµ~eqcirc~â~eqcolon~â~eqsim~â~eqslantgtr~âª~eqslantless~âª~equals~=~equest~â~equivDD~â©¸~eqvparsl~â§¥~erDot~â~erarr~â¥±~escr~â¯~esdot~â~esim~â~excl~!~expectation~â°~exponentiale~â~fallingdotseq~â~fcy~Ñ~female~â~ffilig~ï¬~fflig~ï¬~ffllig~ï¬~ffr~ð£~filig~ï¬~fjlig~fj~flat~â­~fllig~ï¬~fltns~â±~fopf~ð~fork~â~forkv~â«~fpartint~â¨~frac13~â~frac15~â~frac16~â~frac18~â~frac23~â~frac25~â~frac35~â~frac38~â~frac45~â~frac56~â~frac58~â~frac78~â~frown~â¢~fscr~ð»~gE~â§~gEl~âª~gacute~Çµ~gammad~Ï~gap~âª~gbreve~Ä~gcirc~Ä~gcy~Ð³~gdot~Ä¡~gel~â~geq~â¥~geqq~â§~geqslant~â©¾~ges~â©¾~gescc~âª©~gesdot~âª~gesdoto~âª~gesdotol~âª~gesl~âï¸~gesles~âª~gfr~ð¤~gg~â«~ggg~â~gimel~â·~gjcy~Ñ~gl~â·~glE~âª~gla~âª¥~glj~âª¤~gnE~â©~gnap~âª~gnapprox~âª~gne~âª~gneq~âª~gneqq~â©~gnsim~â§~gopf~ð~grave~`~gscr~â~gsim~â³~gsime~âª~gsiml~âª~gtcc~âª§~gtcir~â©º~gtdot~â~gtlPar~â¦~gtquest~â©¼~gtrapprox~âª~gtrarr~â¥¸~gtrdot~â~gtreqless~â~gtreqqless~âª~gtrless~â·~gtrsim~â³~gvertneqq~â©ï¸~gvnE~â©ï¸~hairsp~â~half~Â½~hamilt~â~hardcy~Ñ~harrcir~â¥~harrw~â­~hbar~â~hcirc~Ä¥~heartsuit~â¥~hercon~â¹~hfr~ð¥~hksearow~â¤¥~hkswarow~â¤¦~hoarr~â¿~homtht~â»~hookleftarrow~â©~hookrightarrow~âª~hopf~ð~horbar~â~hscr~ð½~hslash~â~hstrok~Ä§~hybull~â~hyphen~â~ic~â£~icy~Ð¸~iecy~Ðµ~iff~â~ifr~ð¦~ii~â~iiiint~â¨~iiint~â­~iinfin~â§~iiota~â©~ijlig~Ä³~imacr~Ä«~imagline~â~imagpart~â~imath~Ä±~imof~â·~imped~Æµ~in~â~incare~â~infintie~â§~inodot~Ä±~intcal~âº~integers~â¤~intercal~âº~intlarhk~â¨~intprod~â¨¼~iocy~Ñ~iogon~Ä¯~iopf~ð~iprod~â¨¼~iscr~ð¾~isinE~â¹~isindot~âµ~isins~â´~isinsv~â³~isinv~â~it~â¢~itilde~Ä©~iukcy~Ñ~jcirc~Äµ~jcy~Ð¹~jfr~ð§~jmath~È·~jopf~ð~jscr~ð¿~jsercy~Ñ~jukcy~Ñ~kappav~Ï°~kcedil~Ä·~kcy~Ðº~kfr~ð¨~kgreen~Ä¸~khcy~Ñ~kjcy~Ñ~kopf~ð~kscr~ð~lAarr~â~lAtail~â¤~lBarr~â¤~lE~â¦~lEg~âª~lHar~â¥¢~lacute~Äº~laemptyv~â¦´~lagran~â~langd~â¦~langle~â¨~lap~âª~larrb~â¤~larrbfs~â¤~larrfs~â¤~larrhk~â©~larrlp~â«~larrpl~â¤¹~larrsim~â¥³~larrtl~â¢~lat~âª«~latail~â¤~late~âª­~lates~âª­ï¸~lbarr~â¤~lbbrk~â²~lbrace~{~lbrack~[~lbrke~â¦~lbrksld~â¦~lbrkslu~â¦~lcaron~Ä¾~lcedil~Ä¼~lcub~{~lcy~Ð»~ldca~â¤¶~ldquor~â~ldrdhar~â¥§~ldrushar~â¥~ldsh~â²~leftarrow~â~leftarrowtail~â¢~leftharpoondown~â½~leftharpoonup~â¼~leftleftarrows~â~leftrightarrow~â~leftrightarrows~â~leftrightharpoons~â~leftrightsquigarrow~â­~leftthreetimes~â~leg~â~leq~â¤~leqq~â¦~leqslant~â©½~les~â©½~lescc~âª¨~lesdot~â©¿~lesdoto~âª~lesdotor~âª~lesg~âï¸~lesges~âª~lessapprox~âª~lessdot~â~lesseqgtr~â~lesseqqgtr~âª~lessgtr~â¶~lesssim~â²~lfisht~â¥¼~lfr~ð©~lg~â¶~lgE~âª~lhard~â½~lharu~â¼~lharul~â¥ª~lhblk~â~ljcy~Ñ~ll~âª~llarr~â~llcorner~â~llhard~â¥«~lltri~âº~lmidot~Å~lmoust~â°~lmoustache~â°~lnE~â¨~lnap~âª~lnapprox~âª~lne~âª~lneq~âª~lneqq~â¨~lnsim~â¦~loang~â¬~loarr~â½~lobrk~â¦~longleftarrow~âµ~longleftrightarrow~â·~longmapsto~â¼~longrightarrow~â¶~looparrowleft~â«~looparrowright~â¬~lopar~â¦~lopf~ð~loplus~â¨­~lotimes~â¨´~lowbar~_~lozenge~â~lozf~â§«~lpar~(~lparlt~â¦~lrarr~â~lrcorner~â~lrhar~â~lrhard~â¥­~lrtri~â¿~lscr~ð~lsh~â°~lsim~â²~lsime~âª~lsimg~âª~lsqb~[~lsquor~â~lstrok~Å~ltcc~âª¦~ltcir~â©¹~ltdot~â~lthree~â~ltimes~â~ltlarr~â¥¶~ltquest~â©»~ltrPar~â¦~ltri~â~ltrie~â´~ltrif~â~lurdshar~â¥~luruhar~â¥¦~lvertneqq~â¨ï¸~lvnE~â¨ï¸~mDDot~âº~male~â~malt~â ~maltese~â ~map~â¦~mapsto~â¦~mapstodown~â§~mapstoleft~â¤~mapstoup~â¥~marker~â®~mcomma~â¨©~mcy~Ð¼~measuredangle~â¡~mfr~ðª~mho~â§~mid~â£~midast~*~midcir~â«°~minusb~â~minusd~â¸~minusdu~â¨ª~mlcp~â«~mldr~â¦~mnplus~â~models~â§~mopf~ð~mp~â~mscr~ð~mstpos~â¾~multimap~â¸~mumap~â¸~nGg~âÌ¸~nGt~â«â~nGtv~â«Ì¸~nLeftarrow~â~nLeftrightarrow~â~nLl~âÌ¸~nLt~âªâ~nLtv~âªÌ¸~nRightarrow~â~nVDash~â¯~nVdash~â®~nacute~Å~nang~â â~nap~â~napE~â©°Ì¸~napid~âÌ¸~napos~Å~napprox~â~natur~â®~natural~â®~naturals~â~nbump~âÌ¸~nbumpe~âÌ¸~ncap~â©~ncaron~Å~ncedil~Å~ncong~â~ncongdot~â©­Ì¸~ncup~â©~ncy~Ð½~neArr~â~nearhk~â¤¤~nearr~â~nearrow~â~nedot~âÌ¸~nequiv~â¢~nesear~â¤¨~nesim~âÌ¸~nexist~â~nexists~â~nfr~ð«~ngE~â§Ì¸~nge~â±~ngeq~â±~ngeqq~â§Ì¸~ngeqslant~â©¾Ì¸~nges~â©¾Ì¸~ngsim~âµ~ngt~â¯~ngtr~â¯~nhArr~â~nharr~â®~nhpar~â«²~nis~â¼~nisd~âº~niv~â~njcy~Ñ~nlArr~â~nlE~â¦Ì¸~nlarr~â~nldr~â¥~nle~â°~nleftarrow~â~nleftrightarrow~â®~nleq~â°~nleqq~â¦Ì¸~nleqslant~â©½Ì¸~nles~â©½Ì¸~nless~â®~nlsim~â´~nlt~â®~nltri~âª~nltrie~â¬~nmid~â¤~nopf~ð~notinE~â¹Ì¸~notindot~âµÌ¸~notinva~â~notinvb~â·~notinvc~â¶~notni~â~notniva~â~notnivb~â¾~notnivc~â½~npar~â¦~nparallel~â¦~nparsl~â«½â¥~npart~âÌ¸~npolint~â¨~npr~â~nprcue~â ~npre~âª¯Ì¸~nprec~â~npreceq~âª¯Ì¸~nrArr~â~nrarr~â~nrarrc~â¤³Ì¸~nrarrw~âÌ¸~nrightarrow~â~nrtri~â«~nrtrie~â­~nsc~â~nsccue~â¡~nsce~âª°Ì¸~nscr~ð~nshortmid~â¤~nshortparallel~â¦~nsim~â~nsime~â~nsimeq~â~nsmid~â¤~nspar~â¦~nsqsube~â¢~nsqsupe~â£~nsubE~â«Ì¸~nsube~â~nsubset~ââ~nsubseteq~â~nsubseteqq~â«Ì¸~nsucc~â~nsucceq~âª°Ì¸~nsup~â~nsupE~â«Ì¸~nsupe~â~nsupset~ââ~nsupseteq~â~nsupseteqq~â«Ì¸~ntgl~â¹~ntlg~â¸~ntriangleleft~âª~ntrianglelefteq~â¬~ntriangleright~â«~ntrianglerighteq~â­~num~#~numero~â~numsp~â~nvDash~â­~nvHarr~â¤~nvap~ââ~nvdash~â¬~nvge~â¥â~nvgt~>â~nvinfin~â§~nvlArr~â¤~nvle~â¤â~nvlt~<â~nvltrie~â´â~nvrArr~â¤~nvrtrie~âµâ~nvsim~â¼â~nwArr~â~nwarhk~â¤£~nwarr~â~nwarrow~â~nwnear~â¤§~oS~â~oast~â~ocir~â~ocy~Ð¾~odash~â~odblac~Å~odiv~â¨¸~odot~â~odsold~â¦¼~ofcir~â¦¿~ofr~ð¬~ogon~Ë~ogt~â§~ohbar~â¦µ~ohm~Î©~oint~â®~olarr~âº~olcir~â¦¾~olcross~â¦»~olt~â§~omacr~Å~omid~â¦¶~ominus~â~oopf~ð ~opar~â¦·~operp~â¦¹~orarr~â»~ord~â©~order~â´~orderof~â´~origof~â¶~oror~â©~orslope~â©~orv~â©~oscr~â´~osol~â~otimesas~â¨¶~ovbar~â½~par~â¥~parallel~â¥~parsim~â«³~parsl~â«½~pcy~Ð¿~percnt~%~period~.~pertenk~â±~pfr~ð­~phiv~Ï~phmmat~â³~phone~â~pitchfork~â~planck~â~planckh~â~plankv~â~plus~+~plusacir~â¨£~plusb~â~pluscir~â¨¢~plusdo~â~plusdu~â¨¥~pluse~â©²~plussim~â¨¦~plustwo~â¨§~pm~Â±~pointint~â¨~popf~ð¡~pr~âº~prE~âª³~prap~âª·~prcue~â¼~pre~âª¯~prec~âº~precapprox~âª·~preccurlyeq~â¼~preceq~âª¯~precnapprox~âª¹~precneqq~âªµ~precnsim~â¨~precsim~â¾~primes~â~prnE~âªµ~prnap~âª¹~prnsim~â¨~profalar~â®~profline~â~profsurf~â~propto~â~prsim~â¾~prurel~â°~pscr~ð~puncsp~â~qfr~ð®~qint~â¨~qopf~ð¢~qprime~â~qscr~ð~quaternions~â~quatint~â¨~quest~?~questeq~â~rAarr~â~rAtail~â¤~rBarr~â¤~rHar~â¥¤~race~â½Ì±~racute~Å~raemptyv~â¦³~rangd~â¦~range~â¦¥~rangle~â©~rarrap~â¥µ~rarrb~â¥~rarrbfs~â¤ ~rarrc~â¤³~rarrfs~â¤~rarrhk~âª~rarrlp~â¬~rarrpl~â¥~rarrsim~â¥´~rarrtl~â£~rarrw~â~ratail~â¤~ratio~â¶~rationals~â~rbarr~â¤~rbbrk~â³~rbrace~}~rbrack~]~rbrke~â¦~rbrksld~â¦~rbrkslu~â¦~rcaron~Å~rcedil~Å~rcub~}~rcy~Ñ~rdca~â¤·~rdldhar~â¥©~rdquor~â~rdsh~â³~realine~â~realpart~â~reals~â~rect~â­~rfisht~â¥½~rfr~ð¯~rhard~â~rharu~â~rharul~â¥¬~rhov~Ï±~rightarrow~â~rightarrowtail~â£~rightharpoondown~â~rightharpoonup~â~rightleftarrows~â~rightleftharpoons~â~rightrightarrows~â~rightsquigarrow~â~rightthreetimes~â~ring~Ë~risingdotseq~â~rlarr~â~rlhar~â~rmoust~â±~rmoustache~â±~rnmid~â«®~roang~â­~roarr~â¾~robrk~â§~ropar~â¦~ropf~ð£~roplus~â¨®~rotimes~â¨µ~rpar~)~rpargt~â¦~rppolint~â¨~rrarr~â~rscr~ð~rsh~â±~rsqb~]~rsquor~â~rthree~â~rtimes~â~rtri~â¹~rtrie~âµ~rtrif~â¸~rtriltri~â§~ruluhar~â¥¨~rx~â~sacute~Å~sc~â»~scE~âª´~scap~âª¸~sccue~â½~sce~âª°~scedil~Å~scirc~Å~scnE~âª¶~scnap~âªº~scnsim~â©~scpolint~â¨~scsim~â¿~scy~Ñ~sdotb~â¡~sdote~â©¦~seArr~â~searhk~â¤¥~searr~â~searrow~â~semi~;~seswar~â¤©~setminus~â~setmn~â~sext~â¶~sfr~ð°~sfrown~â¢~sharp~â¯~shchcy~Ñ~shcy~Ñ~shortmid~â£~shortparallel~â¥~sigmav~Ï~simdot~â©ª~sime~â~simeq~â~simg~âª~simgE~âª ~siml~âª~simlE~âª~simne~â~simplus~â¨¤~simrarr~â¥²~slarr~â~smallsetminus~â~smashp~â¨³~smeparsl~â§¤~smid~â£~smile~â£~smt~âªª~smte~âª¬~smtes~âª¬ï¸~softcy~Ñ~sol~/~solb~â§~solbar~â¿~sopf~ð¤~spadesuit~â ~spar~â¥~sqcap~â~sqcaps~âï¸~sqcup~â~sqcups~âï¸~sqsub~â~sqsube~â~sqsubset~â~sqsubseteq~â~sqsup~â~sqsupe~â~sqsupset~â~sqsupseteq~â~squ~â¡~square~â¡~squarf~âª~squf~âª~srarr~â~sscr~ð~ssetmn~â~ssmile~â£~sstarf~â~star~â~starf~â~straightepsilon~Ïµ~straightphi~Ï~strns~Â¯~subE~â«~subdot~âª½~subedot~â«~submult~â«~subnE~â«~subne~â~subplus~âª¿~subrarr~â¥¹~subset~â~subseteq~â~subseteqq~â«~subsetneq~â~subsetneqq~â«~subsim~â«~subsub~â«~subsup~â«~succ~â»~succapprox~âª¸~succcurlyeq~â½~succeq~âª°~succnapprox~âªº~succneqq~âª¶~succnsim~â©~succsim~â¿~sung~âª~supE~â«~supdot~âª¾~supdsub~â«~supedot~â«~suphsol~â~suphsub~â«~suplarr~â¥»~supmult~â«~supnE~â«~supne~â~supplus~â«~supset~â~supseteq~â~supseteqq~â«~supsetneq~â~supsetneqq~â«~supsim~â«~supsub~â«~supsup~â«~swArr~â~swarhk~â¤¦~swarr~â~swarrow~â~swnwar~â¤ª~target~â~tbrk~â´~tcaron~Å¥~tcedil~Å£~tcy~Ñ~tdot~â~telrec~â~tfr~ð±~therefore~â´~thetav~Ï~thickapprox~â~thicksim~â¼~thkap~â~thksim~â¼~timesb~â ~timesbar~â¨±~timesd~â¨°~tint~â­~toea~â¤¨~top~â¤~topbot~â¶~topcir~â«±~topf~ð¥~topfork~â«~tosa~â¤©~tprime~â´~triangle~âµ~triangledown~â¿~triangleleft~â~trianglelefteq~â´~triangleq~â~triangleright~â¹~trianglerighteq~âµ~tridot~â¬~trie~â~triminus~â¨º~triplus~â¨¹~trisb~â§~tritime~â¨»~trpezium~â¢~tscr~ð~tscy~Ñ~tshcy~Ñ~tstrok~Å§~twixt~â¬~twoheadleftarrow~â~twoheadrightarrow~â ~uHar~â¥£~ubrcy~Ñ~ubreve~Å­~ucy~Ñ~udarr~â~udblac~Å±~udhar~â¥®~ufisht~â¥¾~ufr~ð²~uharl~â¿~uharr~â¾~uhblk~â~ulcorn~â~ulcorner~â~ulcrop~â~ultri~â¸~umacr~Å«~uogon~Å³~uopf~ð¦~uparrow~â~updownarrow~â~upharpoonleft~â¿~upharpoonright~â¾~uplus~â~upsi~Ï~upuparrows~â~urcorn~â~urcorner~â~urcrop~â~uring~Å¯~urtri~â¹~uscr~ð~utdot~â°~utilde~Å©~utri~âµ~utrif~â´~uuarr~â~uwangle~â¦§~vArr~â~vBar~â«¨~vBarv~â«©~vDash~â¨~vangrt~â¦~varepsilon~Ïµ~varkappa~Ï°~varnothing~â~varphi~Ï~varpi~Ï~varpropto~â~varr~â~varrho~Ï±~varsigma~Ï~varsubsetneq~âï¸~varsubsetneqq~â«ï¸~varsupsetneq~âï¸~varsupsetneqq~â«ï¸~vartheta~Ï~vartriangleleft~â²~vartriangleright~â³~vcy~Ð²~vdash~â¢~vee~â¨~veebar~â»~veeeq~â~vellip~â®~verbar~|~vert~|~vfr~ð³~vltri~â²~vnsub~ââ~vnsup~ââ~vopf~ð§~vprop~â~vrtri~â³~vscr~ð~vsubnE~â«ï¸~vsubne~âï¸~vsupnE~â«ï¸~vsupne~âï¸~vzigzag~â¦~wcirc~Åµ~wedbar~â©~wedge~â§~wedgeq~â~wfr~ð´~wopf~ð¨~wp~â~wr~â~wreath~â~wscr~ð~xcap~â~xcirc~â¯~xcup~â~xdtri~â½~xfr~ðµ~xhArr~âº~xharr~â·~xlArr~â¸~xlarr~âµ~xmap~â¼~xnis~â»~xodot~â¨~xopf~ð©~xoplus~â¨~xotime~â¨~xrArr~â¹~xrarr~â¶~xscr~ð~xsqcup~â¨~xuplus~â¨~xutri~â³~xvee~â~xwedge~â~yacy~Ñ~ycirc~Å·~ycy~Ñ~yfr~ð¶~yicy~Ñ~yopf~ðª~yscr~ð~yucy~Ñ~zacute~Åº~zcaron~Å¾~zcy~Ð·~zdot~Å¼~zeetrf~â¨~zfr~ð·~zhcy~Ð¶~zigrarr~â~zopf~ð«~zscr~ð~~AMP~&~COPY~Â©~GT~>~LT~<~QUOT~"~REG~Â®',G.html4);var $={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},H=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)};String.prototype.codePointAt;var z=function(){return(z=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},V=z(z({},G),{all:G.html5}),W={scope:"body",level:"all"},K=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,J=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,X={xml:{strict:K,attribute:J,body:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},html4:{strict:K,attribute:J,body:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},html5:{strict:K,attribute:J,body:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g}},Y=z(z({},X),{all:X.html5}),Q=String.fromCharCode,Z=Q(65533),ee=e.i(976504),et=e.i(688947),er=e.i(563452),ei=e.i(814747),en=e.i(145706),es=et,eo=e.i(792509),ea=e.i(128472);function ec(e,t){return{options:"object"==typeof e?e:{},callback:"function"==typeof e?e:t}}function el(e){return Object.keys(e).map(t=>[t,e[t]])}function ep(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function eu(e,t){return e.split("/").map(ep).join(t?"%2F":"/")}function ed(e,t=!1,r="",i=""){let n=e.getUTCFullYear(),s=e.getUTCMonth()+1,o=e.getUTCDate(),a=e.getUTCHours(),c=e.getUTCMinutes(),l=e.getUTCSeconds(),p=`${n.toString().padStart(4,"0")}${r}${s.toString().padStart(2,"0")}${r}${o.toString().padStart(2,"0")}`;return t&&(p=`${p}T${a.toString().padStart(2,"0")}${i}${c.toString().padStart(2,"0")}${i}${l.toString().padStart(2,"0")}Z`),p}function eh(){return globalThis.Deno&&globalThis.Deno.version&&globalThis.Deno.version.deno?`gl-deno/${globalThis.Deno.version.deno}`:`gl-node/${process.versions.node}`}function ef(){let e=(0,ea.getPackageJSON)();return e.name.replace("@google-cloud","gcloud-node").replace("/","-")+"/"+e.version}function em(){return"ESM"}eo.fileURLToPath;class eg extends es.PassThrough{constructor(){super(...arguments),this.shouldEmitReading=!0,this.shouldEmitWriting=!0}_read(e){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),super._read(e)}_write(e,t,r){this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),process.nextTick(()=>{super._write(e,t,r)})}_final(e){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),e(null)}}var ey=e.i(469917);let ev=(0,ea.getPackageJSON)(),eb=Symbol.for("GCCL_GCS_CMD"),ex={timeout:6e4,gzip:!0,forever:!0,pool:{maxSockets:1/0}};class ew extends Error{constructor(e){if(super(),"object"!=typeof e){this.message=e||"";return}this.code=e.code,this.errors=e.errors,this.response=e.response;try{this.errors=JSON.parse(this.response.body).error.errors}catch(t){this.errors=e.errors}this.message=ew.createMultiErrorMessage(e,this.errors),Error.captureStackTrace(this)}static createMultiErrorMessage(e,t){let r=new Set;e.message&&r.add(e.message),t&&t.length?t.forEach(({message:e})=>r.add(e)):e.response&&e.response.body?r.add(function(e,t){var r=W.level,i=void 0===r?"all":r,n=W.scope,s=void 0===n?"xml"===i?"strict":"body":n;if(!e)return"";var o=Y[i][s],a=V[i].entities,c="attribute"===s,l="strict"===s;return e.replace(o,function(e){return function(e,t,r,i){var n=e,s=e[e.length-1];if(r&&"="===s)n=e;else if(i&&";"!==s)n=e;else{var o=t[e];if(o)n=o;else if("&"===e[0]&&"#"===e[1]){var a=e[2],c="x"==a||"X"==a?parseInt(e.substr(3),16):parseInt(e.substr(2));n=c>=1114111?Z:c>65535?H(c):Q($[c]||c)}}return n}(e,a,c,l)})}(e.response.body.toString())):e.message||r.add("A failure occurred during this request.");let i=Array.from(r);return i.length>1&&((i=i.map((e,t)=>`    ${t+1}. ${e}`)).unshift("Multiple errors occurred during the request. Please see the `errors` array for complete details.\n"),i.push("\n")),i.join("\n")}}class eE extends Error{constructor(e){super(),this.errors=e.errors,this.name="PartialFailureError",this.response=e.response,this.message=ew.createMultiErrorMessage(e,this.errors)}}class e_ extends et.Transform{constructor(){super(...arguments),this.bytesRead=0}_transform(e,t,r){this.bytesRead+=e.length,this.emit("progress",{bytesWritten:this.bytesRead,contentLength:"*"}),this.push(e),r()}}let eA=new class{constructor(){this.ApiError=ew,this.PartialFailureError=eE}noop(){}handleResp(e,t,r,i){i=i||eA.noop;let n={err:e||null,...t&&eA.parseHttpRespMessage(t),...r&&eA.parseHttpRespBody(r)};!n.err&&t&&"object"==typeof n.body&&(n.resp.body=n.body),n.err&&t&&(n.err.response=t),i(n.err,n.body,n.resp)}parseHttpRespMessage(e){let t={resp:e};return(e.statusCode<200||e.statusCode>299)&&(t.err=new ew({errors:[],code:e.statusCode,message:e.statusMessage,response:e})),t}parseHttpRespBody(e){let t={body:e};if("string"==typeof e)try{t.body=JSON.parse(e)}catch(r){t.body=e}return t.body&&t.body.error&&(t.err=new ew(t.body.error)),t}makeWritableStream(e,t,r){var i;r=r||eA.noop;let n=new e_;n.on("progress",t=>e.emit("progress",t)),e.setWritable(n);let s={method:"POST",qs:{uploadType:"multipart"},timeout:0,maxRetries:0},o=t.metadata||{},a={...s,...t.request,qs:{...s.qs,...null==(i=t.request)?void 0:i.qs},multipart:[{"Content-Type":"application/json",body:JSON.stringify(o)},{"Content-Type":o.contentType||"application/octet-stream",body:n}]};t.makeAuthenticatedRequest(a,{onAuthenticated(t,i){t?e.destroy(t):(ex.headers=eA._getDefaultHeaders(a[eb]),er.teenyRequest.defaults(ex)(i,(t,i,n)=>{eA.handleResp(t,i,n,(t,n)=>{t?e.destroy(t):(e.emit("response",i),r(n))})}))}})}shouldRetryRequest(e){if(e){if(-1!==[408,429,500,502,503,504].indexOf(e.code))return!0;if(e.errors)for(let t of e.errors){let e=t.reason;if("rateLimitExceeded"===e||"userRateLimitExceeded"===e||e&&e.includes("EAI_AGAIN"))return!0}}return!1}makeAuthenticatedRequestFactory(e){let t,r={...e};r.projectId===eT&&delete r.projectId;let i=function(r,i){let n,s,o,a={...e};i||(a.stream=n=(0,ey.default)());let c="object"==typeof i?i:void 0,l="function"==typeof i?i:void 0;async function p(){s=await t.getProjectId()}let u=async(e,t)=>{let i=e,u=e&&"string"==typeof e.message&&e.message.indexOf("Could not load the default credentials")>-1;if(u&&(t=r),!e||u)try{t=eA.decorateRequest(t,s),e=null}catch(r){if(r instanceof L.MissingProjectIdError)try{await p(),t=eA.decorateRequest(t,s),e=null}catch(t){e=e||t}else e=e||r}e?n?n.destroy(e):(c&&c.onAuthenticated?c.onAuthenticated:l)(e):c&&c.onAuthenticated?c.onAuthenticated(null,t):o=eA.makeRequest(t,a,(e,...t)=>{e&&401===e.code&&i&&(e=i),l(e,...t)})};return((async()=>{try{let i=async()=>e.projectId&&e.projectId!==eT?e.projectId:!1===e.projectIdRequired?eT:p(),n=async()=>a.customEndpoint&&!a.useAuthWithCustomEndpoint?r:t.authorizeRequest(r),[o,c]=await Promise.all([i(),n()]);return o&&(s=o),u(null,c)}catch(e){return u(e)}})(),n)?n:{abort(){setImmediate(()=>{o&&(o.abort(),o=null)})}}};return i.getCredentials=(t=r.authClient instanceof j.GoogleAuth?r.authClient:new j.GoogleAuth({...r,authClient:r.authClient,clientOptions:r.clientOptions})).getCredentials.bind(t),i.authClient=t,i}makeRequest(e,t,r){var i,n,s,o,a;let c,l=!0;void 0!==t.autoRetry?l=t.autoRetry:(null==(i=t.retryOptions)?void 0:i.autoRetry)!==void 0&&(l=t.retryOptions.autoRetry);let p=3;void 0!==t.maxRetries?p=t.maxRetries:(null==(n=t.retryOptions)?void 0:n.maxRetries)!==void 0&&(p=t.retryOptions.maxRetries),ex.headers=this._getDefaultHeaders(e[eb]);let u={request:er.teenyRequest.defaults(ex),retries:!1!==l?p:0,noResponseRetries:!1!==l?p:0,shouldRetryFn(e){var r,i;let n=eA.parseHttpRespMessage(e).err;return(null==(r=t.retryOptions)?void 0:r.retryableErrorFn)?n&&(null==(i=t.retryOptions)?void 0:i.retryableErrorFn(n)):n&&eA.shouldRetryRequest(n)},maxRetryDelay:null==(s=t.retryOptions)?void 0:s.maxRetryDelay,retryDelayMultiplier:null==(o=t.retryOptions)?void 0:o.retryDelayMultiplier,totalTimeout:null==(a=t.retryOptions)?void 0:a.totalTimeout};if("number"==typeof e.maxRetries&&(u.retries=e.maxRetries,u.noResponseRetries=e.maxRetries),!t.stream)return(0,ee.default)(e,u,(e,t,i)=>{eA.handleResp(e,t,i,r)});let d=t.stream;return"GET"===(e.method||"GET").toUpperCase()?(c=(0,ee.default)(e,u),d.setReadable(c)):(c=u.request(e),d.setWritable(c)),c.on("error",d.destroy.bind(d)).on("response",d.emit.bind(d,"response")).on("complete",d.emit.bind(d,"complete")),d.abort=c.abort,d}decorateRequest(e,t){return delete e.autoPaginate,delete e.autoPaginateVal,delete e.objectMode,null!==e.qs&&"object"==typeof e.qs&&(delete e.qs.autoPaginate,delete e.qs.autoPaginateVal,e.qs=(0,L.replaceProjectIdToken)(e.qs,t)),Array.isArray(e.multipart)&&(e.multipart=e.multipart.map(e=>(0,L.replaceProjectIdToken)(e,t))),null!==e.json&&"object"==typeof e.json&&(delete e.json.autoPaginate,delete e.json.autoPaginateVal,e.json=(0,L.replaceProjectIdToken)(e.json,t)),e.uri=(0,L.replaceProjectIdToken)(e.uri,t),e}isCustomType(e,t){function r(e){return e.constructor&&e.constructor.name.toLowerCase()}let i=t.split("/"),n=i[0]&&i[0].toLowerCase(),s=i[1]&&i[1].toLowerCase();if(s&&r(e)!==s)return!1;let o=e;for(;;){if(r(o)===n)return!0;if(!(o=o.parent))return!1}}maybeOptionsOrCallback(e,t){return"function"==typeof e?[{},e]:[e,t]}_getDefaultHeaders(e){let t={"User-Agent":ef(),"x-goog-api-client":`${eh()} gccl/${ev.version}-${em()} gccl-invocation-id/${M()}`};return e&&(t["x-goog-api-client"]+=` gccl-gcs-cmd/${e}`),t}},eT="{{projectId}}";class ek{constructor(e,t={}){this.baseUrl=e.baseUrl,this.apiEndpoint=e.apiEndpoint,this.timeout=t.timeout,this.globalInterceptors=Array.isArray(t.interceptors_)?t.interceptors_:[],this.interceptors=[],this.packageJson=e.packageJson,this.projectId=t.projectId||eT,this.projectIdRequired=!1!==e.projectIdRequired,this.providedUserAgent=t.userAgent,this.universeDomain=t.universeDomain||j.DEFAULT_UNIVERSE,this.customEndpoint=e.customEndpoint||!1,this.useAuthWithCustomEndpoint=e.useAuthWithCustomEndpoint,this.makeAuthenticatedRequest=eA.makeAuthenticatedRequestFactory({...e,projectIdRequired:this.projectIdRequired,projectId:this.projectId,authClient:t.authClient||e.authClient,credentials:t.credentials,keyFile:t.keyFilename,email:t.email,clientOptions:{universeDomain:t.universeDomain,...t.clientOptions}}),this.authClient=this.makeAuthenticatedRequest.authClient,process.env.FUNCTION_NAME&&this.interceptors.push({request:e=>(e.forever=!1,e)})}getRequestInterceptors(){return[].slice.call(this.globalInterceptors).concat(this.interceptors).filter(e=>"function"==typeof e.request).map(e=>e.request)}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdAsync(){let e=await this.authClient.getProjectId();return this.projectId===eT&&e&&(this.projectId=e),this.projectId}request_(e,t){let r=0===(e={...e,timeout:this.timeout}).uri.indexOf("http"),i=[this.baseUrl];this.projectIdRequired&&(e.projectId?(i.push("projects"),i.push(e.projectId)):(i.push("projects"),i.push(this.projectId))),i.push(e.uri),r&&i.splice(0,i.indexOf(e.uri)),e.uri=i.map(e=>e.replace(/^\/*|\/*$/g,"")).join("/").replace(/\/:/g,":");let n=this.getRequestInterceptors();(Array.isArray(e.interceptors_)?e.interceptors_:[]).forEach(e=>{"function"==typeof e.request&&n.push(e.request)}),n.forEach(t=>{e=t(e)}),delete e.interceptors_;let s=this.packageJson,o=ef();if(this.providedUserAgent&&(o=`${this.providedUserAgent} ${o}`),e.headers={...e.headers,"User-Agent":o,"x-goog-api-client":`${eh()} gccl/${s.version}-${em()} gccl-invocation-id/${M()}`},e[eb]&&(e.headers["x-goog-api-client"]+=` gccl-gcs-cmd/${e[eb]}`),e.shouldReturnStream)return this.makeAuthenticatedRequest(e);this.makeAuthenticatedRequest(e,t)}request(e,t){ek.prototype.request_.call(this,e,t)}requestStream(e){let t={...e,shouldReturnStream:!0};return ek.prototype.request_.call(this,t)}}var eO=e.i(460406),eS=e.i(427699);class eC extends eS.EventEmitter{constructor(e){super(),this.metadata={},this.baseUrl=e.baseUrl,this.parent=e.parent,this.id=e.id,this.createMethod=e.createMethod,this.methods=e.methods||{},this.interceptors=[],this.projectId=e.projectId,e.methods&&Object.getOwnPropertyNames(eC.prototype).filter(t=>!/^request/.test(t)&&!/^getRequestInterceptors/.test(t)&&this[t]===eC.prototype[t]&&!e.methods[t]).forEach(e=>{this[e]=void 0})}create(e,t){let r=this,i=[this.id];"function"==typeof e&&(t=e),"object"==typeof e&&i.push(e),i.push(function(...e){let[i,n]=e;i||(r.metadata=n.metadata,r.id&&n.metadata&&(r.id=n.metadata.id),e[1]=r),t(...e)}),this.createMethod.apply(null,i)}delete(e,t){var r;let[i,n]=eA.maybeOptionsOrCallback(e,t),s=i.ignoreNotFound;delete i.ignoreNotFound;let o="object"==typeof this.methods.delete&&this.methods.delete||{},a={method:"DELETE",uri:"",...o.reqOpts,qs:{...null==(r=o.reqOpts)?void 0:r.qs,...i}};eC.prototype.request.call(this,a,(e,t,r)=>{e&&404===e.code&&s&&(e=null),n(e,r)})}exists(e,t){let[r,i]=eA.maybeOptionsOrCallback(e,t);this.get(r,e=>{e?404===e.code?i(null,!1):i(e):i(null,!0)})}get(e,t){let r=this,[i,n]=eA.maybeOptionsOrCallback(e,t),s=Object.assign({},i),o=s.autoCreate&&"function"==typeof this.create;function a(e,t,i){e?409===e.code?r.get(s,n):n(e,null,i):n(null,t,i)}delete s.autoCreate,this.getMetadata(s,(e,t)=>{if(e){if(404===e.code&&o){let e=[];Object.keys(s).length>0&&e.push(s),e.push(a),r.create(...e);return}n(e,null,t);return}n(null,r,t)})}getMetadata(e,t){var r;let[i,n]=eA.maybeOptionsOrCallback(e,t),s="object"==typeof this.methods.getMetadata&&this.methods.getMetadata||{},o={uri:"",...s.reqOpts,qs:{...null==(r=s.reqOpts)?void 0:r.qs,...i}};eC.prototype.request.call(this,o,(e,t,r)=>{this.metadata=t,n(e,this.metadata,r)})}getRequestInterceptors(){let e=this.interceptors.filter(e=>"function"==typeof e.request).map(e=>e.request);return this.parent.getRequestInterceptors().concat(e)}setMetadata(e,t,r){var i,n;let[s,o]=eA.maybeOptionsOrCallback(t,r),a="object"==typeof this.methods.setMetadata&&this.methods.setMetadata||{},c={method:"PATCH",uri:"",...a.reqOpts,json:{...null==(i=a.reqOpts)?void 0:i.json,...e},qs:{...null==(n=a.reqOpts)?void 0:n.qs,...s}};eC.prototype.request.call(this,c,(e,t,r)=>{this.metadata=t,o(e,this.metadata,r)})}request_(e,t){e={...e},this.projectId&&(e.projectId=this.projectId);let r=0===e.uri.indexOf("http"),i=[this.baseUrl,this.id||"",e.uri];r&&i.splice(0,i.indexOf(e.uri)),e.uri=i.filter(e=>e.trim()).map(e=>e.replace(/^\/*|\/*$/g,"")).join("/");let n=Array.isArray(e.interceptors_)?e.interceptors_:[],s=[].slice.call(this.interceptors);if(e.interceptors_=n.concat(s),e.shouldReturnStream)return this.parent.requestStream(e);this.parent.request(e,t)}request(e,t){this.request_(e,t)}requestStream(e){let t={...e,shouldReturnStream:!0};return this.request_(t)}}(0,eO.promisifyAll)(eC,{exclude:["getRequestInterceptors"]});var eR=e.i(902383),ej=e.i(522734),eN=e.i(464328),eP=e.i(344967),eI=e.i(224361),eq=e.i(252534);class eD{constructor(){this.owners={},this.readers={},this.writers={},this.owners={},this.readers={},this.writers={},eD.roles.forEach(this._assignAccessMethods.bind(this))}_assignAccessMethods(e){let t=eD.accessMethods,r=eD.entities;this[e.toLowerCase()+"s"]=r.reduce((r,i)=>{let n="-"===i.charAt(i.length-1);return t.forEach(t=>{let s=t+i[0].toUpperCase()+i.substring(1);n&&(s=s.replace("-","")),r[s]=(r,s,o)=>{let a;"function"==typeof s&&(o=s,s={}),n?a=i+r:(a=i,o=r);let c=[s=Object.assign({entity:a,role:e},s)];return"function"==typeof o&&c.push(o),this[t].apply(this,c)}}),r},{})}}eD.accessMethods=["add","delete"],eD.entities=["allAuthenticatedUsers","allUsers","domain-","group-","project-","user-"],eD.roles=["OWNER","READER","WRITER"];class eU extends eD{constructor(e){super(),this.pathPrefix=e.pathPrefix,this.request_=e.request}add(e,t){let r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"POST",uri:"",qs:r,maxRetries:0,json:{entity:e.entity,role:e.role.toUpperCase()}},(e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)})}delete(e,t){let r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"DELETE",uri:"/"+encodeURIComponent(e.entity),qs:r},(e,r)=>{t(e,r)})}get(e,t){let r="object"==typeof e?e:null,i="function"==typeof e?e:t,n="",s={};r&&(n="/"+encodeURIComponent(r.entity),r.generation&&(s.generation=r.generation),r.userProject&&(s.userProject=r.userProject)),this.request({uri:n,qs:s},(e,t)=>{e?i(e,null,t):i(null,t.items?t.items.map(this.makeAclObject_):this.makeAclObject_(t),t)})}update(e,t){let r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"PUT",uri:"/"+encodeURIComponent(e.entity),qs:r,json:{role:e.role.toUpperCase()}},(e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)})}makeAclObject_(e){let t={entity:e.entity,role:e.role};return e.projectTeam&&(t.projectTeam=e.projectTeam),t}request(e,t){e.uri=this.pathPrefix+e.uri,this.request_(e,t)}}(0,eO.promisifyAll)(eU,{exclude:["request"]});var eM=e.i(337282),eL=e.i(366037),eF=et,eB=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},eG=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};let e$=(0,ea.getPackageJSON)(),eH=/^(\w*):\/\//;class ez extends eF.Writable{constructor(e){var t;if(super(e),u.add(this),this.numBytesWritten=0,this.numRetries=0,this.currentInvocationId={checkUploadStatus:M(),chunk:M(),uri:M()},this.writeBuffers=[],this.numChunksReadInRequest=0,this.localWriteCache=[],this.localWriteCacheByteLength=0,this.upstreamEnded=!1,d.set(this,void 0),!(e=e||{}).bucket||!e.file)throw Error("A bucket and file name are required");if(e.offset&&!e.uri)throw RangeError("Cannot provide an `offset` without providing a `uri`");if(e.isPartialUpload&&!e.chunkSize)throw RangeError("Cannot set `isPartialUpload` without providing a `chunkSize`");e.authConfig=e.authConfig||{},e.authConfig.scopes=["https://www.googleapis.com/auth/devstorage.full_control"],this.authClient=e.authClient||new j.GoogleAuth(e.authConfig);const r=e.universeDomain||j.DEFAULT_UNIVERSE;if(this.apiEndpoint=`https://storage.${r}`,e.apiEndpoint&&e.apiEndpoint!==this.apiEndpoint){this.apiEndpoint=this.sanitizeEndpoint(e.apiEndpoint);const t=new URL(this.apiEndpoint).hostname,i=t===r,n=t===j.DEFAULT_UNIVERSE,s=t.slice(-(r.length+1))===`.${r}`,o=t.slice(-(j.DEFAULT_UNIVERSE.length+1))===`.${j.DEFAULT_UNIVERSE}`;i||n||s||o||!0===e.useAuthWithCustomEndpoint||(this.authClient=eL)}this.baseURI=`${this.apiEndpoint}/upload/storage/v1/b`,this.bucket=e.bucket;const i=[e.bucket,e.file];if("number"==typeof e.generation&&i.push(`${e.generation}`),this.cacheKey=i.join("/"),this.customRequestOptions=e.customRequestOptions||{},this.file=e.file,this.generation=e.generation,this.kmsKeyName=e.kmsKeyName,this.metadata=e.metadata||{},this.offset=e.offset,this.origin=e.origin,this.params=e.params||{},this.userProject=e.userProject,this.chunkSize=e.chunkSize,this.retryOptions=e.retryOptions,this.isPartialUpload=null!=(t=e.isPartialUpload)&&t,e.key)if("string"==typeof e.key){const t=Buffer.from(e.key).toString("base64");this.encryption={key:t,hash:(0,N.createHash)("sha256").update(e.key).digest("base64")}}else{const t=e.key.toString("base64");this.encryption={key:t,hash:(0,N.createHash)("sha256").update(e.key).digest("base64")}}this.predefinedAcl=e.predefinedAcl,e.private&&(this.predefinedAcl="private"),e.public&&(this.predefinedAcl="publicRead");const n=e.retryOptions.autoRetry;this.uriProvidedManually=!!e.uri,this.uri=e.uri,this.offset&&(this.numBytesWritten=this.offset),this.numRetries=0,n||(e.retryOptions.maxRetries=0),this.timeOfFirstRequest=Date.now();const s=e.metadata?Number(e.metadata.contentLength):NaN;this.contentLength=isNaN(s)?"*":s,eB(this,d,e[eb],"f"),this.once("writing",()=>{this.uri?this.continueUploading():this.createURI(e=>{if(e)return this.destroy(e);this.startUploading()})})}_final(e=()=>{}){this.upstreamEnded=!0,this.once("uploadFinished",e),process.nextTick(()=>{this.emit("upstreamFinished"),this.emit("writing")})}_write(e,t,r=()=>{}){this.emit("writing"),this.writeBuffers.push("string"==typeof e?Buffer.from(e,t):e),this.once("readFromChunkBuffer",r),process.nextTick(()=>this.emit("wroteToChunkBuffer"))}prependLocalBufferToUpstream(e){let t=[];if(e){let r=0;for(;e>r;){let i=this.localWriteCache.pop();if(!i)break;if((r+=i.byteLength)>e){let t=r-e;i=i.subarray(t),r-=t}t.unshift(i)}}else t=this.localWriteCache;let r=this.writeBuffers;for(let e of(this.writeBuffers=t,r))this.writeBuffers.push(e);eG(this,u,"m",h).call(this)}*pullFromChunkBuffer(e){for(;e;){let t=this.writeBuffers.shift();if(!t)break;let r=t;t.byteLength>e?(r=t.subarray(0,e),this.writeBuffers.unshift(t.subarray(e)),e=0):e-=t.byteLength,yield r,this.emit("readFromChunkBuffer")}}async waitForNextChunk(){return await new Promise(e=>{if(this.writeBuffers.length)return e(!0);if(this.upstreamEnded)return e(!1);let t=()=>(i(),e(!0)),r=()=>(i(),this.writeBuffers.length)?e(!0):e(!1),i=()=>{this.removeListener("wroteToChunkBuffer",t),this.removeListener("upstreamFinished",r)};this.once("wroteToChunkBuffer",t),this.once("upstreamFinished",r)})}async *upstreamIterator(e=1/0){for(;e&&await this.waitForNextChunk();)for(let t of this.pullFromChunkBuffer(e))e-=t.byteLength,yield t}createURI(e){if(!e)return this.createURIAsync();this.createURIAsync().then(t=>e(null,t),e)}async createURIAsync(){let e={...this.metadata},t={};e.contentLength&&(t["X-Upload-Content-Length"]=e.contentLength.toString(),delete e.contentLength),e.contentType&&(t["X-Upload-Content-Type"]=e.contentType,delete e.contentType);let r=`${eh()} gccl/${e$.version}-${em()} gccl-invocation-id/${this.currentInvocationId.uri}`;eG(this,d,"f")&&(r+=` gccl-gcs-cmd/${eG(this,d,"f")}`);let i={method:"POST",url:[this.baseURI,this.bucket,"o"].join("/"),params:Object.assign({name:this.file,uploadType:"resumable"},this.params),data:e,headers:{"User-Agent":ef(),"x-goog-api-client":r,...t}};e.contentLength&&(i.headers["X-Upload-Content-Length"]=e.contentLength.toString()),e.contentType&&(i.headers["X-Upload-Content-Type"]=e.contentType),void 0!==this.generation&&(i.params.ifGenerationMatch=this.generation),this.kmsKeyName&&(i.params.kmsKeyName=this.kmsKeyName),this.predefinedAcl&&(i.params.predefinedAcl=this.predefinedAcl),this.origin&&(i.headers.Origin=this.origin);let n=await (0,eq.default)(async e=>{var t,r,n;try{let e=await this.makeRequest(i);return this.currentInvocationId.uri=M(),e.headers.location}catch(s){let i={code:null==(t=s.response)?void 0:t.status,name:null==(r=s.response)?void 0:r.statusText,message:null==(n=s.response)?void 0:n.statusText,errors:[{reason:s.code}]};if(!(this.retryOptions.maxRetries>0&&this.retryOptions.retryableErrorFn(i)))return e(s);throw s}},{retries:this.retryOptions.maxRetries,factor:this.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.retryOptions.totalTimeout});return this.uri=n,this.offset=0,this.emit("uri",n),n}async continueUploading(){return null!=this.offset||await this.getAndSetOffset(),this.startUploading()}async startUploading(){let e,t=!!this.chunkSize,r=!1;if(this.numChunksReadInRequest=0,this.offset||(this.offset=0),this.offset<this.numBytesWritten){let e=this.numBytesWritten-this.offset,t=`The offset is lower than the number of bytes written. The server has ${this.offset} bytes and while ${this.numBytesWritten} bytes has been uploaded - thus ${e} bytes are missing. Stopping as this could result in data loss. Initiate a new upload to continue.`;this.emit("error",RangeError(t));return}if(this.numBytesWritten<this.offset){let e=this.offset-this.numBytesWritten;for await(let t of this.upstreamIterator(e));this.numBytesWritten=this.offset}"number"==typeof this.contentLength&&(e=this.contentLength-this.numBytesWritten),this.chunkSize&&(e=e?Math.min(this.chunkSize,e):this.chunkSize);let i=this.upstreamIterator(e),n=new eF.Readable({read:async()=>{r&&n.push(null);let e=await i.next();e.value&&(this.numChunksReadInRequest++,t||eG(this,u,"m",h).call(this),eG(this,u,"m",f).call(this,e.value),this.numBytesWritten+=e.value.byteLength,this.emit("progress",{bytesWritten:this.numBytesWritten,contentLength:this.contentLength}),n.push(e.value)),e.done&&n.push(null)}}),s=`${eh()} gccl/${e$.version}-${em()} gccl-invocation-id/${this.currentInvocationId.chunk}`;eG(this,d,"f")&&(s+=` gccl-gcs-cmd/${eG(this,d,"f")}`);let o={"User-Agent":ef(),"x-goog-api-client":s};if(t){for await(let t of this.upstreamIterator(e))eG(this,u,"m",f).call(this,t);let t=this.localWriteCacheByteLength,r=!await this.waitForNextChunk();this.prependLocalBufferToUpstream();let i=this.contentLength;"number"!=typeof this.contentLength&&r&&!this.isPartialUpload&&(i=t+this.numBytesWritten);let n=t+this.numBytesWritten-1;o["Content-Length"]=t,o["Content-Range"]=`bytes ${this.offset}-${n}/${i}`}else o["Content-Range"]=`bytes ${this.offset}-*/${this.contentLength}`;let a={method:"PUT",url:this.uri,headers:o,body:n};try{let e=await this.makeRequestStream(a);e&&(r=!0,await this.responseHandler(e))}catch(e){if(this.retryOptions.retryableErrorFn(e))return void this.attemptDelayedRetry({status:NaN,data:e});this.destroy(e)}}async responseHandler(e){if(e.data.error)return void this.destroy(e.data.error);this.currentInvocationId.chunk=M();let t=await this.waitForNextChunk(),r=this.chunkSize&&308===e.status&&e.headers.range&&t,i=this.isPartialUpload&&308===e.status&&!t;if(r){let t=e.headers.range;this.offset=Number(t.split("-")[1])+1;let r=this.numBytesWritten-this.offset;r?(this.prependLocalBufferToUpstream(r),this.numBytesWritten-=r):eG(this,u,"m",h).call(this),this.continueUploading()}else if(this.isSuccessfulResponse(e.status)||i)eG(this,u,"m",h).call(this),e&&e.data&&(e.data.size=Number(e.data.size)),this.emit("metadata",e.data),this.emit("uploadFinished");else{let t=Error("Upload failed");t.code=e.status,t.name="Upload failed",(null==e?void 0:e.data)&&(t.errors=[null==e?void 0:e.data]),this.destroy(t)}}async checkUploadStatus(e={}){let t=`${eh()} gccl/${e$.version}-${em()} gccl-invocation-id/${this.currentInvocationId.checkUploadStatus}`;eG(this,d,"f")&&(t+=` gccl-gcs-cmd/${eG(this,d,"f")}`);let r={method:"PUT",url:this.uri,headers:{"Content-Length":0,"Content-Range":"bytes */*","User-Agent":ef(),"x-goog-api-client":t}};try{let e=await this.makeRequest(r);return this.currentInvocationId.checkUploadStatus=M(),e}catch(r){if(!1===e.retry||!(r instanceof Error)||!this.retryOptions.retryableErrorFn(r))throw r;let t=this.getRetryDelay();if(t<=0)throw r;return await new Promise(e=>setTimeout(e,t)),this.checkUploadStatus(e)}}async getAndSetOffset(){try{let e=await this.checkUploadStatus({retry:!1});if(308===e.status&&"string"==typeof e.headers.range){this.offset=Number(e.headers.range.split("-")[1])+1;return}this.offset=0}catch(e){if(this.retryOptions.retryableErrorFn(e))return void this.attemptDelayedRetry({status:NaN,data:e});this.destroy(e)}}async makeRequest(e){this.encryption&&(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryption.key.toString(),e.headers["x-goog-encryption-key-sha256"]=this.encryption.hash.toString()),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.validateStatus=e=>this.isSuccessfulResponse(e)||308===e;let t={...this.customRequestOptions,...e,headers:{...this.customRequestOptions.headers,...e.headers}},r=await this.authClient.request(t);if(r.data&&r.data.error)throw r.data.error;return r}async makeRequestStream(e){let t=new eM.default,r=()=>t.abort();this.once("error",r),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.signal=t.signal,e.validateStatus=()=>!0;let i={...this.customRequestOptions,...e,headers:{...this.customRequestOptions.headers,...e.headers}},n=await this.authClient.request(i),s=this.onResponse(n);return this.removeListener("error",r),s?n:null}onResponse(e){return 200!==e.status&&this.retryOptions.retryableErrorFn({code:e.status,message:e.statusText,name:e.statusText})?(this.attemptDelayedRetry(e),!1):(this.emit("response",e),!0)}attemptDelayedRetry(e){if(this.numRetries<this.retryOptions.maxRetries){if(404===e.status&&0===this.numChunksReadInRequest)this.startUploading();else{let t=this.getRetryDelay();if(t<=0)return void this.destroy(Error(`Retry total time limit exceeded - ${JSON.stringify(e.data)}`));this.numBytesWritten-=this.localWriteCacheByteLength,this.prependLocalBufferToUpstream(),this.offset=void 0,setTimeout(this.continueUploading.bind(this),t)}this.numRetries++}else this.destroy(Error(`Retry limit exceeded - ${JSON.stringify(e.data)}`))}getRetryDelay(){let e=Math.round(1e3*Math.random()),t=1e3*Math.pow(this.retryOptions.retryDelayMultiplier,this.numRetries)+e,r=1e3*this.retryOptions.totalTimeout-(Date.now()-this.timeOfFirstRequest);return Math.min(t,1e3*this.retryOptions.maxRetryDelay,r)}sanitizeEndpoint(e){return eH.test(e)||(e=`https://${e}`),e.replace(/\/+$/,"")}isSuccessfulResponse(e){return e>=200&&e<300}}d=new WeakMap,u=new WeakSet,h=function(){this.localWriteCache=[],this.localWriteCacheByteLength=0},f=function(e){this.localWriteCache.push(e),this.localWriteCacheByteLength+=e.byteLength};var eV=e.i(406461);(t=m||(m={})).ACCESSIBLE_DATE_INVALID="The accessible at date provided was invalid.",t.EXPIRATION_BEFORE_ACCESSIBLE_DATE="An expiration date cannot be before accessible date.",t.X_GOOG_CONTENT_SHA256="The header X-Goog-Content-SHA256 must be a hexadecimal string.";class eW{constructor(e,t,r,i=new tp){this.auth=e,this.bucket=t,this.file=r,this.storage=i}getSignedUrl(e){let t,r,i=this.parseExpires(e.expires),n=e.method,s=this.parseAccessibleAt(e.accessibleAt);if(i<s)throw Error(m.EXPIRATION_BEFORE_ACCESSIBLE_DATE);let o=e.virtualHostedStyle||!1;e.cname?t=e.cname:o&&(t=`https://${this.bucket.name}.storage.${this.storage.universeDomain}`);let a=Object.assign({},e,{method:n,expiration:i,accessibleAt:new Date(1e3*s),bucket:this.bucket.name,file:this.file?eu(this.file.name,!1):void 0});t&&(a.cname=t);let c=e.version||"v2";if("v2"===c)r=this.getSignedUrlV2(a);else if("v4"===c)r=this.getSignedUrlV4(a);else throw Error(`Invalid signed URL version: ${c}. Supported versions are 'v2' and 'v4'.`);return r.then(t=>{var r,i;t=Object.assign(t,e.queryParams);let n=new eo.URL((null==(r=e.host)?void 0:r.toString())||a.cname||this.storage.apiEndpoint);return n.pathname=this.getResourcePath(!!a.cname,this.bucket.name,a.file),i=t,n.search=en.stringify(i,"&","=",{encodeURIComponent:e=>eu(e,!0)}),n.href})}getSignedUrlV2(e){let t=this.getCanonicalHeaders(e.extensionHeaders||{}),r=this.getResourcePath(!1,e.bucket,e.file),i=[e.method,e.contentMd5||"",e.contentType||"",e.expiration,t+r].join("\n");return(async()=>{var t;let r=this.auth;try{let n=await r.sign(i,null==(t=e.signingEndpoint)?void 0:t.toString());return{GoogleAccessId:(await r.getCredentials()).client_email,Expires:e.expiration,Signature:n}}catch(t){let e=new eK(t.message);throw e.stack=t.stack,e}})()}getSignedUrlV4(e){var t;let r;e.accessibleAt=e.accessibleAt?e.accessibleAt:new Date;let i=e.expiration-.001*e.accessibleAt.valueOf();if(i>604800)throw Error("Max allowed expiration is seven days (604800 seconds).");let n=Object.assign({},e.extensionHeaders);n.host=new eo.URL((null==(t=e.host)?void 0:t.toString())||e.cname||this.storage.apiEndpoint).hostname,e.contentMd5&&(n["content-md5"]=e.contentMd5),e.contentType&&(n["content-type"]=e.contentType);let s=n["x-goog-content-sha256"];if(s){if("string"!=typeof s||!/[A-Fa-f0-9]{40}/.test(s))throw Error(m.X_GOOG_CONTENT_SHA256);r=s}let o=Object.keys(n).map(e=>e.toLowerCase()).sort().join(";"),a=this.getCanonicalHeaders(n),c=ed(e.accessibleAt),l=`${c}/auto/storage/goog4_request`;return(async()=>{var t;let n=await this.auth.getCredentials(),s=`${n.client_email}/${l}`,c=ed(e.accessibleAt?e.accessibleAt:new Date,!0),p={"X-Goog-Algorithm":"GOOG4-RSA-SHA256","X-Goog-Credential":s,"X-Goog-Date":c,"X-Goog-Expires":i.toString(10),"X-Goog-SignedHeaders":o,...e.queryParams||{}},u=this.getCanonicalQueryParams(p),d=this.getCanonicalRequest(e.method,this.getResourcePath(!!e.cname,e.bucket,e.file),u,a,o,r),h=["GOOG4-RSA-SHA256",c,l,N.createHash("sha256").update(d).digest("hex")].join("\n");try{let r=await this.auth.sign(h,null==(t=e.signingEndpoint)?void 0:t.toString()),i=Buffer.from(r,"base64").toString("hex");return Object.assign({},p,{"X-Goog-Signature":i})}catch(t){let e=new eK(t.message);throw e.stack=t.stack,e}})()}getCanonicalHeaders(e){return el(e).map(([e,t])=>[e.toLowerCase(),t]).sort((e,t)=>e[0].localeCompare(t[0])).filter(([,e])=>void 0!==e).map(([e,t])=>{let r=`${t}`.trim().replace(/\s{2,}/g," ");return`${e}:${r}
`}).join("")}getCanonicalRequest(e,t,r,i,n,s){return[e,t,r,i,n,s||"UNSIGNED-PAYLOAD"].join("\n")}getCanonicalQueryParams(e){return el(e).map(([e,t])=>[eu(e,!0),eu(t,!0)]).sort((e,t)=>e[0]<t[0]?-1:1).map(([e,t])=>`${e}=${t}`).join("&")}getResourcePath(e,t,r){return e?"/"+(r||""):r?`/${t}/${r}`:`/${t}`}parseExpires(e,t=new Date){let r=new Date(e).valueOf();if(isNaN(r))throw Error(C.EXPIRATION_DATE_INVALID);if(r<t.valueOf())throw Error(C.EXPIRATION_DATE_PAST);return Math.floor(r/1e3)}parseAccessibleAt(e){let t=new Date(e||new Date).valueOf();if(isNaN(t))throw Error(m.ACCESSIBLE_DATE_INVALID);return Math.floor(t/1e3)}}class eK extends Error{constructor(){super(...arguments),this.name="SigningError"}}var eJ=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},eX=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};let eY=[0,0xf26b8303,0xe13b70f7,0x1350f3f4,0xc79a971f,0x35f1141c,0x26a1e7e8,0xd4ca64eb,0x8ad958cf,0x78b2dbcc,0x6be22838,0x9989ab3b,0x4d43cfd0,0xbf284cd3,0xac78bf27,0x5e133c24,0x105ec76f,0xe235446c,0xf165b798,0x30e349b,0xd7c45070,0x25afd373,0x36ff2087,0xc494a384,0x9a879fa0,0x68ec1ca3,0x7bbcef57,0x89d76c54,0x5d1d08bf,0xaf768bbc,0xbc267848,0x4e4dfb4b,0x20bd8ede,0xd2d60ddd,0xc186fe29,0x33ed7d2a,0xe72719c1,0x154c9ac2,0x61c6936,0xf477ea35,0xaa64d611,0x580f5512,0x4b5fa6e6,0xb93425e5,0x6dfe410e,0x9f95c20d,0x8cc531f9,0x7eaeb2fa,0x30e349b1,0xc288cab2,0xd1d83946,0x23b3ba45,0xf779deae,0x5125dad,0x1642ae59,0xe4292d5a,0xba3a117e,0x4851927d,0x5b016189,0xa96ae28a,0x7da08661,0x8fcb0562,0x9c9bf696,0x6ef07595,0x417b1dbc,0xb3109ebf,0xa0406d4b,0x522bee48,0x86e18aa3,0x748a09a0,0x67dafa54,0x95b17957,0xcba24573,0x39c9c670,0x2a993584,0xd8f2b687,0xc38d26c,0xfe53516f,0xed03a29b,0x1f682198,0x5125dad3,0xa34e59d0,0xb01eaa24,0x42752927,0x96bf4dcc,0x64d4cecf,0x77843d3b,0x85efbe38,0xdbfc821c,0x2997011f,0x3ac7f2eb,0xc8ac71e8,0x1c661503,0xee0d9600,0xfd5d65f4,0xf36e6f7,0x61c69362,0x93ad1061,0x80fde395,0x72966096,0xa65c047d,0x5437877e,0x4767748a,0xb50cf789,0xeb1fcbad,0x197448ae,0xa24bb5a,0xf84f3859,0x2c855cb2,0xdeeedfb1,0xcdbe2c45,0x3fd5af46,0x7198540d,0x83f3d70e,0x90a324fa,0x62c8a7f9,0xb602c312,0x44694011,0x5739b3e5,0xa55230e6,0xfb410cc2,0x92a8fc1,0x1a7a7c35,0xe811ff36,0x3cdb9bdd,0xceb018de,0xdde0eb2a,0x2f8b6829,0x82f63b78,0x709db87b,0x63cd4b8f,0x91a6c88c,0x456cac67,0xb7072f64,0xa457dc90,0x563c5f93,0x82f63b7,0xfa44e0b4,0xe9141340,0x1b7f9043,0xcfb5f4a8,0x3dde77ab,0x2e8e845f,0xdce5075c,0x92a8fc17,0x60c37f14,0x73938ce0,0x81f80fe3,0x55326b08,0xa759e80b,0xb4091bff,0x466298fc,0x1871a4d8,0xea1a27db,0xf94ad42f,0xb21572c,0xdfeb33c7,0x2d80b0c4,0x3ed04330,0xccbbc033,0xa24bb5a6,0x502036a5,0x4370c551,0xb11b4652,0x65d122b9,0x97baa1ba,0x84ea524e,0x7681d14d,0x2892ed69,0xdaf96e6a,0xc9a99d9e,0x3bc21e9d,0xef087a76,0x1d63f975,0xe330a81,0xfc588982,0xb21572c9,0x407ef1ca,0x532e023e,0xa145813d,0x758fe5d6,0x87e466d5,0x94b49521,0x66df1622,0x38cc2a06,0xcaa7a905,0xd9f75af1,0x2b9cd9f2,0xff56bd19,0xd3d3e1a,0x1e6dcdee,0xec064eed,0xc38d26c4,0x31e6a5c7,0x22b65633,0xd0ddd530,0x417b1db,0xf67c32d8,0xe52cc12c,0x1747422f,0x49547e0b,0xbb3ffd08,0xa86f0efc,0x5a048dff,0x8ecee914,0x7ca56a17,0x6ff599e3,0x9d9e1ae0,0xd3d3e1ab,0x21b862a8,0x32e8915c,0xc083125f,0x144976b4,0xe622f5b7,0xf5720643,0x7198540,0x590ab964,0xab613a67,0xb831c993,0x4a5a4a90,0x9e902e7b,0x6cfbad78,0x7fab5e8c,0x8dc0dd8f,0xe330a81a,0x115b2b19,0x20bd8ed,0xf0605bee,0x24aa3f05,0xd6c1bc06,0xc5914ff2,0x37faccf1,0x69e9f0d5,0x9b8273d6,0x88d28022,0x7ab90321,0xae7367ca,0x5c18e4c9,0x4f48173d,0xbd23943e,0xf36e6f75,0x105ec76,0x12551f82,0xe03e9c81,0x34f4f86a,0xc69f7b69,0xd5cf889d,0x27a40b9e,0x79b737ba,0x8bdcb4b9,0x988c474d,0x6ae7c44e,0xbe2da0a5,0x4c4623a6,0x5f16d052,0xad7d5351],eQ=new Int32Array(eY),eZ=()=>new e0;class e0{constructor(e=0){g.set(this,0),eJ(this,g,e,"f")}update(e){let t=0xffffffff^eX(this,g,"f");for(let r of e)t=e0.CRC32C_EXTENSION_TABLE[(r^t)&255]^t>>>8;eJ(this,g,0xffffffff^t,"f")}validate(e){return"number"==typeof e?e===eX(this,g,"f"):"string"==typeof e?e===this.toString():Buffer.isBuffer(e)?0===Buffer.compare(e,this.toBuffer()):e.toString()===this.toString()}toBuffer(){let e=Buffer.alloc(4);return e.writeInt32BE(eX(this,g,"f")),e}toJSON(){return this.toString()}toString(){return this.toBuffer().toString("base64")}valueOf(){return eX(this,g,"f")}static fromBuffer(e){let t;if(4!==(t=Buffer.isBuffer(e)?e:"buffer"in e?Buffer.from(e.buffer):Buffer.from(e)).byteLength){let e;throw RangeError((e=t.byteLength,`Buffer expected to equal 4 bytes, not ${e}`))}return new e0(t.readInt32BE())}static async fromFile(e){let t=new e0;return await new Promise((r,i)=>{(0,ej.createReadStream)(e).on("data",e=>{"string"==typeof e?t.update(Buffer.from(e)):t.update(e)}).on("end",()=>r()).on("error",i)}),t}static fromString(e){let t=Buffer.from(e,"base64");if(4!==t.byteLength){let e;throw RangeError((e=t.byteLength,`base64-encoded data expected to equal 4 bytes, not ${e}`))}return this.fromBuffer(t)}static fromNumber(e){if(!Number.isSafeInteger(e)||e>0x100000000||e<-0x100000000){let t;throw RangeError((t=e,`Number expected to be a safe, unsigned 32-bit integer, not ${t}`))}return new e0(e)}static from(e){return"number"==typeof e?this.fromNumber(e):"string"==typeof e?this.fromString(e):"byteLength"in e?this.fromBuffer(e):this.fromString(e.toString())}}g=new WeakMap,e0.CRC32C_EXTENSIONS=eY,e0.CRC32C_EXTENSION_TABLE=eQ;var e1=et,e2=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},e4=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class e3 extends e1.Transform{constructor(e={}){if(super(),this.updateHashesOnly=!1,y.set(this,void 0),v.set(this,void 0),b.set(this,""),this.crc32cEnabled=!!e.crc32c,this.md5Enabled=!!e.md5,this.updateHashesOnly=!!e.updateHashesOnly,this.crc32cExpected=e.crc32cExpected,this.md5Expected=e.md5Expected,this.crc32cEnabled)if(e.crc32cInstance)e2(this,y,e.crc32cInstance,"f");else{const t=e.crc32cGenerator||eZ;e2(this,y,t(),"f")}this.md5Enabled&&e2(this,v,(0,N.createHash)("md5"),"f")}get crc32c(){var e;return null==(e=e4(this,y,"f"))?void 0:e.toString()}_flush(e){if(e4(this,v,"f")&&e2(this,b,e4(this,v,"f").digest("base64"),"f"),this.updateHashesOnly)return void e();let t=this.crc32cEnabled||this.md5Enabled;if(this.crc32cEnabled&&this.crc32cExpected&&(t=!this.test("crc32c",this.crc32cExpected)),this.md5Enabled&&this.md5Expected&&(t=!this.test("md5",this.md5Expected)),t){let t=new e9(_.DOWNLOAD_MISMATCH);t.code="CONTENT_DOWNLOAD_MISMATCH",e(t)}else e()}_transform(e,t,r){this.push(e,t);try{e4(this,y,"f")&&e4(this,y,"f").update(e),e4(this,v,"f")&&e4(this,v,"f").update(e),r()}catch(e){r(e)}}test(e,t){let r=Buffer.isBuffer(t)?t.toString("base64"):t;return"crc32c"===e&&e4(this,y,"f")?e4(this,y,"f").validate(r):!!("md5"===e&&e4(this,v,"f"))&&e4(this,b,"f")===r}}y=new WeakMap,v=new WeakMap,b=new WeakMap;var e6=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};(r=E||(E={})).read="GET",r.write="PUT",r.delete="DELETE",r.resumable="POST";let e5=/^gs:\/\/([a-z0-9_.-]+)\/(.+)$/,e8=RegExp([/^text\/|application\/ecmascript|application\/javascript|application\/json/,/|application\/postscript|application\/rtf|application\/toml|application\/vnd.dart/,/|application\/vnd.ms-fontobject|application\/wasm|application\/x-httpd-php|application\/x-ns-proxy-autoconfig/,/|application\/x-sh(?!ockwave-flash)|application\/x-tar|application\/x-virtualbox-hdd|application\/x-virtualbox-ova|application\/x-virtualbox-ovf/,/|^application\/x-virtualbox-vbox$|application\/x-virtualbox-vdi|application\/x-virtualbox-vhd|application\/x-virtualbox-vmdk/,/|application\/xml|application\/xml-dtd|font\/otf|font\/ttf|image\/bmp|image\/vnd.adobe.photoshop|image\/vnd.microsoft.icon/,/|image\/vnd.ms-dds|image\/x-icon|image\/x-ms-bmp|message\/rfc822|model\/gltf-binary|\+json|\+text|\+xml|\+yaml/].map(e=>e.source).join(""),"i");class e9 extends Error{}let e7=/(gs):\/\/([a-z0-9_.-]+)\/(.+)/g,te=/(https):\/\/(storage\.googleapis\.com)\/([a-z0-9_.-]+)\/(.+)/g;(i=_||(_={})).EXPIRATION_TIME_NA="An expiration time is not available.",i.DESTINATION_NO_NAME="Destination file should have a name.",i.INVALID_VALIDATION_FILE_RANGE="Cannot use validation with file ranges (start/end).",i.MD5_NOT_AVAILABLE="MD5 verification was specified, but is not available for the requested object. MD5 is not available for composite objects.",i.EQUALS_CONDITION_TWO_ELEMENTS="Equals condition must be an array of 2 elements.",i.STARTS_WITH_TWO_ELEMENTS="StartsWith condition must be an array of 2 elements.",i.CONTENT_LENGTH_RANGE_MIN_MAX="ContentLengthRange must have numeric min & max fields.",i.DOWNLOAD_MISMATCH="The downloaded data did not match the data from the server. To be sure the content is the same, you should download the file again.",i.UPLOAD_MISMATCH_DELETE_FAIL="The uploaded data did not match the data from the server.\n    As a precaution, we attempted to delete the file, but it was not successful.\n    To be sure the content is the same, you should try removing the file manually,\n    then uploading the file again.\n    \n\nThe delete attempt failed with this message:\n\n  ",i.UPLOAD_MISMATCH="The uploaded data did not match the data from the server.\n    As a precaution, the file has been deleted.\n    To be sure the content is the same, you should try uploading the file again.",i.MD5_RESUMED_UPLOAD="MD5 cannot be used with a continued resumable upload as MD5 cannot be extended from an existing value",i.MISSING_RESUME_CRC32C_FINAL_UPLOAD="The CRC32C is missing for the final portion of a resumed upload, which is required for validation. Please provide `resumeCRC32C` if validation is required, or disable `validation`.";class tt extends eC{constructor(e,t,r={}){var i,n;let s;const o={};null!==r.generation&&(isNaN(s="string"==typeof r.generation?Number(r.generation):r.generation)||(o.generation=s)),Object.assign(o,r.preconditionOpts);const a=r.userProject||e.userProject;if("string"==typeof a&&(o.userProject=a),super({parent:e,baseUrl:"/o",id:encodeURIComponent(t),methods:{delete:{reqOpts:{qs:o}},exists:{reqOpts:{qs:o}},get:{reqOpts:{qs:o}},getMetadata:{reqOpts:{qs:o}},setMetadata:{reqOpts:{qs:o}}}}),x.add(this),this.bucket=e,this.storage=e.parent,null!==r.generation){let e;isNaN(e="string"==typeof r.generation?Number(r.generation):r.generation)||(this.generation=e)}this.kmsKeyName=r.kmsKeyName,this.userProject=a,this.name=t,r.encryptionKey&&this.setEncryptionKey(r.encryptionKey),this.acl=new eU({request:this.request.bind(this),pathPrefix:"/acl"}),this.crc32cGenerator=r.crc32cGenerator||this.bucket.crc32cGenerator,this.instanceRetryValue=null==(n=null==(i=this.storage)?void 0:i.retryOptions)?void 0:n.autoRetry,this.instancePreconditionOpts=null==r?void 0:r.preconditionOpts}get cloudStorageURI(){let e=this.bucket.cloudStorageURI;return e.pathname=this.name,e}shouldRetryBasedOnPreconditionAndIdempotencyStrat(e){var t;return((null==e?void 0:e.ifGenerationMatch)!==void 0||(null==(t=this.instancePreconditionOpts)?void 0:t.ifGenerationMatch)!==void 0||this.storage.retryOptions.idempotencyStrategy!==S.RetryConditional)&&this.storage.retryOptions.idempotencyStrategy!==S.RetryNever}copy(e,t,r){var i,n;let s,o,a,c=Error(_.DESTINATION_NO_NAME);if(!e)throw c;let l={};if("function"==typeof t?r=t:t&&(l={...t}),r=r||eA.noop,"string"==typeof e){let t=e5.exec(e);null!==t&&3===t.length?(s=this.storage.bucket(t[1]),o=t[2]):(s=this.bucket,o=e)}else if(e instanceof tn)s=e,o=this.name;else if(e instanceof tt)s=e.bucket,o=e.name,a=e;else throw c;let p={};void 0!==this.generation&&(p.sourceGeneration=this.generation),void 0!==l.token&&(p.rewriteToken=l.token),void 0!==l.userProject&&(p.userProject=l.userProject,delete l.userProject),void 0!==l.predefinedAcl&&(p.destinationPredefinedAcl=l.predefinedAcl,delete l.predefinedAcl),a=a||s.file(o);let u={};if(void 0!==this.encryptionKey&&(u["x-goog-copy-source-encryption-algorithm"]="AES256",u["x-goog-copy-source-encryption-key"]=this.encryptionKeyBase64,u["x-goog-copy-source-encryption-key-sha256"]=this.encryptionKeyHash),void 0!==a.encryptionKey?this.setEncryptionKey(a.encryptionKey):void 0!==l.destinationKmsKeyName?(p.destinationKmsKeyName=l.destinationKmsKeyName,delete l.destinationKmsKeyName):void 0!==a.kmsKeyName&&(p.destinationKmsKeyName=a.kmsKeyName),p.destinationKmsKeyName){this.kmsKeyName=p.destinationKmsKeyName;let e=this.interceptors.indexOf(this.encryptionKeyInterceptor);e>-1&&this.interceptors.splice(e,1)}this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(null==l?void 0:l.preconditionOpts)||(this.storage.retryOptions.autoRetry=!1),(null==(i=l.preconditionOpts)?void 0:i.ifGenerationMatch)!==void 0&&(p.ifGenerationMatch=null==(n=l.preconditionOpts)?void 0:n.ifGenerationMatch,delete l.preconditionOpts),this.request({method:"POST",uri:`/rewriteTo/b/${s.name}/o/${encodeURIComponent(a.name)}`,qs:p,json:l,headers:u},(e,t)=>{if(this.storage.retryOptions.autoRetry=this.instanceRetryValue,e)return void r(e,null,t);if(t.rewriteToken){let e={token:t.rewriteToken};p.userProject&&(e.userProject=p.userProject),p.destinationKmsKeyName&&(e.destinationKmsKeyName=p.destinationKmsKeyName),this.copy(a,e,r);return}r(null,a,t)})}createReadStream(e={}){let t,r,i="number"==typeof(e=Object.assign({decompress:!0},e)).start||"number"==typeof e.end,n=e.end<0,s=new eg,o=!0,a=!1;if("string"==typeof e.validation){let t=e.validation.toLowerCase().trim();o="crc32c"===t,a="md5"===t}else!1===e.validation&&(o=!1);let c=!i&&(o||a);if(i){if("string"==typeof e.validation||!0===e.validation)throw Error(_.INVALID_VALIDATION_FILE_RANGE);o=!1,a=!1}let l=e=>{e&&((null==r?void 0:r.agent)&&r.agent.destroy(),s.destroy(e))},p=(i,n,p)=>{if(i)return void this.getBufferFromReadable(p).then(e=>{i.message=e.toString("utf8"),s.destroy(i)});r=p.request;let u=p.toJSON().headers,d="gzip"===u["content-encoding"],h={},f="gzip"===u["x-goog-stored-content-encoding"]&&d||"identity"===u["x-goog-stored-content-encoding"],m=[];if(c&&("string"==typeof u["x-goog-hash"]&&u["x-goog-hash"].split(",").forEach(e=>{let t=e.indexOf("="),r=e.substring(0,t),i=e.substring(t+1);h[r]=i}),t=new e3({crc32c:o,md5:a,crc32cGenerator:this.crc32cGenerator,crc32cExpected:h.crc32c,md5Expected:h.md5})),a&&!h.md5){let e=new e9(_.MD5_NOT_AVAILABLE);e.code="MD5_NOT_AVAILABLE",s.destroy(e);return}f&&c&&t&&m.push(t),d&&e.decompress&&m.push(eV.createGunzip()),(0,et.pipeline)(p,...m,s,l)},u=()=>{let t={alt:"media"};this.generation&&(t.generation=this.generation),e.userProject&&(t.userProject=e.userProject);let r={"Accept-Encoding":"gzip","Cache-Control":"no-store"};if(i){let t="number"==typeof e.start?e.start:"0",i="number"==typeof e.end?e.end:"";r.Range=`bytes=${n?i:`${t}-${i}`}`}let o={uri:"",headers:r,qs:t};e[eb]&&(o[eb]=e[eb]),this.requestStream(o).on("error",e=>{s.destroy(e)}).on("response",e=>{s.emit("response",e),eA.handleResp(null,e,null,p)}).resume()};return s.on("reading",u),s}createResumableUpload(e,t){var r,i;let n="object"==typeof e?e:{};t="function"==typeof e?e:t;let s=this.storage.retryOptions;((null==(r=null==n?void 0:n.preconditionOpts)?void 0:r.ifGenerationMatch)===void 0&&(null==(i=this.instancePreconditionOpts)?void 0:i.ifGenerationMatch)===void 0&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional||this.storage.retryOptions.idempotencyStrategy===S.RetryNever)&&(s.autoRetry=!1),function(e,t){let r=new ez(e);if(!t)return r.createURI();r.createURI().then(e=>t(null,e),t)}({authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((e,t)=>t(e),{}),file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:n.metadata,offset:n.offset,origin:n.origin,predefinedAcl:n.predefinedAcl,private:n.private,public:n.public,userProject:n.userProject||this.userProject,retryOptions:s,params:(null==n?void 0:n.preconditionOpts)||this.instancePreconditionOpts,universeDomain:this.bucket.storage.universeDomain,useAuthWithCustomEndpoint:this.storage.useAuthWithCustomEndpoint,[eb]:n[eb]},t),this.storage.retryOptions.autoRetry=this.instanceRetryValue}createWriteStream(e={}){if(null!=e.metadata||(e.metadata={}),e.contentType&&(e.metadata.contentType=e.contentType),!e.metadata.contentType||"auto"===e.metadata.contentType){let t=eN.default.getType(this.name);t&&(e.metadata.contentType=t)}let t=e.gzip;"auto"===t&&(t=e8.test(e.metadata.contentType||"")),t&&(e.metadata.contentEncoding="gzip");let r=!0,i=!1;if("string"==typeof e.validation?(e.validation=e.validation.toLowerCase(),r="crc32c"===e.validation,i="md5"===e.validation):!1===e.validation&&(r=!1,i=!1),e.offset){if(i)throw RangeError(_.MD5_RESUMED_UPLOAD);if(r&&!e.isPartialUpload&&!e.resumeCRC32C)throw RangeError(_.MISSING_RESUME_CRC32C_FINAL_UPLOAD)}let n=e=>{s.destroy(e||void 0)},s=new et.Writable({final(e){n=e,a.end()},write(e,t,r){a.write(e,t,r)}});s.once("error",e=>{a.destroy(e)}),s.once("close",()=>{a.destroy()});let o=[];t&&o.push(eV.createGzip());let a=new eg,c=()=>{};a.on("error",c);let l=null;if(r||i){let t=e.resumeCRC32C?e0.from(e.resumeCRC32C):void 0;l=new e3({crc32c:r,crc32cInstance:t,md5:i,crc32cGenerator:this.crc32cGenerator,updateHashesOnly:!0}),o.push(l)}let p=(0,ey.default)(),u=!1;return a.on("reading",()=>s.emit("reading")),a.on("writing",()=>s.emit("writing")),p.on("uri",e=>s.emit("uri",e)),p.on("progress",e=>s.emit("progress",e)),p.on("response",e=>s.emit("response",e)),p.once("metadata",()=>{u=!0}),s.once("writing",()=>{!1===e.resumable?this.startSimpleUpload_(p,e):this.startResumableUpload_(p,e),a.removeListener("error",c),(0,et.pipeline)(a,...o,p,async t=>{if(t)return n(t);if(!u)try{await new Promise((e,t)=>{p.once("metadata",e),p.once("error",t)})}catch(e){return n(e)}(null==l?void 0:l.crc32c)&&s.emit("crc32c",l.crc32c);try{let t=e.isPartialUpload&&!this.metadata;l&&!t&&await e6(this,x,"m",w).call(this,l,{crc32c:r,md5:i}),n()}catch(e){n(e)}})}),s}delete(e,t){let r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.disableAutoRetryConditionallyIdempotent_(this.methods.delete,k.delete,r),super.delete(r).then(e=>t(null,...e)).catch(t).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}download(e,t){let r;"function"==typeof e?(t=e,r={}):r=Object.assign({},e);let i=!1,n=(...e)=>{i||t(...e),i=!0},s=r.destination;delete r.destination,r.encryptionKey&&(this.setEncryptionKey(r.encryptionKey),delete r.encryptionKey);let o=this.createReadStream(r),a=!1;s?o.on("error",n).once("data",e=>{a=!0;let t=ej.createWriteStream(s);t.write(e),o.pipe(t).on("error",e=>{n(e,Buffer.from(""))}).on("finish",()=>{n(null,e)})}).on("end",()=>{if(!a){let e=Buffer.alloc(0);try{ej.writeFileSync(s,e),n(null,e)}catch(t){n(t,e)}}}):this.getBufferFromReadable(o).then(e=>null==n?void 0:n(null,e)).catch(n)}setEncryptionKey(e){return this.encryptionKey=e,this.encryptionKeyBase64=Buffer.from(e).toString("base64"),this.encryptionKeyHash=N.createHash("sha256").update(this.encryptionKeyBase64,"base64").digest("base64"),this.encryptionKeyInterceptor={request:e=>(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryptionKeyBase64,e.headers["x-goog-encryption-key-sha256"]=this.encryptionKeyHash,e)},this.interceptors.push(this.encryptionKeyInterceptor),this}static from(e,t,r){let i=[...e.matchAll(e7)],n=[...e.matchAll(te)];if(i.length>0)return new tt(new tn(t,i[0][2]),i[0][3],r);if(n.length>0)return new tt(new tn(t,n[0][3]),n[0][4],r);throw Error("URL string must be of format gs://bucket/file or https://storage.googleapis.com/bucket/file")}get(e,t){let r="object"==typeof e?e:{};t="function"==typeof e?e:t,super.get(r).then(e=>t(null,...e)).catch(t)}getExpirationDate(e){this.getMetadata((t,r,i)=>{t?e(t,null,i):r.retentionExpirationTime?e(null,new Date(r.retentionExpirationTime),i):e(Error(_.EXPIRATION_TIME_NA),null,i)})}generateSignedPostPolicyV2(e,t){let r=ec(e,t),i=r.options,n=r.callback,s=new Date(i.expires);if(isNaN(s.getTime()))throw Error(C.EXPIRATION_DATE_INVALID);if(s.valueOf()<Date.now())throw Error(C.EXPIRATION_DATE_PAST);i=Object.assign({},i);let o=[["eq","$key",this.name],{bucket:this.bucket.name}];if(Array.isArray(i.equals)&&(Array.isArray(i.equals[0])||(i.equals=[i.equals]),i.equals.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw Error(_.EQUALS_CONDITION_TWO_ELEMENTS);o.push(["eq",e[0],e[1]])})),Array.isArray(i.startsWith)&&(Array.isArray(i.startsWith[0])||(i.startsWith=[i.startsWith]),i.startsWith.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw Error(_.STARTS_WITH_TWO_ELEMENTS);o.push(["starts-with",e[0],e[1]])})),i.acl&&o.push({acl:i.acl}),i.successRedirect&&o.push({success_action_redirect:i.successRedirect}),i.successStatus&&o.push({success_action_status:i.successStatus}),i.contentLengthRange){let e=i.contentLengthRange.min,t=i.contentLengthRange.max;if("number"!=typeof e||"number"!=typeof t)throw Error(_.CONTENT_LENGTH_RANGE_MIN_MAX);o.push(["content-length-range",e,t])}let a=JSON.stringify({expiration:s.toISOString(),conditions:o}),c=Buffer.from(a).toString("base64");this.storage.authClient.sign(c,i.signingEndpoint).then(e=>{n(null,{string:a,base64:c,signature:e})},e=>{n(new eK(e.message))})}generateSignedPostPolicyV4(e,t){let r=ec(e,t),i=r.options,n=r.callback,s=new Date(i.expires);if(isNaN(s.getTime()))throw Error(C.EXPIRATION_DATE_INVALID);if(s.valueOf()<Date.now())throw Error(C.EXPIRATION_DATE_PAST);if(s.valueOf()-Date.now()>6048e5)throw Error("Max allowed expiration is seven days (604800 seconds).");let o=Object.assign({},(i=Object.assign({},i)).fields),a=new Date,c=ed(a,!0),l=ed(a);(async()=>{let{client_email:e}=await this.storage.authClient.getCredentials(),t=`${e}/${l}/auto/storage/goog4_request`;o={...o,bucket:this.bucket.name,key:this.name,"x-goog-date":c,"x-goog-credential":t,"x-goog-algorithm":"GOOG4-RSA-SHA256"};let r=i.conditions||[];Object.entries(o).forEach(([e,t])=>{e.startsWith("x-ignore-")||r.push({[e]:t})}),delete o.bucket;let n=JSON.stringify({conditions:r,expiration:ed(s,!0,"-",":")}).replace(/[\u0080-\uFFFF]/g,e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)),a=Buffer.from(n).toString("base64");try{let e=await this.storage.authClient.sign(a,i.signingEndpoint),t=Buffer.from(e,"base64").toString("hex"),r=this.parent.storage.universeDomain;return o.policy=a,o["x-goog-signature"]=t,{url:this.storage.customEndpoint?this.storage.apiEndpoint:i.virtualHostedStyle?`https://${this.bucket.name}.storage.${r}/`:i.bucketBoundHostname?`${i.bucketBoundHostname}/`:`https://storage.${r}/${this.bucket.name}/`,fields:o}}catch(e){throw new eK(e.message)}})().then(e=>n(null,e),n)}getSignedUrl(e,t){let r=E[e.action],i=function(e){let t={};for(let r of Object.keys(e)){let i=e[r];t[r=r.toLowerCase()]=i}return t}(e.extensionHeaders||{});"resumable"===e.action&&(i["x-goog-resumable"]="start");let n=Object.assign({},e.queryParams);"string"==typeof e.responseType&&(n["response-content-type"]=e.responseType),"string"==typeof e.promptSaveAs&&(n["response-content-disposition"]='attachment; filename="'+e.promptSaveAs+'"'),"string"==typeof e.responseDisposition&&(n["response-content-disposition"]=e.responseDisposition),this.generation&&(n.generation=this.generation.toString());let s={method:r,expires:e.expires,accessibleAt:e.accessibleAt,extensionHeaders:i,queryParams:n,contentMd5:e.contentMd5,contentType:e.contentType,host:e.host};e.cname&&(s.cname=e.cname),e.version&&(s.version=e.version),e.virtualHostedStyle&&(s.virtualHostedStyle=e.virtualHostedStyle),this.signer||(this.signer=new eW(this.storage.authClient,this.bucket,this,this.storage)),this.signer.getSignedUrl(s).then(e=>t(null,e),t)}isPublic(e){var t;let r=(null==(t=this.storage)?void 0:t.interceptors)||[],i=this.interceptors||[],n=r.concat(i).reduce((e,t)=>(Object.assign(e,t.request({uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`}).headers),e),{});eA.makeRequest({method:"GET",uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`,headers:n},{retryOptions:this.storage.retryOptions},t=>{t?403===t.code?e(null,!1):e(t):e(null,!0)})}makePrivate(e,t){var r,i;let n="object"==typeof e?e:{};t="function"==typeof e?e:t;let s={predefinedAcl:n.strict?"private":"projectPrivate"};(null==(r=n.preconditionOpts)?void 0:r.ifMetagenerationMatch)!==void 0&&(s.ifMetagenerationMatch=null==(i=n.preconditionOpts)?void 0:i.ifMetagenerationMatch,delete n.preconditionOpts),n.userProject&&(s.userProject=n.userProject);let o={...n.metadata,acl:null};this.setMetadata(o,s,t)}makePublic(e){e=e||eA.noop,this.acl.add({entity:"allUsers",role:"READER"},(t,r,i)=>{e(t,i)})}publicUrl(){return`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`}moveFileAtomic(e,t,r){var i,n;let s,o,a=Error(_.DESTINATION_NO_NAME);if(!e)throw a;let c={};if("function"==typeof t?r=t:t&&(c={...t}),r=r||eA.noop,"string"==typeof e){let t=e5.exec(e);s=null!==t&&3===t.length?t[2]:e}else if(e instanceof tt)s=e.name,o=e;else throw a;o=o||this.bucket.file(s),this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(null==c?void 0:c.preconditionOpts)||(this.storage.retryOptions.autoRetry=!1);let l={};void 0!==c.userProject&&(l.userProject=c.userProject,delete c.userProject),(null==(i=c.preconditionOpts)?void 0:i.ifGenerationMatch)!==void 0&&(l.ifGenerationMatch=null==(n=c.preconditionOpts)?void 0:n.ifGenerationMatch,delete c.preconditionOpts),this.request({method:"POST",uri:`/moveTo/o/${encodeURIComponent(o.name)}`,qs:l,json:c},(e,t)=>{(this.storage.retryOptions.autoRetry=this.instanceRetryValue,e)?r(e,null,t):r(null,o,t)})}move(e,t,r){let i="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||eA.noop,this.copy(e,i,(e,t,n)=>{if(e){e.message="file#copy failed with an error - "+e.message,r(e,null,n);return}this.name!==t.name||this.bucket.name!==t.bucket.name?this.delete(i,(e,i)=>{if(e){e.message="file#delete failed with an error - "+e.message,r(e,t,i);return}r(null,t,n)}):r(null,t,n)})}rename(e,t,r){let i="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||eA.noop,this.move(e,i,r)}async restore(e){let[t]=await this.request({method:"POST",uri:"/restore",qs:e});return t}request(e,t){return this.parent.request.call(this,e,t)}rotateEncryptionKey(e,t){var r;t="function"==typeof e?e:t;let i={};"string"==typeof e||e instanceof Buffer?i={encryptionKey:e}:"object"==typeof e&&(i=e);let n=this.bucket.file(this.id,i),s=(null==(r=i.preconditionOpts)?void 0:r.ifGenerationMatch)!==void 0?{preconditionOpts:i.preconditionOpts}:{};this.copy(n,s,t)}save(e,t,r){r="function"==typeof t?t:r;let i="object"==typeof t?t:{},n=this.storage.retryOptions.maxRetries;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(null==i?void 0:i.preconditionOpts)||(n=0);let s=(0,eq.default)(async t=>new Promise((r,s)=>{0===n&&(this.storage.retryOptions.autoRetry=!1);let o=this.createWriteStream(i);i.onUploadProgress&&o.on("progress",i.onUploadProgress);let a=e=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(e)?s(e):t(e);"string"==typeof e||Buffer.isBuffer(e)||e instanceof Uint8Array?o.on("error",a).on("finish",()=>r()).end(e):(0,et.pipeline)(e,o,i=>{if(i){if("function"!=typeof e)return t(i);a(i)}else r()})}),{retries:n,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.storage.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.storage.retryOptions.totalTimeout});return r?s.then(()=>{if(r)return r()}).catch(r):s}setMetadata(e,t,r){let i="object"==typeof t?t:{};r="function"==typeof t?t:r,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,k.setMetadata,i),super.setMetadata(e,i).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setStorageClass(e,t,r){r="function"==typeof t?t:r;let i={..."object"==typeof t?t:{},storageClass:e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+"_"+r).toUpperCase()};this.copy(this,i,(e,t,i)=>{e?r(e,i):(this.metadata=t.metadata,r(null,i))})}setUserProject(e){this.bucket.setUserProject.call(this,e)}startResumableUpload_(e,t={}){let r;null!=t.metadata||(t.metadata={});let i=this.storage.retryOptions;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(t.preconditionOpts)||(i.autoRetry=!1);let n={authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((e,t)=>t(e),{}),file:this.name,generation:this.generation,isPartialUpload:t.isPartialUpload,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:t.metadata,offset:t.offset,predefinedAcl:t.predefinedAcl,private:t.private,public:t.public,uri:t.uri,userProject:t.userProject||this.userProject,retryOptions:{...i},params:(null==t?void 0:t.preconditionOpts)||this.instancePreconditionOpts,chunkSize:null==t?void 0:t.chunkSize,highWaterMark:null==t?void 0:t.highWaterMark,universeDomain:this.bucket.storage.universeDomain,[eb]:t[eb]};try{r=new ez(n)}catch(t){e.destroy(t),this.storage.retryOptions.autoRetry=this.instanceRetryValue;return}r.on("response",t=>{e.emit("response",t)}).on("uri",t=>{e.emit("uri",t)}).on("metadata",t=>{this.metadata=t,e.emit("metadata")}).on("finish",()=>{e.emit("complete")}).on("progress",t=>e.emit("progress",t)),e.setWritable(r),this.storage.retryOptions.autoRetry=this.instanceRetryValue}startSimpleUpload_(e,t={}){null!=t.metadata||(t.metadata={});let r=this.storage.apiEndpoint,i=this.bucket.name,n=`${r}/upload/storage/v1/b/${i}/o`,s={qs:{name:this.name},uri:n,[eb]:t[eb]};void 0!==this.generation&&(s.qs.ifGenerationMatch=this.generation),void 0!==this.kmsKeyName&&(s.qs.kmsKeyName=this.kmsKeyName),"number"==typeof t.timeout&&(s.timeout=t.timeout),(t.userProject||this.userProject)&&(s.qs.userProject=t.userProject||this.userProject),t.predefinedAcl?s.qs.predefinedAcl=t.predefinedAcl:t.private?s.qs.predefinedAcl="private":t.public&&(s.qs.predefinedAcl="publicRead"),Object.assign(s.qs,this.instancePreconditionOpts,t.preconditionOpts),eA.makeWritableStream(e,{makeAuthenticatedRequest:t=>{this.request(t,(t,r,i)=>{t?e.destroy(t):(this.metadata=r,e.emit("metadata",r),e.emit("response",i),e.emit("complete"))})},metadata:t.metadata,request:s})}disableAutoRetryConditionallyIdempotent_(e,t,r){var i,n,s,o;("object"==typeof e&&(null==(n=null==(i=null==e?void 0:e.reqOpts)?void 0:i.qs)?void 0:n.ifGenerationMatch)===void 0&&(null==r?void 0:r.ifGenerationMatch)===void 0&&t===k.delete&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional||this.storage.retryOptions.idempotencyStrategy===S.RetryNever)&&(this.storage.retryOptions.autoRetry=!1),("object"==typeof e&&(null==(o=null==(s=null==e?void 0:e.reqOpts)?void 0:s.qs)?void 0:o.ifMetagenerationMatch)===void 0&&(null==r?void 0:r.ifMetagenerationMatch)===void 0&&t===k.setMetadata&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional||this.storage.retryOptions.idempotencyStrategy===S.RetryNever)&&(this.storage.retryOptions.autoRetry=!1)}async getBufferFromReadable(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t)}}x=new WeakSet,w=async function(e,t={}){let r=this.metadata,i=!!(t.crc32c||t.md5);if(t.crc32c&&r.crc32c&&(i=!e.test("crc32c",r.crc32c)),t.md5&&r.md5Hash&&(i=!e.test("md5",r.md5Hash)),i){let e=[],i="",n="";try{await this.delete(),t.md5&&!r.md5Hash?(i="MD5_NOT_AVAILABLE",n=_.MD5_NOT_AVAILABLE):(i="FILE_NO_UPLOAD",n=_.UPLOAD_MISMATCH)}catch(t){i="FILE_NO_UPLOAD_DELETE",n=`${_.UPLOAD_MISMATCH_DELETE_FAIL}${t.message}`,e.push(t)}let s=new e9(n);throw s.code=i,s.errors=e,s}return!0},(0,eO.promisifyAll)(tt,{exclude:["cloudStorageURI","publicUrl","request","save","setEncryptionKey","shouldRetryBasedOnPreconditionAndIdempotencyStrat","getBufferFromReadable","restore"]}),(n=A||(A={})).POLICY_OBJECT_REQUIRED="A policy object is required.",n.PERMISSIONS_REQUIRED="Permissions are required.";class tr{constructor(e){this.request_=e.request.bind(e),this.resourceId_="buckets/"+e.getId()}getPolicy(e,t){let{options:r,callback:i}=ec(e,t),n={};r.userProject&&(n.userProject=r.userProject),null!==r.requestedPolicyVersion&&void 0!==r.requestedPolicyVersion&&(n.optionsRequestedPolicyVersion=r.requestedPolicyVersion),this.request_({uri:"/iam",qs:n},i)}setPolicy(e,t,r){let i;if(null===e||"object"!=typeof e)throw Error(A.POLICY_OBJECT_REQUIRED);let{options:n,callback:s}=ec(t,r);void 0===e.etag&&(i=0),this.request_({method:"PUT",uri:"/iam",maxRetries:i,json:Object.assign({resourceId:this.resourceId_},e),qs:n},s)}testPermissions(e,t,r){if(!Array.isArray(e)&&"string"!=typeof e)throw Error(A.PERMISSIONS_REQUIRED);let{options:i,callback:n}=ec(t,r),s=Array.isArray(e)?e:[e],o=Object.assign({permissions:s},i);this.request_({uri:"/iam/testPermissions",qs:o,useQuerystring:!0},(e,t)=>{if(e)return void n(e,null,t);let r=Array.isArray(t.permissions)?t.permissions:[];n(null,s.reduce((e,t)=>(e[t]=r.indexOf(t)>-1,e),{}),t)})}}(0,eO.promisifyAll)(tr);class ti extends eC{constructor(e,t){const r={};super({parent:e,baseUrl:"/notificationConfigs",id:t.toString(),createMethod:e.createNotification.bind(e),methods:{create:!0,delete:{reqOpts:{qs:r}},get:{reqOpts:{qs:r}},getMetadata:{reqOpts:{qs:r}},exists:!0}})}}(0,eO.promisifyAll)(ti),(T||(T={})).list="GET",(s=k||(k={}))[s.setMetadata=0]="setMetadata",s[s.delete=1]="delete",(o=O||(O={})).PROVIDE_SOURCE_FILE="You must provide at least one source file.",o.DESTINATION_FILE_NOT_SPECIFIED="A destination file must be specified.",o.CHANNEL_ID_REQUIRED="An ID is required to create a channel.",o.TOPIC_NAME_REQUIRED="A valid topic name is required.",o.CONFIGURATION_OBJECT_PREFIX_REQUIRED="A configuration object with a prefix is required.",o.SPECIFY_FILE_NAME="A file name must be specified.",o.METAGENERATION_NOT_PROVIDED="A metageneration must be provided.",o.SUPPLY_NOTIFICATION_ID="You must supply a notification ID.";class tn extends eC{getFilesStream(e){return new et.Readable}constructor(e,t,r){var i,n,s,o;r=r||{},t=t.replace(/^gs:\/\//,"").replace(/\/+$/,"");const a={};(null==(i=null==r?void 0:r.preconditionOpts)?void 0:i.ifGenerationMatch)&&(a.ifGenerationMatch=r.preconditionOpts.ifGenerationMatch),(null==(n=null==r?void 0:r.preconditionOpts)?void 0:n.ifGenerationNotMatch)&&(a.ifGenerationNotMatch=r.preconditionOpts.ifGenerationNotMatch),(null==(s=null==r?void 0:r.preconditionOpts)?void 0:s.ifMetagenerationMatch)&&(a.ifMetagenerationMatch=r.preconditionOpts.ifMetagenerationMatch),(null==(o=null==r?void 0:r.preconditionOpts)?void 0:o.ifMetagenerationNotMatch)&&(a.ifMetagenerationNotMatch=r.preconditionOpts.ifMetagenerationNotMatch);const c=r.userProject;"string"==typeof c&&(a.userProject=c),super({parent:e,baseUrl:"/b",id:t,createMethod:e.createBucket.bind(e),methods:{create:{reqOpts:{qs:a}},delete:{reqOpts:{qs:a}},exists:{reqOpts:{qs:a}},get:{reqOpts:{qs:a}},getMetadata:{reqOpts:{qs:a}},setMetadata:{reqOpts:{qs:a}}}}),this.name=t,this.storage=e,this.userProject=r.userProject,this.acl=new eU({request:this.request.bind(this),pathPrefix:"/acl"}),this.acl.default=new eU({request:this.request.bind(this),pathPrefix:"/defaultObjectAcl"}),this.crc32cGenerator=r.crc32cGenerator||this.storage.crc32cGenerator,this.iam=new tr(this),this.getFilesStream=eR.paginator.streamify("getFiles"),this.instanceRetryValue=e.retryOptions.autoRetry,this.instancePreconditionOpts=null==r?void 0:r.preconditionOpts}get cloudStorageURI(){let e=new eo.URL("gs://");return e.host=this.name,e}addLifecycleRule(e,t,r){let i={};"function"==typeof t?r=t:t&&(i=t),i=i||{};let n=Array.isArray(e)?e:[e];for(let e of n)e.condition.createdBefore instanceof Date&&(e.condition.createdBefore=e.condition.createdBefore.toISOString().replace(/T.+$/,"")),e.condition.customTimeBefore instanceof Date&&(e.condition.customTimeBefore=e.condition.customTimeBefore.toISOString().replace(/T.+$/,"")),e.condition.noncurrentTimeBefore instanceof Date&&(e.condition.noncurrentTimeBefore=e.condition.noncurrentTimeBefore.toISOString().replace(/T.+$/,""));!1===i.append?this.setMetadata({lifecycle:{rule:n}},i,r):this.getMetadata((e,t)=>{var s,o;if(e)return void r(e);let a=Array.isArray(null==(s=t.lifecycle)?void 0:s.rule)?null==(o=t.lifecycle)?void 0:o.rule:[];this.setMetadata({lifecycle:{rule:a.concat(n)}},i,r)})}combine(e,t,r,i){var n;if(!Array.isArray(e)||0===e.length)throw Error(O.PROVIDE_SOURCE_FILE);if(!t)throw Error(O.DESTINATION_FILE_NOT_SPECIFIED);let s={};"function"==typeof r?i=r:r&&(s=r),this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,k.setMetadata,s);let o=e=>e instanceof tt?e:this.file(e);e=e.map(o);let a=o(t);if(i=i||eA.noop,!a.metadata.contentType){let e=eN.default.getType(a.name)||void 0;e&&(a.metadata.contentType=e)}let c=this.storage.retryOptions.maxRetries;((null==(n=null==a?void 0:a.instancePreconditionOpts)?void 0:n.ifGenerationMatch)===void 0&&void 0===s.ifGenerationMatch&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional||this.storage.retryOptions.idempotencyStrategy===S.RetryNever)&&(c=0),void 0===s.ifGenerationMatch&&Object.assign(s,a.instancePreconditionOpts,s),a.request({method:"POST",uri:"/compose",maxRetries:c,json:{destination:{contentType:a.metadata.contentType,contentEncoding:a.metadata.contentEncoding},sourceObjects:e.map(e=>{let t={name:e.name};return e.metadata&&e.metadata.generation&&(t.generation=parseInt(e.metadata.generation.toString())),t})},qs:s},(e,t)=>{(this.storage.retryOptions.autoRetry=this.instanceRetryValue,e)?i(e,null,t):i(null,a,t)})}createChannel(e,t,r,i){if("string"!=typeof e)throw Error(O.CHANNEL_ID_REQUIRED);let n={};"function"==typeof r?i=r:r&&(n=r),this.request({method:"POST",uri:"/o/watch",json:Object.assign({id:e,type:"web_hook"},t),qs:n},(t,r)=>{if(t)return void i(t,null,r);let n=r.resourceId,s=this.storage.channel(e,n);s.metadata=r,i(null,s,r)})}createNotification(e,t,r){let i={};if("function"==typeof t?r=t:t&&(i=t),null!==e&&"object"==typeof e&&eA.isCustomType(e,"pubsub/topic")&&(e=e.name),"string"!=typeof e)throw Error(O.TOPIC_NAME_REQUIRED);let n=Object.assign({topic:e},i);0!==n.topic.indexOf("projects")&&(n.topic="projects/{{projectId}}/topics/"+n.topic),n.topic=`//pubsub.${this.storage.universeDomain}/`+n.topic,n.payloadFormat||(n.payloadFormat="JSON_API_V1");let s={};n.userProject&&(s.userProject=n.userProject,delete n.userProject),this.request({method:"POST",uri:"/notificationConfigs",json:function e(t){return t instanceof Date||t instanceof RegExp?t:Array.isArray(t)?t.map(e):t instanceof Object?Object.keys(t).reduce((r,i)=>(r[i[0].toLocaleLowerCase()+i.slice(1).replace(/([A-Z]+)/g,(e,t)=>`_${t.toLowerCase()}`)]=e(t[i]),r),{}):t}(n),qs:s,maxRetries:0},(e,t)=>{if(e)return void r(e,null,t);let i=this.notification(t.id);i.metadata=t,r(null,i,t)})}deleteFiles(e,t){let r={};"function"==typeof e?t=e:e&&(r=e);let i=[],n=e=>e.delete(r).catch(e=>{if(!r.force)throw e;i.push(e)});(async()=>{try{let e=[],s=(0,eP.default)(10),o=this.getFilesStream(r);for await(let t of o)e.length>=1e3&&(await Promise.all(e),e=[]),e.push(s(()=>n(t)).catch(e=>{throw o.destroy(),e}));await Promise.all(e),t(i.length>0?i:null)}catch(e){t(e);return}})()}deleteLabels(e,t,r){let i=[],n={};"function"==typeof e?r=e:"string"==typeof e?i=[e]:Array.isArray(e)?i=e:e&&(n=e),"function"==typeof t?r=t:t&&(n=t);let s=e=>{let t=e.reduce((e,t)=>(e[t]=null,e),{});(null==n?void 0:n.ifMetagenerationMatch)!==void 0?this.setLabels(t,n,r):this.setLabels(t,r)};0===i.length?this.getLabels((e,t)=>{e?r(e):s(Object.keys(t))}):s(i)}disableRequesterPays(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.setMetadata({billing:{requesterPays:!1}},r,t)}enableLogging(e,t){if(!e||"function"==typeof e||void 0===e.prefix)throw Error(O.CONFIGURATION_OBJECT_PREFIX_REQUIRED);let r=this.id;e.bucket&&e.bucket instanceof tn?r=e.bucket.id:e.bucket&&"string"==typeof e.bucket&&(r=e.bucket);let i={};(null==e?void 0:e.ifMetagenerationMatch)&&(i.ifMetagenerationMatch=e.ifMetagenerationMatch),(null==e?void 0:e.ifMetagenerationNotMatch)&&(i.ifMetagenerationNotMatch=e.ifMetagenerationNotMatch),(async()=>{try{let[n]=await this.iam.getPolicy();n.bindings.push({members:["group:cloud-storage-analytics@google.com"],role:"roles/storage.objectCreator"}),await this.iam.setPolicy(n),this.setMetadata({logging:{logBucket:r,logObjectPrefix:e.prefix}},i,t)}catch(e){t(e);return}})()}enableRequesterPays(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.setMetadata({billing:{requesterPays:!0}},r,t)}file(e,t){if(!e)throw Error(O.SPECIFY_FILE_NAME);return new tt(this,e,t)}getFiles(e,t){let r="object"==typeof e?e:{};t||(t=e),(r=Object.assign({},r)).fields&&r.autoPaginate&&!r.fields.includes("nextPageToken")&&(r.fields=`${r.fields},nextPageToken`),this.request({uri:"/o",qs:r},(e,i)=>{if(e)return void t(e,null,null,i);let n=(i.items?i.items:[]).map(e=>{let t={};if(r.fields)return e;r.versions&&(t.generation=e.generation),e.kmsKeyName&&(t.kmsKeyName=e.kmsKeyName);let i=this.file(e.name,t);return i.metadata=e,i}),s=null;i.nextPageToken&&(s=Object.assign({},r,{pageToken:i.nextPageToken})),t(null,n,s,i)})}getLabels(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.getMetadata(r,(e,r)=>{e?t(e,null):t(null,(null==r?void 0:r.labels)||{})})}getNotifications(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.request({uri:"/notificationConfigs",qs:r},(e,r)=>{if(e)return void t(e,null,r);let i=(r.items?r.items:[]).map(e=>{let t=this.notification(e.id);return t.metadata=e,t});t(null,i,r)})}getSignedUrl(e,t){let r={method:T[e.action],expires:e.expires,version:e.version,cname:e.cname,extensionHeaders:e.extensionHeaders||{},queryParams:e.queryParams||{},host:e.host,signingEndpoint:e.signingEndpoint};this.signer||(this.signer=new eW(this.storage.authClient,this,void 0,this.storage)),this.signer.getSignedUrl(r).then(e=>t(null,e),t)}lock(e,t){let r=typeof e;if("number"!==r&&"string"!==r)throw Error(O.METAGENERATION_NOT_PROVIDED);this.request({method:"POST",uri:"/lockRetentionPolicy",qs:{ifMetagenerationMatch:e}},t)}async restore(e){let[t]=await this.request({method:"POST",uri:"/restore",qs:e});return t}makePrivate(e,t){var r,i,n,s;let o="object"==typeof e?e:{};t="function"==typeof e?e:t,o.private=!0;let a={predefinedAcl:"projectPrivate"};o.userProject&&(a.userProject=o.userProject),(null==(r=o.preconditionOpts)?void 0:r.ifGenerationMatch)&&(a.ifGenerationMatch=o.preconditionOpts.ifGenerationMatch),(null==(i=o.preconditionOpts)?void 0:i.ifGenerationNotMatch)&&(a.ifGenerationNotMatch=o.preconditionOpts.ifGenerationNotMatch),(null==(n=o.preconditionOpts)?void 0:n.ifMetagenerationMatch)&&(a.ifMetagenerationMatch=o.preconditionOpts.ifMetagenerationMatch),(null==(s=o.preconditionOpts)?void 0:s.ifMetagenerationNotMatch)&&(a.ifMetagenerationNotMatch=o.preconditionOpts.ifMetagenerationNotMatch);let c={...o.metadata,acl:null};this.setMetadata(c,a,e=>{e&&t(e),(o.includeFiles?(0,eI.promisify)(this.makeAllFilesPublicPrivate_).call(this,o):Promise.resolve([])).then(e=>t(null,e)).catch(t)})}makePublic(e,t){let r="object"==typeof e?e:{};t="function"==typeof e?e:t;let i={public:!0,...r};this.acl.add({entity:"allUsers",role:"READER"}).then(()=>this.acl.default.add({entity:"allUsers",role:"READER"})).then(()=>i.includeFiles?(0,eI.promisify)(this.makeAllFilesPublicPrivate_).call(this,i):[]).then(e=>t(null,e),t)}notification(e){if(!e)throw Error(O.SUPPLY_NOTIFICATION_ID);return new ti(this,e)}removeRetentionPeriod(e,t){let r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.setMetadata({retentionPolicy:null},r,t)}request(e,t){return!this.userProject||e.qs&&e.qs.userProject||(e.qs={...e.qs,userProject:this.userProject}),super.request(e,t)}setLabels(e,t,r){let i="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||eA.noop,this.setMetadata({labels:e},i,r)}setMetadata(e,t,r){let i="object"==typeof t?t:{};r="function"==typeof t?t:r,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,k.setMetadata,i),super.setMetadata(e,i).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setRetentionPeriod(e,t,r){let i="object"==typeof t?t:{};r="function"==typeof t?t:r,this.setMetadata({retentionPolicy:{retentionPeriod:e.toString()}},i,r)}setCorsConfiguration(e,t,r){let i="object"==typeof t?t:{};r="function"==typeof t?t:r,this.setMetadata({cors:e},i,r)}setStorageClass(e,t,r){let i="object"==typeof t?t:{};r="function"==typeof t?t:r,e=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+"_"+r).toUpperCase(),this.setMetadata({storageClass:e},i,r)}setUserProject(e){this.userProject=e,["create","delete","exists","get","getMetadata","setMetadata"].forEach(t=>{let r=this.methods[t];"object"==typeof r&&("object"==typeof r.reqOpts?Object.assign(r.reqOpts.qs,{userProject:e}):r.reqOpts={qs:{userProject:e}})})}upload(t,r,i){var n,s;let o,a=e=>{let r=(0,eq.default)(async r=>{await new Promise((i,n)=>{var s,a;0===e&&(null==(a=null==(s=null==o?void 0:o.storage)?void 0:s.retryOptions)?void 0:a.autoRetry)&&(o.storage.retryOptions.autoRetry=!1);let l=o.createWriteStream(c);c.onUploadProgress&&l.on("progress",c.onUploadProgress),ej.createReadStream(t).on("error",r).pipe(l).on("error",e=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(e)?n(e):r(e)).on("finish",()=>i())})},{retries:e,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.storage.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.storage.retryOptions.totalTimeout});return i?r.then(()=>{if(i)return i(null,o,o.metadata)}).catch(i):r};if(e.g.GCLOUD_SANDBOX_ENV)return;let c="object"==typeof r?r:{};i="function"==typeof r?r:i,c=Object.assign({metadata:{}},c);let l=this.storage.retryOptions.maxRetries;if(((null==(n=null==c?void 0:c.preconditionOpts)?void 0:n.ifGenerationMatch)===void 0&&(null==(s=this.instancePreconditionOpts)?void 0:s.ifGenerationMatch)===void 0&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional||this.storage.retryOptions.idempotencyStrategy===S.RetryNever)&&(l=0),c.destination instanceof tt)o=c.destination;else if(null!==c.destination&&"string"==typeof c.destination)o=this.file(c.destination,{encryptionKey:c.encryptionKey,kmsKeyName:c.kmsKeyName,preconditionOpts:this.instancePreconditionOpts});else{let e=ei.basename(t);o=this.file(e,{encryptionKey:c.encryptionKey,kmsKeyName:c.kmsKeyName,preconditionOpts:this.instancePreconditionOpts})}a(l)}makeAllFilesPublicPrivate_(e,t){let r=[],i=[],n="object"==typeof e?e:{};t="function"==typeof e?e:t;let s=async e=>{try{await (n.public?e.makePublic():e.makePrivate(n)),i.push(e)}catch(e){if(!n.force)throw e;r.push(e)}};this.getFiles(n).then(([e])=>{let t=(0,eP.default)(10);return Promise.all(e.map(e=>t(()=>s(e))))}).then(()=>t(r.length>0?r:null,i),e=>t(e,i))}getId(){return this.id}disableAutoRetryConditionallyIdempotent_(e,t,r){var i,n;"object"==typeof e&&(null==(n=null==(i=null==e?void 0:e.reqOpts)?void 0:i.qs)?void 0:n.ifMetagenerationMatch)===void 0&&(null==r?void 0:r.ifMetagenerationMatch)===void 0&&(t===k.setMetadata||t===k.delete)&&this.storage.retryOptions.idempotencyStrategy===S.RetryConditional?this.storage.retryOptions.autoRetry=!1:this.storage.retryOptions.idempotencyStrategy===S.RetryNever&&(this.storage.retryOptions.autoRetry=!1)}}eR.paginator.extend(tn,"getFiles"),(0,eO.promisifyAll)(tn,{exclude:["cloudStorageURI","request","file","notification","restore"]});class ts extends eC{constructor(e,t,r){super({parent:e,baseUrl:"/channels",id:"",methods:{}}),this.metadata.id=t,this.metadata.resourceId=r}stop(e){e=e||eA.noop,this.request({method:"POST",uri:"/stop",json:this.metadata},(t,r)=>{e(t,r)})}}(0,eO.promisifyAll)(ts);class to extends eC{constructor(e,t,r){super({parent:e,id:t,baseUrl:`/projects/${r&&r.projectId||e.projectId}/hmacKeys`,methods:{delete:!0,get:!0,getMetadata:!0,setMetadata:{reqOpts:{method:"PUT"}}}}),this.storage=e,this.instanceRetryValue=e.retryOptions.autoRetry}setMetadata(e,t,r){this.storage.retryOptions.idempotencyStrategy!==S.RetryAlways&&(this.storage.retryOptions.autoRetry=!1);let i="object"==typeof t?t:{};r="function"==typeof t?t:r,super.setMetadata(e,i).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}}(0,eO.promisifyAll)(to),(a=S||(S={}))[a.RetryAlways=0]="RetryAlways",a[a.RetryConditional=1]="RetryConditional",a[a.RetryNever=2]="RetryNever",(c=C||(C={})).EXPIRATION_DATE_INVALID="The expiration date provided was invalid.",c.EXPIRATION_DATE_PAST="An expiration date cannot be in the past.",(l=R||(R={})).BUCKET_NAME_REQUIRED="A bucket name is needed to use Cloud Storage.",l.BUCKET_NAME_REQUIRED_CREATE="A name is required to create a bucket.",l.HMAC_SERVICE_ACCOUNT="The first argument must be a service account email to create an HMAC key.",l.HMAC_ACCESS_ID="An access ID is needed to create an HmacKey object.";let ta=/^(\w*):\/\//,tc=S.RetryConditional,tl=function(e){var t;let r=e=>e.includes("eai_again")||"econnreset"===e||"unexpected connection closure"===e||"epipe"===e||"socket connection timeout"===e;if(e){if(-1!==[408,429,500,502,503,504].indexOf(e.code)||"string"==typeof e.code&&(-1!==["408","429","500","502","503","504"].indexOf(e.code)||r(e.code.toLowerCase())))return!0;if(e.errors)for(let i of e.errors){let e=null==(t=null==i?void 0:i.reason)?void 0:t.toString().toLowerCase();if(e&&r(e))return!0}}return!1};class tp extends ek{getBucketsStream(){return new et.Readable}getHmacKeysStream(){return new et.Readable}constructor(e={}){var t,r,i,n,s,o,a,c,l,p,u,d,h,f;const m=e.universeDomain||j.DEFAULT_UNIVERSE;let g=`https://storage.${m}`,y=!1;const v=process.env.STORAGE_EMULATOR_HOST;"string"==typeof v&&(g=tp.sanitizeEndpoint(v),y=!0),e.apiEndpoint&&e.apiEndpoint!==g&&(g=tp.sanitizeEndpoint(e.apiEndpoint),y=!0),e=Object.assign({},e,{apiEndpoint:g});const b=v||`${e.apiEndpoint}/storage/v1`,x={apiEndpoint:e.apiEndpoint,retryOptions:{autoRetry:(null==(t=e.retryOptions)?void 0:t.autoRetry)===void 0||(null==(r=e.retryOptions)?void 0:r.autoRetry),maxRetries:(null==(i=e.retryOptions)?void 0:i.maxRetries)?null==(n=e.retryOptions)?void 0:n.maxRetries:3,retryDelayMultiplier:(null==(s=e.retryOptions)?void 0:s.retryDelayMultiplier)?null==(o=e.retryOptions)?void 0:o.retryDelayMultiplier:2,totalTimeout:(null==(a=e.retryOptions)?void 0:a.totalTimeout)?null==(c=e.retryOptions)?void 0:c.totalTimeout:600,maxRetryDelay:(null==(l=e.retryOptions)?void 0:l.maxRetryDelay)?null==(p=e.retryOptions)?void 0:p.maxRetryDelay:64,retryableErrorFn:(null==(u=e.retryOptions)?void 0:u.retryableErrorFn)?null==(d=e.retryOptions)?void 0:d.retryableErrorFn:tl,idempotencyStrategy:(null==(h=e.retryOptions)?void 0:h.idempotencyStrategy)!==void 0?null==(f=e.retryOptions)?void 0:f.idempotencyStrategy:tc},baseUrl:b,customEndpoint:y,useAuthWithCustomEndpoint:null==e?void 0:e.useAuthWithCustomEndpoint,projectIdRequired:!1,scopes:["https://www.googleapis.com/auth/iam","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/devstorage.full_control"],packageJson:(0,ea.getPackageJSON)()};super(x,e),this.acl=tp.acl,this.crc32cGenerator=e.crc32cGenerator||eZ,this.retryOptions=x.retryOptions,this.getBucketsStream=eR.paginator.streamify("getBuckets"),this.getHmacKeysStream=eR.paginator.streamify("getHmacKeys")}static sanitizeEndpoint(e){return ta.test(e)||(e=`https://${e}`),e.replace(/\/+$/,"")}bucket(e,t){if(!e)throw Error(R.BUCKET_NAME_REQUIRED);return new tn(this,e,t)}channel(e,t){return new ts(this,e,t)}createBucket(e,t,r){let i;if(!e)throw Error(R.BUCKET_NAME_REQUIRED_CREATE);r?i=t:(r=t,i={});let n={...i,name:e},s={archive:"ARCHIVE",coldline:"COLDLINE",dra:"DURABLE_REDUCED_AVAILABILITY",multiRegional:"MULTI_REGIONAL",nearline:"NEARLINE",regional:"REGIONAL",standard:"STANDARD"};for(let e of Object.keys(s))if(n[e]){if(i.storageClass&&i.storageClass!==e)throw Error(`Both \`${e}\` and \`storageClass\` were provided.`);n.storageClass=s[e],delete n[e]}n.requesterPays&&(n.billing={requesterPays:n.requesterPays},delete n.requesterPays);let o={project:this.projectId};n.userProject&&(o.userProject=n.userProject,delete n.userProject),n.enableObjectRetention&&(o.enableObjectRetention=n.enableObjectRetention,delete n.enableObjectRetention),n.predefinedAcl&&(o.predefinedAcl=n.predefinedAcl,delete n.predefinedAcl),n.predefinedDefaultObjectAcl&&(o.predefinedDefaultObjectAcl=n.predefinedDefaultObjectAcl,delete n.predefinedDefaultObjectAcl),n.projection&&(o.projection=n.projection,delete n.projection),this.request({method:"POST",uri:"/b",qs:o,json:n},(t,i)=>{if(t)return void r(t,null,i);let n=this.bucket(e);n.metadata=i,r(null,n,i)})}createHmacKey(e,t,r){if("string"!=typeof e)throw Error(R.HMAC_SERVICE_ACCOUNT);let{options:i,callback:n}=ec(t,r),s=Object.assign({},i,{serviceAccountEmail:e}),o=s.projectId||this.projectId;delete s.projectId,this.request({method:"POST",uri:`/projects/${o}/hmacKeys`,qs:s,maxRetries:0},(e,t)=>{if(e)return void n(e,null,null,t);let r=t.metadata,i=this.hmacKey(r.accessId,{projectId:r.projectId});i.metadata=t.metadata,n(null,i,t.secret,t)})}getBuckets(e,t){let{options:r,callback:i}=ec(e,t);r.project=r.project||this.projectId,this.request({uri:"/b",qs:r},(e,t)=>{e?i(e,null,null,t):i(null,(t.items?t.items:[]).map(e=>{let t=this.bucket(e.id);return t.metadata=e,t}),t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null,t)})}getHmacKeys(e,t){let{options:r,callback:i}=ec(e,t),n=Object.assign({},r),s=n.projectId||this.projectId;delete n.projectId,this.request({uri:`/projects/${s}/hmacKeys`,qs:n},(e,t)=>{e?i(e,null,null,t):i(null,(t.items?t.items:[]).map(e=>{let t=this.hmacKey(e.accessId,{projectId:e.projectId});return t.metadata=e,t}),t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null,t)})}getServiceAccount(e,t){let{options:r,callback:i}=ec(e,t);this.request({uri:`/projects/${this.projectId}/serviceAccount`,qs:r},(e,t)=>{if(e)return void i(e,null,t);let r={};for(let e in t)t.hasOwnProperty(e)&&(r[e.replace(/_(\w)/g,(e,t)=>t.toUpperCase())]=t[e]);i(null,r,t)})}hmacKey(e,t){if(!e)throw Error(R.HMAC_ACCESS_ID);return new to(this,e,t)}}tp.Bucket=tn,tp.Channel=ts,tp.File=tt,tp.HmacKey=to,tp.acl={OWNER_ROLE:"OWNER",READER_ROLE:"READER",WRITER_ROLE:"WRITER"},eR.paginator.extend(tp,["getBuckets","getHmacKeys"]),(0,eO.promisifyAll)(tp,{exclude:["bucket","channel","hmacKey"]}),e.i(781499),(0,ea.getPackageJSON)(),new WeakSet;var tu=e.i(547499);let td={projectId:tu.env.GCS_PROJECT_ID};if(tu.env.GOOGLE_APPLICATION_CREDENTIALS)try{ej.accessSync(tu.env.GOOGLE_APPLICATION_CREDENTIALS,ej.constants.R_OK),td.keyFilename=tu.env.GOOGLE_APPLICATION_CREDENTIALS,console.log("Using service account key file for GCS authentication")}catch{console.log("Service account key file not found, using Application Default Credentials")}else console.log("Using Application Default Credentials for GCS");let th=new tp(td),tf=null,tm=null;function tg(){return tm||(tm=tu.env.GCS_APP_BUCKET),tm}let ty=new Proxy({},{get:(e,t)=>(!tf&&(tm=tu.env.GCS_APP_BUCKET,tf=th.bucket(tm)),tf)[t]}),tv={maxFileSize:0xa00000,allowedMimeTypes:["image/jpeg","image/png","image/webp","image/gif"],maxImagesPerPet:10,maxImagesPerReview:5,profileImageMaxSize:5242880,thumbnailSizes:{small:{width:150,height:150},medium:{width:400,height:400},large:{width:800,height:800}}};var tb=((p={}).PROFILE="profiles",p.PET="pets",p.REVIEW="reviews",p);function tx(e,t,r){let i=Date.now(),n=Math.random().toString(36).substring(2,15),s=e.split(".").pop();return`${r}/${t}/${i}-${n}.${s}`}function tw(e,t){return`profiles/${e}/profile.${t}`}async function tE(e,t=60){let r=ty.file(e),[i]=await r.getSignedUrl({version:"v4",action:"read",expires:Date.now()+60*t*1e3});return i}async function t_(e,t,r,i){try{var n;let s=ty.file(t),o={};i&&Object.entries(i).forEach(([e,t])=>{o[`x-goog-meta-${e.toLowerCase()}`]=t}),console.log(`Uploading buffer to GCS: ${t}`,{size:e.length,contentType:r,metadataKeys:Object.keys(o)}),await s.save(e,{metadata:{contentType:r,metadata:o},resumable:!1});let a=(n=t,`https://storage.googleapis.com/${tg()}/${n}`);return console.log(`Buffer uploaded successfully: ${a}`),a}catch(e){throw console.error(`Failed to upload buffer to ${t}:`,e),e}}async function tA(e){try{await ty.file(e).delete()}catch(t){if(console.error(`Failed to delete image ${e}:`,t),404!==t.code)throw t}}async function tT(e){let t=e.map(e=>tA(e));await Promise.allSettled(t)}function tk(e){return e.startsWith("https://storage.googleapis.com/")||e.startsWith("gs://")}function tO(e){if(!tk(e))return null;let t=tg(),r=`https://storage.googleapis.com/${t}/`;if(e.startsWith(r))return e.substring(r.length);let i=`gs://${t}/`;return e.startsWith(i)?e.substring(i.length):null}function tS(e){return tv.allowedMimeTypes.includes(e)}function tC(e,t){let r=tv.maxFileSize;return"profiles"===t&&(r=tv.profileImageMaxSize),e>0&&e<=r}function tR(){return!!process.env.GCS_PROJECT_ID&&!!process.env.GCS_APP_BUCKET}e.s(["IMAGE_UPLOAD_CONFIG",0,tv,"ImageType",()=>tb,"deleteImage",()=>tA,"deleteImages",()=>tT,"extractFilenameFromUrl",()=>tO,"generateImageFilename",()=>tx,"generateProfileImageFilename",()=>tw,"generateSignedReadUrl",()=>tE,"isAllowedImageType",()=>tS,"isGcsConfigured",()=>tR,"isGcsUrl",()=>tk,"isValidFileSize",()=>tC,"uploadBuffer",()=>t_],820908)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3efe2b8b._.js.map
module.exports=[457889,a=>{a.v({actionButtons:"groomers-table-module__sMRLCG__actionButtons",cellAvatar:"groomers-table-module__sMRLCG__cellAvatar",cellContent:"groomers-table-module__sMRLCG__cellContent",cellIcon:"groomers-table-module__sMRLCG__cellIcon",cellText:"groomers-table-module__sMRLCG__cellText",cellTextLong:"groomers-table-module__sMRLCG__cellTextLong",emptyState:"groomers-table-module__sMRLCG__emptyState",excelTable:"groomers-table-module__sMRLCG__excelTable",loadingTrigger:"groomers-table-module__sMRLCG__loadingTrigger",mobileCard:"groomers-table-module__sMRLCG__mobileCard",mobileCardActions:"groomers-table-module__sMRLCG__mobileCardActions",mobileCardAvatar:"groomers-table-module__sMRLCG__mobileCardAvatar",mobileCardEmail:"groomers-table-module__sMRLCG__mobileCardEmail",mobileCardGrid:"groomers-table-module__sMRLCG__mobileCardGrid",mobileCardHeader:"groomers-table-module__sMRLCG__mobileCardHeader",mobileCardItem:"groomers-table-module__sMRLCG__mobileCardItem",mobileCardLabel:"groomers-table-module__sMRLCG__mobileCardLabel",mobileCardName:"groomers-table-module__sMRLCG__mobileCardName",mobileCardTitle:"groomers-table-module__sMRLCG__mobileCardTitle",mobileCardValue:"groomers-table-module__sMRLCG__mobileCardValue",scrollContainer:"groomers-table-module__sMRLCG__scrollContainer",statusBadge:"groomers-table-module__sMRLCG__statusBadge"})},79743,a=>{"use strict";var b=a.i(187924),c=a.i(529139),d=a.i(50944),e=a.i(572131),f=a.i(451933),g=a.i(205138),h=a.i(591119),i=a.i(660246),j=a.i(46864),k=a.i(170106);let l=(0,k.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var m=a.i(821374),n=a.i(941675),o=a.i(790166),p=a.i(256711),q=a.i(302491);function r(a){return a.toLocaleString("ko-KR")+"원"}function s(a){return(0,p.format)(new Date(a),"yyyy-MM-dd",{locale:q.ko})}function t(a){let b=function(a){if(!a)return null;let b=new Date,c=new Date(a),d=b.getFullYear()-c.getFullYear(),e=b.getMonth()-c.getMonth();return(e<0||0===e&&b.getDate()<c.getDate())&&d--,d}(a);return null!==b?`${b}세`:"-"}function u(a){if(!a)return"-";let b=a.replace(/\D/g,"");return 11===b.length?`${b.slice(0,3)}-${b.slice(3,7)}-${b.slice(7)}`:10===b.length?`${b.slice(0,3)}-${b.slice(3,6)}-${b.slice(6)}`:a}function v({stats:a}){return a?(0,b.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"전체 미용사"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.totalGroomers}),(0,b.jsx)(i.Users,{className:"text-muted-foreground h-4 w-4"})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"활동중"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.activeGroomers}),(0,b.jsx)(j.UserCheck,{className:"h-4 w-4 text-green-600"})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"비활성"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:a.inactiveGroomers}),(0,b.jsx)(l,{className:"h-4 w-4 text-gray-600"})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"평균 평점"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:a.averageRating.toFixed(1)}),(0,b.jsx)(m.Star,{className:"h-4 w-4 text-yellow-600"})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"이번 달 예약"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.totalBookingsThisMonth}),(0,b.jsx)(n.Calendar,{className:"h-4 w-4 text-blue-600"})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{className:"pb-2",children:(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"이번 달 매출"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:r(a.totalRevenueThisMonth)}),(0,b.jsx)(o.DollarSign,{className:"text-muted-foreground h-4 w-4"})]})})]})]}):null}var w=a.i(369012),x=a.i(699570),y=a.i(866718),z=a.i(580701);function A({searchQuery:a,statusFilter:c,locationFilter:d,onSearchChange:e,onStatusChange:f,onLocationChange:g,onApplyFilters:i,totalCount:j,currentPage:k,totalPages:l,locations:m=[]}){return(0,b.jsx)(h.Card,{className:"mb-6",children:(0,b.jsxs)(h.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(y.Input,{placeholder:"미용사명, 이메일, 전화번호로 검색...",value:a,onChange:a=>e(a.target.value),onKeyDown:a=>{"Enter"===a.key&&i()},className:"pr-4 pl-4"})})}),(0,b.jsxs)(z.Select,{value:c,onValueChange:f,children:[(0,b.jsx)(z.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(z.SelectValue,{placeholder:"상태 필터"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"ALL",children:"모든 상태"}),(0,b.jsx)(z.SelectItem,{value:"ACTIVE",children:"활동중"}),(0,b.jsx)(z.SelectItem,{value:"INACTIVE",children:"비활성"})]})]}),m.length>0&&(0,b.jsxs)(z.Select,{value:d,onValueChange:g,children:[(0,b.jsx)(z.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(z.SelectValue,{placeholder:"지역 필터"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"ALL",children:"모든 지역"}),m.map(a=>(0,b.jsx)(z.SelectItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)(x.Button,{onClick:i,variant:"outline",children:[(0,b.jsx)(w.Filter,{className:"mr-2 h-4 w-4"}),"필터 적용"]})]}),j>0&&(0,b.jsxs)("div",{className:"text-muted-foreground mt-2 text-sm",children:["총 ",j.toLocaleString("ko-KR"),"명의 미용사 (페이지 ",k," / ",l,")"]})]})})}var B=a.i(405784),C=a.i(767552),D=a.i(177156),E=a.i(879360);let F=(0,k.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var G=a.i(335732),H=a.i(206015),I=a.i(872233),J=a.i(400187),K=a.i(786304),L=a.i(368114);let M=(0,k.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var N=a.i(862722),O=a.i(292e3);let P={ACTIVE:{status:"ACTIVE",label:"활성",icon:(0,b.jsx)(M,{className:"h-3 w-3"}),variant:"success",description:"현재 활성화된 미용사"},INACTIVE:{status:"INACTIVE",label:"비활성",icon:(0,b.jsx)(N.XCircle,{className:"h-3 w-3"}),variant:"secondary",description:"비활성화된 미용사"},SUSPENDED:{status:"SUSPENDED",label:"정지",icon:(0,b.jsx)(O.AlertCircle,{className:"h-3 w-3"}),variant:"destructive",description:"정지된 미용사"}},Q=(0,J.cva)("inline-flex items-center gap-1",{variants:{variant:{default:"",compact:"text-xs px-1.5 py-0.5",detailed:"text-sm px-3 py-1.5",highlight:"font-semibold",minimal:"border-0 bg-transparent"},size:{sm:"text-xs",default:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),R=e.forwardRef(({className:a,variant:c,size:d,isActive:e,showIcon:f=!0,...g},h)=>{let i=e?P.ACTIVE:P.INACTIVE;return(0,b.jsxs)(K.Badge,{ref:h,variant:i.variant,className:(0,L.cn)(Q({variant:c,size:d,className:a})),...g,children:[f&&i.icon,i.label]})});R.displayName="GroomerStatusBadge";var S=a.i(457889);function T({groomers:a,isLoading:c,sortBy:d,sortOrder:e,onSort:f,onViewDetails:g,onActivate:k,onDeactivate:m,onSuspend:n,scrollContainerRef:o,loadMoreTriggerRef:p,hasMore:q}){return(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"p-0",children:[(0,b.jsxs)("div",{ref:o,className:`${S.default.scrollContainer} hidden lg:block`,children:[(0,b.jsxs)(H.Table,{className:S.default.excelTable,children:[(0,b.jsx)(H.TableHeader,{children:(0,b.jsxs)(H.TableRow,{children:[(0,b.jsx)(H.TableHead,{children:"이름"}),(0,b.jsx)(H.TableHead,{children:"이메일"}),(0,b.jsx)(H.TableHead,{children:"전화번호"}),(0,b.jsx)(H.TableHead,{children:"상태"}),(0,b.jsx)(H.TableHead,{children:"경력"}),(0,b.jsx)(H.TableHead,{className:"cursor-pointer",onClick:()=>f("rating"),children:(0,b.jsxs)("div",{className:"flex items-center",children:["평점","rating"===d&&("desc"===e?(0,b.jsx)(B.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(C.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,b.jsx)(H.TableHead,{children:"리뷰수"}),(0,b.jsx)(H.TableHead,{className:"cursor-pointer",onClick:()=>f("bookings"),children:(0,b.jsxs)("div",{className:"flex items-center",children:["예약건수","bookings"===d&&("desc"===e?(0,b.jsx)(B.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(C.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,b.jsx)(H.TableHead,{className:"cursor-pointer",onClick:()=>f("revenue"),children:(0,b.jsxs)("div",{className:"flex items-center",children:["월매출","revenue"===d&&("desc"===e?(0,b.jsx)(B.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(C.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,b.jsx)(H.TableHead,{children:"나이"}),(0,b.jsx)(H.TableHead,{className:"cursor-pointer",onClick:()=>f("joinDate"),children:(0,b.jsxs)("div",{className:"flex items-center",children:["가입일","joinDate"===d&&("desc"===e?(0,b.jsx)(B.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(C.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,b.jsx)(H.TableHead,{className:"text-right",children:"작업"})]})}),(0,b.jsxs)(H.TableBody,{children:[0===a.length&&!c&&(0,b.jsx)(H.TableRow,{children:(0,b.jsx)(H.TableCell,{colSpan:12,children:(0,b.jsxs)("div",{className:S.default.emptyState,children:[(0,b.jsx)(i.Users,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,b.jsx)("p",{children:"미용사가 없습니다"}),(0,b.jsx)("p",{children:"필터 조건을 변경해보세요"})]})})}),a.map(a=>(0,b.jsxs)(H.TableRow,{children:[(0,b.jsx)(H.TableCell,{children:a.user.name}),(0,b.jsx)(H.TableCell,{children:a.user.email}),(0,b.jsx)(H.TableCell,{children:u(a.user.phoneNumber)}),(0,b.jsx)(H.TableCell,{children:(0,b.jsx)(R,{isActive:a.isActive})}),(0,b.jsxs)(H.TableCell,{children:[a.experience,"년"]}),(0,b.jsx)(H.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-yellow-600",children:"⭐"}),(0,b.jsx)("span",{children:a.rating.toFixed(1)})]})}),(0,b.jsx)(H.TableCell,{children:a.totalReviews}),(0,b.jsx)(H.TableCell,{children:a.totalBookings}),(0,b.jsx)(H.TableCell,{children:r(a.monthlyRevenue)}),(0,b.jsx)(H.TableCell,{children:t(a.birthDate)}),(0,b.jsx)(H.TableCell,{children:s(a.user.createdAt)}),(0,b.jsx)(H.TableCell,{className:"text-right",children:(0,b.jsxs)(G.DropdownMenu,{children:[(0,b.jsx)(G.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(x.Button,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,b.jsx)(E.MoreVertical,{className:"h-4 w-4"})]})}),(0,b.jsxs)(G.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(G.DropdownMenuLabel,{children:"작업"}),(0,b.jsxs)(G.DropdownMenuItem,{onClick:()=>g(a),children:[(0,b.jsx)(D.Eye,{className:"mr-2 h-4 w-4"}),"상세보기"]}),(0,b.jsx)(G.DropdownMenuSeparator,{}),a.isActive?(0,b.jsxs)(G.DropdownMenuItem,{onClick:()=>m(a.id),className:"text-orange-600",children:[(0,b.jsx)(l,{className:"mr-2 h-4 w-4"}),"비활성화"]}):(0,b.jsxs)(G.DropdownMenuItem,{onClick:()=>k(a.id),className:"text-green-600",children:[(0,b.jsx)(j.UserCheck,{className:"mr-2 h-4 w-4"}),"활성화"]}),(0,b.jsxs)(G.DropdownMenuItem,{onClick:()=>n(a.id),className:"text-red-600",children:[(0,b.jsx)(F,{className:"mr-2 h-4 w-4"}),"계정 정지"]})]})]})})]},a.id))]})]}),q&&(0,b.jsx)("div",{ref:p,className:S.default.loadingTrigger,children:c?"로딩 중...":"스크롤하여 더 보기"}),!q&&a.length>0&&(0,b.jsx)("div",{className:S.default.loadingTrigger,children:"모든 미용사를 불러왔습니다"})]}),(0,b.jsxs)("div",{className:"lg:hidden",children:[0===a.length&&!c&&(0,b.jsxs)("div",{className:S.default.emptyState,children:[(0,b.jsx)(i.Users,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,b.jsx)("p",{children:"미용사가 없습니다"}),(0,b.jsx)("p",{children:"필터 조건을 변경해보세요"})]}),a.map(a=>(0,b.jsxs)("div",{className:S.default.mobileCard,children:[(0,b.jsxs)("div",{className:S.default.mobileCardHeader,children:[(0,b.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,b.jsxs)(I.Avatar,{className:S.default.mobileCardAvatar,children:[(0,b.jsx)(I.AvatarImage,{src:a.profileImage||void 0,alt:a.user.name}),(0,b.jsx)(I.AvatarFallback,{children:a.user.name.charAt(0)})]}),(0,b.jsxs)("div",{className:S.default.mobileCardTitle,children:[(0,b.jsx)("div",{className:S.default.mobileCardName,children:a.user.name}),(0,b.jsx)("div",{className:S.default.mobileCardEmail,children:a.user.email})]})]}),(0,b.jsx)(R,{isActive:a.isActive})]}),(0,b.jsxs)("div",{className:S.default.mobileCardGrid,children:[(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"전화번호"}),(0,b.jsx)("div",{className:S.default.mobileCardValue,children:u(a.user.phoneNumber)})]}),(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"경력"}),(0,b.jsxs)("div",{className:S.default.mobileCardValue,children:[a.experience,"년"]})]}),(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"평점"}),(0,b.jsxs)("div",{className:S.default.mobileCardValue,children:["⭐ ",a.rating.toFixed(1)," (",a.totalReviews,")"]})]}),(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"예약건수"}),(0,b.jsx)("div",{className:S.default.mobileCardValue,children:a.totalBookings})]}),(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"월매출"}),(0,b.jsx)("div",{className:S.default.mobileCardValue,children:r(a.monthlyRevenue)})]}),(0,b.jsxs)("div",{className:S.default.mobileCardItem,children:[(0,b.jsx)("div",{className:S.default.mobileCardLabel,children:"나이"}),(0,b.jsx)("div",{className:S.default.mobileCardValue,children:t(a.birthDate)})]})]}),(0,b.jsxs)("div",{className:S.default.mobileCardActions,children:[(0,b.jsxs)(x.Button,{size:"sm",variant:"outline",onClick:()=>g(a),children:[(0,b.jsx)(D.Eye,{className:"mr-1 h-3 w-3"}),"상세"]}),a.isActive?(0,b.jsxs)(x.Button,{size:"sm",variant:"outline",onClick:()=>m(a.id),className:"text-orange-600",children:[(0,b.jsx)(l,{className:"mr-1 h-3 w-3"}),"비활성화"]}):(0,b.jsxs)(x.Button,{size:"sm",variant:"outline",onClick:()=>k(a.id),className:"text-green-600",children:[(0,b.jsx)(j.UserCheck,{className:"mr-1 h-3 w-3"}),"활성화"]}),(0,b.jsxs)(x.Button,{size:"sm",variant:"outline",onClick:()=>n(a.id),className:"text-red-600",children:[(0,b.jsx)(F,{className:"mr-1 h-3 w-3"}),"정지"]})]})]},a.id)),q&&(0,b.jsx)("div",{ref:p,className:S.default.loadingTrigger,children:c?"로딩 중...":"스크롤하여 더 보기"}),!q&&a.length>0&&(0,b.jsx)("div",{className:S.default.loadingTrigger,children:"모든 미용사를 불러왔습니다"})]})]})})}var U=a.i(633508),V=a.i(814574),W=a.i(269876),X=a.i(505084);function Y({groomer:a,open:c,onClose:d,onActivate:e,onDeactivate:f,onSuspend:g,onUpdateCommission:h,commissionGrades:i=[]}){var k,m;return a?(0,b.jsx)(V.Dialog,{open:c,onOpenChange:d,children:(0,b.jsxs)(V.DialogContent,{className:"max-h-[90vh] max-w-4xl p-0",children:[(0,b.jsx)(V.DialogHeader,{className:"px-6 pt-6 pb-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(I.Avatar,{className:"h-16 w-16",children:[(0,b.jsx)(I.AvatarImage,{src:a.profileImage||void 0,alt:a.user.name}),(0,b.jsx)(I.AvatarFallback,{className:"text-2xl",children:a.user.name.charAt(0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(V.DialogTitle,{className:"text-2xl",children:a.user.name}),(0,b.jsx)(V.DialogDescription,{className:"mt-1",children:a.user.email})]})]}),(0,b.jsx)(R,{isActive:a.isActive,variant:"detailed"})]})}),(0,b.jsxs)(W.ScrollArea,{className:"max-h-[calc(90vh-180px)]",children:[(0,b.jsxs)("div",{className:"space-y-6 px-6 pb-6",children:[(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"기본 정보"}),(0,b.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"이름"}),(0,b.jsx)("p",{className:"font-medium",children:a.user.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"전화번호"}),(0,b.jsx)("p",{className:"font-medium",children:u(a.user.phoneNumber)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"이메일"}),(0,b.jsx)("p",{className:"font-medium",children:a.user.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"나이"}),(0,b.jsx)("p",{className:"font-medium",children:t(a.birthDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"가입일"}),(0,b.jsx)("p",{className:"font-medium",children:s(a.user.createdAt)})]}),a.lastActivityAt&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"마지막 활동"}),(0,b.jsx)("p",{className:"font-medium",children:s(a.lastActivityAt)})]})]})})]}),(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"미용사 정보"}),(0,b.jsx)("div",{className:"bg-muted/50 space-y-3 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"경력"}),(0,b.jsxs)("p",{className:"font-medium",children:[a.experience,"년"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"활동 상태"}),(0,b.jsx)("p",{className:"font-medium",children:a.isActive?"활동중":"비활성"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"평점"}),(0,b.jsxs)("p",{className:"font-medium",children:["⭐ ",a.rating.toFixed(1)," (",a.totalReviews,"개 리뷰)"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"총 예약건수"}),(0,b.jsxs)("p",{className:"font-medium",children:[a.totalBookings,"건"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"이번 달 매출"}),(0,b.jsx)("p",{className:"font-medium text-green-600",children:r(a.monthlyRevenue)})]}),a.commissionGrade&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"수수료 등급"}),(0,b.jsx)("div",{className:"mt-1",children:i.length>0?(0,b.jsxs)(z.Select,{value:a.commissionGrade.id,onValueChange:b=>{h&&h(a.id,b)},children:[(0,b.jsx)(z.SelectTrigger,{className:"w-full",children:(0,b.jsxs)(z.SelectValue,{children:[a.commissionGrade.name," (",(k=a.commissionGrade.commissionRate,`${k}%`),")"]})}),(0,b.jsx)(z.SelectContent,{children:i.map(a=>{var c;return(0,b.jsxs)(z.SelectItem,{value:a.id,children:[a.name," (",(c=a.commissionRate,`${c}%`),")"]},a.id)})})]}):(0,b.jsxs)("p",{className:"font-medium",children:[a.commissionGrade.name," (",(m=a.commissionGrade.commissionRate,`${m}%`),")"]})})]})]})})]}),a.bio&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"소개"}),(0,b.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap",children:a.bio})})]})]}),a.certifications&&a.certifications.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"자격증"}),(0,b.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:a.certifications.map((a,c)=>(0,b.jsxs)("div",{className:"text-sm",children:["• ",JSON.stringify(a)]},c))})]})]}),(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"서비스 및 지점"}),(0,b.jsx)("div",{className:"space-y-3",children:a.availableLocations&&a.availableLocations.length>0?a.availableLocations.map(a=>{var c,d;return(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"font-semibold",children:a.name}),(0,b.jsx)("span",{className:`text-xs ${a.isActive?"text-green-600":"text-gray-500"}`,children:a.isActive?"활성":"비활성"})]}),(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:a.address}),a.description&&(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:a.description}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[(c=a.centerLat,d=a.centerLng,`${c.toFixed(4)}\xb0N, ${d.toFixed(4)}\xb0E`)," (반경:"," ",a.radiusKm,"km)"]})]})]},a.id)}):(0,b.jsx)("div",{className:"bg-muted/50 text-muted-foreground rounded-lg p-4 text-center text-sm",children:"등록된 서비스 지역이 없습니다"})})]}),(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"실적"}),(0,b.jsxs)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"총 예약건수"}),(0,b.jsxs)("span",{className:"text-lg font-bold",children:[a.totalBookings,"건"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"이번 달 매출"}),(0,b.jsx)("span",{className:"text-lg font-bold text-green-600",children:r(a.monthlyRevenue)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"평균 평점"}),(0,b.jsxs)("span",{className:"font-medium",children:["⭐ ",a.rating.toFixed(1)," (",a.totalReviews,"개 리뷰)"]})]})]})]}),a.bankAccount&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Separator,{}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"정산 계좌"}),(0,b.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"은행명"}),(0,b.jsx)("p",{className:"font-medium",children:a.bankAccount.bankName||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"예금주"}),(0,b.jsx)("p",{className:"font-medium",children:a.bankAccount.accountHolder||"-"})]}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"계좌번호"}),(0,b.jsx)("p",{className:"font-mono font-medium",children:a.bankAccount.accountNumber||"-"})]})]})})]})]})]}),(0,b.jsxs)(V.DialogFooter,{className:"flex flex-row justify-end p-6",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[a.isActive?(0,b.jsxs)(x.Button,{onClick:()=>f?.(a.id),variant:"outline",className:"text-orange-600",children:[(0,b.jsx)(l,{className:"mr-2 h-4 w-4"}),"비활성화"]}):(0,b.jsxs)(x.Button,{onClick:()=>e?.(a.id),variant:"outline",className:"text-green-600",children:[(0,b.jsx)(j.UserCheck,{className:"mr-2 h-4 w-4"}),"활성화"]}),(0,b.jsxs)(x.Button,{onClick:()=>g?.(a.id),variant:"outline",className:"text-red-600",children:[(0,b.jsx)(F,{className:"mr-2 h-4 w-4"}),"계정 정지"]})]}),(0,b.jsxs)(x.Button,{onClick:d,variant:"outline",children:[(0,b.jsx)(U.X,{className:"mr-2 h-4 w-4"}),"닫기"]})]})]})]})}):null}var Z=a.i(934949);function $(){let{data:a,isPending:i}=(0,c.useSession)(),j=(0,d.useRouter)(),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)("ALL"),[o,p]=(0,e.useState)("ALL"),[q,r]=(0,e.useState)("joinDate"),[s,t]=(0,e.useState)("desc"),[u,w]=(0,e.useState)({searchQuery:"",statusFilter:"ALL",locationFilter:"ALL",sortBy:"joinDate",sortOrder:"desc"}),[x,y]=(0,e.useState)(null),[z,B]=(0,e.useState)(1),[C,D]=(0,e.useState)([]),E=(0,e.useRef)(null),F=(0,e.useRef)(null);(0,e.useEffect)(()=>{a||j.push("/auth/signin"),a?.user?.role&&"ADMIN"!==a.user.role&&j.push("/admin/dashboard/overview")},[a,j]);let G=(0,e.useCallback)(()=>{w({searchQuery:k,statusFilter:m,locationFilter:o,sortBy:q,sortOrder:s}),B(1),D([])},[k,m,o,q,s]),H=!!a?.user&&"ADMIN"===a.user.role,{groomers:I,pagination:J,stats:K,isLoading:L,isFetching:M,isError:N,error:O}=function(a,b=1,c=!0){let{data:d,isLoading:f,isFetching:g,isError:h,error:i}=(0,Z.useGetGroomersQuery)({...a,page:b,limit:20},{skip:!c}),j=(0,e.useMemo)(()=>{if(!d?.groomers)return null;let a=d.groomers,b=d.totalCount,c=a.filter(a=>a.isActive).length,e=a.filter(a=>!a.isActive).length,f=a.map(a=>a.rating),g=f.length>0?f.reduce((a,b)=>a+b,0)/f.length:0,h=a.reduce((a,b)=>a+b.monthlyRevenue,0),i=a.reduce((a,b)=>a+(b.isActive?Math.floor(.15*b.totalBookings):0),0);return{totalGroomers:b,activeGroomers:c,inactiveGroomers:e,averageRating:Number(g.toFixed(1)),totalBookingsThisMonth:i,totalRevenueThisMonth:h}},[d]);return{groomers:d?.groomers??[],pagination:d&&d.totalCount>0?{page:d.currentPage,totalPages:d.totalPages,totalCount:d.totalCount,limit:20,hasNext:d.currentPage<d.totalPages,hasPrev:d.currentPage>1}:void 0,stats:j,isLoading:f,isFetching:g,isError:h,error:i}}(u,z,H),[P]=(0,Z.useActivateGroomerMutation)(),[Q]=(0,Z.useDeactivateGroomerMutation)(),[R]=(0,Z.useSuspendGroomerMutation)(),[S]=(0,Z.useUpdateCommissionGradeMutation)(),{data:U}=(0,Z.useGetCommissionGradesQuery)({status:"ACTIVE"},{skip:!H}),V=U?.grades.map(a=>({id:a.id,name:a.name,commissionRate:a.commissionRate}))??[];(0,e.useEffect)(()=>{I.length>0&&!L&&D(a=>{let b=new Map(a.map(a=>[a.id,a]));return I.forEach(a=>b.set(a.id,a)),Array.from(b.values())})},[I,L]),(0,e.useEffect)(()=>{D([]),B(1)},[u]);let W=!!J&&z<J.totalPages,X=J?.totalCount??0,$=J?.totalPages??1,_=(0,e.useCallback)(()=>{W&&!M&&B(a=>a+1)},[W,M]),aa=(0,e.useRef)(_);(0,e.useEffect)(()=>{aa.current=_},[_]),(0,e.useEffect)(()=>{let a=F.current;if(!a)return;let b=new IntersectionObserver(a=>{a[0]?.isIntersecting&&aa.current()},{root:E.current,rootMargin:"100px",threshold:.1});return b.observe(a),()=>b.disconnect()},[]);let ab=async a=>{try{await P(a).unwrap()}catch(a){alert(a instanceof Error?a.message:"미용사 활성화에 실패했습니다.")}},ac=async a=>{try{await Q(a).unwrap()}catch(a){alert(a instanceof Error?a.message:"미용사 비활성화에 실패했습니다.")}},ad=async a=>{try{await R(a).unwrap()}catch(a){alert(a instanceof Error?a.message:"미용사 정지에 실패했습니다.")}},ae=async(a,b)=>{try{if(await S({groomerId:a,commissionGradeId:b}).unwrap(),x?.id===a){let b=C.find(b=>b.id===a);b&&y(b)}}catch(a){alert(a instanceof Error?a.message:"커미션 등급 업데이트에 실패했습니다.")}};return i||L&&0===C.length?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,b.jsx)(g.LoadingSpinner,{size:"lg"})}):a&&a.user?.role==="ADMIN"?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Scissors,{className:"text-primary h-5 w-5"}),(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"미용사 관리"})]}),(0,b.jsx)(v,{stats:K??null}),(0,b.jsx)(A,{searchQuery:k,statusFilter:m,locationFilter:o,onSearchChange:l,onStatusChange:n,onLocationChange:p,onApplyFilters:G,totalCount:X,currentPage:z,totalPages:$}),N&&O&&(0,b.jsx)(h.Card,{className:"border-destructive",children:(0,b.jsxs)(h.CardContent,{className:"p-6",children:[(0,b.jsx)("div",{className:"text-destructive mb-1 font-semibold",children:"데이터를 불러오는 중 오류가 발생했습니다"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-3 text-sm",children:O instanceof Error?O.message:"잠시 후 다시 시도해주세요"})]})}),(0,b.jsx)(T,{groomers:C,isLoading:M,sortBy:q,sortOrder:s,onSort:a=>{q===a?t("asc"===s?"desc":"asc"):(r(a),t("desc"))},onViewDetails:a=>{y(a)},onActivate:ab,onDeactivate:ac,onSuspend:ad,scrollContainerRef:E,loadMoreTriggerRef:F,hasMore:W}),(0,b.jsx)(Y,{groomer:x,open:!!x,onClose:()=>y(null),onActivate:ab,onDeactivate:ac,onSuspend:ad,onUpdateCommission:ae,commissionGrades:V})]}):null}a.s(["default",()=>$],79743)}];

//# sourceMappingURL=src_e306826c._.js.map
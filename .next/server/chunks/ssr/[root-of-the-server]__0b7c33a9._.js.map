{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/node_modules/@tanstack/query-core/src/mutation.ts","turbopack:///[project]/src/features/admin-payments/state/admin-payments-api-slice.ts","turbopack:///[project]/src/features/admin-reviews/state/admin-reviews-api-slice.ts","turbopack:///[project]/src/features/admin-groomers/state/admin-groomers-api-slice.ts","turbopack:///[project]/src/features/admin-bookings/state/admin-bookings-api-slice.ts","turbopack:///[project]/src/features/admin/state/breeds-api-slice.ts","turbopack:///[project]/src/features/admin/state/dashboard-api-slice.ts","turbopack:///[project]/src/features/admin/api/dashboard-api.ts","turbopack:///[project]/src/features/booking/state/booking-slice.ts","turbopack:///[project]/src/features/booking/api/booking-api.ts","turbopack:///[project]/src/features/booking/types/booking-form.types.ts","turbopack:///[project]/src/features/booking/api/booking-query-api.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","import { notifyManager } from './notifyManager'\nimport { Removable } from './removable'\nimport { createRetryer } from './retryer'\nimport type {\n  DefaultError,\n  MutationFunctionContext,\n  MutationMeta,\n  MutationOptions,\n  MutationStatus,\n} from './types'\nimport type { MutationCache } from './mutationCache'\nimport type { MutationObserver } from './mutationObserver'\nimport type { Retryer } from './retryer'\nimport type { QueryClient } from './queryClient'\n\n// TYPES\n\ninterface MutationConfig<TData, TError, TVariables, TOnMutateResult> {\n  client: QueryClient\n  mutationId: number\n  mutationCache: MutationCache\n  options: MutationOptions<TData, TError, TVariables, TOnMutateResult>\n  state?: MutationState<TData, TError, TVariables, TOnMutateResult>\n}\n\nexport interface MutationState<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TOnMutateResult = unknown,\n> {\n  context: TOnMutateResult | undefined\n  data: TData | undefined\n  error: TError | null\n  failureCount: number\n  failureReason: TError | null\n  isPaused: boolean\n  status: MutationStatus\n  variables: TVariables | undefined\n  submittedAt: number\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError | null\n}\n\ninterface PendingAction<TVariables, TOnMutateResult> {\n  type: 'pending'\n  isPaused: boolean\n  variables?: TVariables\n  context?: TOnMutateResult\n}\n\ninterface SuccessAction<TData> {\n  type: 'success'\n  data: TData\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\nexport type Action<TData, TError, TVariables, TOnMutateResult> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | PendingAction<TVariables, TOnMutateResult>\n  | PauseAction\n  | SuccessAction<TData>\n\n// CLASS\n\nexport class Mutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TOnMutateResult = unknown,\n> extends Removable {\n  state: MutationState<TData, TError, TVariables, TOnMutateResult>\n  options!: MutationOptions<TData, TError, TVariables, TOnMutateResult>\n  readonly mutationId: number\n\n  #client: QueryClient\n  #observers: Array<\n    MutationObserver<TData, TError, TVariables, TOnMutateResult>\n  >\n  #mutationCache: MutationCache\n  #retryer?: Retryer<TData>\n\n  constructor(\n    config: MutationConfig<TData, TError, TVariables, TOnMutateResult>,\n  ) {\n    super()\n\n    this.#client = config.client\n    this.mutationId = config.mutationId\n    this.#mutationCache = config.mutationCache\n    this.#observers = []\n    this.state = config.state || getDefaultState()\n\n    this.setOptions(config.options)\n    this.scheduleGc()\n  }\n\n  setOptions(\n    options: MutationOptions<TData, TError, TVariables, TOnMutateResult>,\n  ): void {\n    this.options = options\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  get meta(): MutationMeta | undefined {\n    return this.options.meta\n  }\n\n  addObserver(observer: MutationObserver<any, any, any, any>): void {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer)\n\n      // Stop the mutation from being garbage collected\n      this.clearGcTimeout()\n\n      this.#mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer,\n      })\n    }\n  }\n\n  removeObserver(observer: MutationObserver<any, any, any, any>): void {\n    this.#observers = this.#observers.filter((x) => x !== observer)\n\n    this.scheduleGc()\n\n    this.#mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer,\n    })\n  }\n\n  protected optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === 'pending') {\n        this.scheduleGc()\n      } else {\n        this.#mutationCache.remove(this)\n      }\n    }\n  }\n\n  continue(): Promise<unknown> {\n    return (\n      this.#retryer?.continue() ??\n      // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n      this.execute(this.state.variables!)\n    )\n  }\n\n  async execute(variables: TVariables): Promise<TData> {\n    const onContinue = () => {\n      this.#dispatch({ type: 'continue' })\n    }\n\n    const mutationFnContext = {\n      client: this.#client,\n      meta: this.options.meta,\n      mutationKey: this.options.mutationKey,\n    } satisfies MutationFunctionContext\n\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error('No mutationFn found'))\n        }\n\n        return this.options.mutationFn(variables, mutationFnContext)\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this),\n    })\n\n    const restored = this.state.status === 'pending'\n    const isPaused = !this.#retryer.canStart()\n\n    try {\n      if (restored) {\n        // Dispatch continue action to unpause restored mutation\n        onContinue()\n      } else {\n        this.#dispatch({ type: 'pending', variables, isPaused })\n        // Notify cache callback\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n          mutationFnContext,\n        )\n        const context = await this.options.onMutate?.(\n          variables,\n          mutationFnContext,\n        )\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: 'pending',\n            context,\n            variables,\n            isPaused,\n          })\n        }\n      }\n      const data = await this.#retryer.start()\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n        mutationFnContext,\n      )\n\n      await this.options.onSuccess?.(\n        data,\n        variables,\n        this.state.context!,\n        mutationFnContext,\n      )\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n        mutationFnContext,\n      )\n\n      await this.options.onSettled?.(\n        data,\n        null,\n        variables,\n        this.state.context,\n        mutationFnContext,\n      )\n\n      this.#dispatch({ type: 'success', data })\n      return data\n    } catch (error) {\n      try {\n        // Notify cache callback\n        await this.#mutationCache.config.onError?.(\n          error as any,\n          variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n          mutationFnContext,\n        )\n\n        await this.options.onError?.(\n          error as TError,\n          variables,\n          this.state.context,\n          mutationFnContext,\n        )\n\n        // Notify cache callback\n        await this.#mutationCache.config.onSettled?.(\n          undefined,\n          error as any,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n          mutationFnContext,\n        )\n\n        await this.options.onSettled?.(\n          undefined,\n          error as TError,\n          variables,\n          this.state.context,\n          mutationFnContext,\n        )\n        throw error\n      } finally {\n        this.#dispatch({ type: 'error', error: error as TError })\n      }\n    } finally {\n      this.#mutationCache.runNext(this)\n    }\n  }\n\n  #dispatch(action: Action<TData, TError, TVariables, TOnMutateResult>): void {\n    const reducer = (\n      state: MutationState<TData, TError, TVariables, TOnMutateResult>,\n    ): MutationState<TData, TError, TVariables, TOnMutateResult> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            isPaused: true,\n          }\n        case 'continue':\n          return {\n            ...state,\n            isPaused: false,\n          }\n        case 'pending':\n          return {\n            ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: 'pending',\n            variables: action.variables,\n            submittedAt: Date.now(),\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false,\n          }\n        case 'error':\n          return {\n            ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error',\n          }\n      }\n    }\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action)\n      })\n      this.#mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action,\n      })\n    })\n  }\n}\n\nexport function getDefaultState<\n  TData,\n  TError,\n  TVariables,\n  TOnMutateResult,\n>(): MutationState<TData, TError, TVariables, TOnMutateResult> {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined,\n    submittedAt: 0,\n  }\n}\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type { AdminPaymentsGetResponse } from '../types/payment.types'\n\n/**\n * Query parameters for fetching payments\n */\nexport interface GetPaymentsParams {\n  page: number\n  limit: number\n  searchQuery?: string\n  statusFilter?: string\n}\n\n/**\n * RTK Query API slice for admin payments feature\n *\n * Provides cached queries for payment data with automatic\n * cache invalidation and refetching capabilities.\n *\n * @example\n * ```tsx\n * const { data, isLoading } = useGetPaymentsQuery({\n *   page: 1,\n *   limit: 20,\n *   statusFilter: 'PAID'\n * })\n * ```\n */\nexport const adminPaymentsApi = createApi({\n  reducerPath: 'adminPaymentsApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['Payments', 'PaymentStats'],\n  endpoints: (builder) => ({\n    /**\n     * Get paginated list of payments with optional filters\n     *\n     * Cache tags (for surgical invalidation):\n     * - `Payments:LIST` - Invalidates all paginated lists (use after create/delete)\n     * - `Payments:{id}` - Invalidates specific payment detail (use after update)\n     * - `PaymentStats:STATS` - Invalidates statistics (use after create/delete/status change)\n     *\n     * Invalidation strategy:\n     * - After creating payment: invalidate `Payments:LIST` + `PaymentStats:STATS`\n     * - After updating payment: invalidate `Payments:{id}` (+ `LIST` if status changed)\n     * - After deleting payment: invalidate `Payments:LIST` + `PaymentStats:STATS`\n     * - After refund: invalidate both `Payments:{id}` and `PaymentStats:STATS`\n     *\n     * Cache retention: Data remains cached while any component is subscribed.\n     * After all components unsubscribe, data is kept for 10 minutes (600 seconds)\n     * before being garbage collected. Cache can be manually invalidated via tags\n     * regardless of subscription state.\n     */\n    getPayments: builder.query<AdminPaymentsGetResponse, GetPaymentsParams>({\n      query: (params) => {\n        const queryParams = new URLSearchParams({\n          page: params.page.toString(),\n          limit: params.limit.toString(),\n        })\n\n        if (params.searchQuery) {\n          queryParams.append('search', params.searchQuery)\n        }\n\n        if (params.statusFilter && params.statusFilter !== 'ALL') {\n          queryParams.append('status', params.statusFilter)\n        }\n\n        return `/admin/payments?${queryParams.toString()}`\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              { type: 'Payments', id: 'LIST' },\n              { type: 'PaymentStats', id: 'STATS' },\n              ...result.payments.map(({ id }) => ({ type: 'Payments' as const, id })),\n            ]\n          : [{ type: 'Payments', id: 'LIST' }],\n      keepUnusedDataFor: 600, // 10 minutes cache\n    }),\n  }),\n})\n\n/**\n * Auto-generated hooks for payment queries\n */\nexport const { useGetPaymentsQuery } = adminPaymentsApi\n\n/**\n * Export endpoints for use in server-side code or manual queries\n */\nexport const { getPayments } = adminPaymentsApi.endpoints\n","/**\n * Admin Reviews RTK Query API Slice\n *\n * Provides RTK Query hooks for managing admin review operations:\n * - Fetching reviews with filters, pagination, and sorting\n * - Approving, flagging, hiding, and deleting reviews\n * - Responding to reviews\n *\n * Uses tag-based cache invalidation for automatic updates.\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type {\n  AdminReviewsGetResponse,\n  ReviewMutationResponse,\n} from '@/features/admin-reviews/types/review.types'\n\n// Query parameters interface\nexport interface GetReviewsParams {\n  page?: number\n  limit?: number\n  search?: string\n  rating?: number | null\n  status?: string\n  service?: string\n  sortBy?: string\n  sortOrder?: string\n}\n\n// Create RTK Query API\nexport const adminReviewsApi = createApi({\n  reducerPath: 'adminReviewsApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n\n  // Tag types for cache invalidation\n  tagTypes: ['Reviews', 'ReviewStats'],\n\n  endpoints: (builder) => ({\n    // GET /api/admin/reviews\n    getReviews: builder.query<AdminReviewsGetResponse, GetReviewsParams>({\n      query: (params) => {\n        const queryParams = new URLSearchParams()\n        if (params.page) queryParams.append('page', params.page.toString())\n        if (params.limit) queryParams.append('limit', params.limit.toString())\n        if (params.search) queryParams.append('search', params.search)\n        if (params.rating) queryParams.append('rating', params.rating.toString())\n        if (params.status) queryParams.append('status', params.status)\n        if (params.service) queryParams.append('service', params.service)\n        if (params.sortBy) queryParams.append('sortBy', params.sortBy)\n        if (params.sortOrder) queryParams.append('sortOrder', params.sortOrder)\n\n        return `/admin/reviews?${queryParams}`\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              { type: 'Reviews', id: 'LIST' },\n              { type: 'ReviewStats', id: 'STATS' },\n              ...result.reviews.map(({ id }) => ({ type: 'Reviews' as const, id })),\n            ]\n          : [{ type: 'Reviews', id: 'LIST' }],\n      keepUnusedDataFor: 600, // 10 minutes cache\n    }),\n\n    // POST /api/admin/reviews/[id]/approve\n    approveReview: builder.mutation<ReviewMutationResponse, string>({\n      query: (reviewId) => ({\n        url: `/admin/reviews/${reviewId}/approve`,\n        method: 'POST',\n      }),\n      invalidatesTags: (_result, _error, reviewId) => [\n        { type: 'Reviews', id: reviewId },\n        { type: 'Reviews', id: 'LIST' },\n        { type: 'ReviewStats', id: 'STATS' },\n      ],\n    }),\n\n    // POST /api/admin/reviews/[id]/flag\n    flagReview: builder.mutation<ReviewMutationResponse, { reviewId: string; reason: string }>({\n      query: ({ reviewId, reason }) => ({\n        url: `/admin/reviews/${reviewId}/flag`,\n        method: 'POST',\n        body: { reason },\n      }),\n      invalidatesTags: (_result, _error, { reviewId }) => [\n        { type: 'Reviews', id: reviewId },\n        { type: 'Reviews', id: 'LIST' },\n        { type: 'ReviewStats', id: 'STATS' },\n      ],\n    }),\n\n    // DELETE /api/admin/reviews/[id]\n    deleteReview: builder.mutation<ReviewMutationResponse, string>({\n      query: (reviewId) => ({\n        url: `/admin/reviews/${reviewId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (_result, _error, reviewId) => [\n        { type: 'Reviews', id: reviewId },\n        { type: 'Reviews', id: 'LIST' },\n        { type: 'ReviewStats', id: 'STATS' },\n      ],\n    }),\n\n    // POST /api/admin/reviews/[id]/respond\n    respondToReview: builder.mutation<\n      ReviewMutationResponse,\n      { reviewId: string; response: string }\n    >({\n      query: ({ reviewId, response }) => ({\n        url: `/admin/reviews/${reviewId}/respond`,\n        method: 'POST',\n        body: { response },\n      }),\n      invalidatesTags: (_result, _error, { reviewId }) => [\n        { type: 'Reviews', id: reviewId },\n        { type: 'Reviews', id: 'LIST' },\n        { type: 'ReviewStats', id: 'STATS' },\n      ],\n    }),\n\n    // POST /api/admin/reviews/[id]/hide\n    hideReview: builder.mutation<ReviewMutationResponse, string>({\n      query: (reviewId) => ({\n        url: `/admin/reviews/${reviewId}/hide`,\n        method: 'POST',\n      }),\n      invalidatesTags: (_result, _error, reviewId) => [\n        { type: 'Reviews', id: reviewId },\n        { type: 'Reviews', id: 'LIST' },\n        { type: 'ReviewStats', id: 'STATS' },\n      ],\n    }),\n  }),\n})\n\n// Export hooks for usage in components\nexport const {\n  useGetReviewsQuery,\n  useApproveReviewMutation,\n  useFlagReviewMutation,\n  useDeleteReviewMutation,\n  useRespondToReviewMutation,\n  useHideReviewMutation,\n} = adminReviewsApi\n","/**\n * RTK Query API for Admin Groomers\n *\n * Provides type-safe data fetching for groomer management.\n * Imports types from API route files (single source of truth).\n *\n * @module features/admin-groomers/state/admin-groomers-api-slice\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type { AdminGroomersGetResponse, AdminGroomerInfo } from '@/app/api/admin/groomers/route'\nimport type { GetCommissionGradesResponse } from '@/app/api/admin/commission-grades/route'\nimport type { GroomerFilters, UpdateCommissionGradeRequest } from '../types/groomer.types'\n\n/**\n * Request parameters for getGroomers endpoint\n */\nexport interface GetGroomersParams extends Partial<GroomerFilters> {\n  /** Page number (1-indexed) */\n  page: number\n  /** Number of items per page */\n  limit: number\n}\n\n/**\n * Response from groomer mutations\n */\ninterface GroomerMutationResponse {\n  success: boolean\n  groomer?: AdminGroomerInfo\n  message?: string\n  error?: string\n}\n\n/**\n * Admin Groomers API\n *\n * RTK Query API definition for admin groomers endpoints.\n * Uses the existing API routes and provides type-safe data fetching.\n *\n * Key features:\n * - Type-safe API calls with AdminGroomersGetResponse from route\n * - Automatic caching with tag-based invalidation\n * - Mutations for groomer status changes (activate, deactivate, suspend)\n * - Commission grade updates\n * - Redux DevTools integration for debugging\n *\n * @example\n * ```tsx\n * import { useGetGroomersQuery, useActivateGroomerMutation } from '@/features/admin-groomers/state/admin-groomers-api-slice'\n *\n * function GroomersPage() {\n *   const { data, isLoading } = useGetGroomersQuery({ page: 1, limit: 20, ...filters })\n *   const [activateGroomer] = useActivateGroomerMutation()\n *   // data is typed as AdminGroomersGetResponse\n * }\n * ```\n */\nexport const adminGroomersApi = createApi({\n  reducerPath: 'adminGroomersApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['Groomers', 'GroomerStats'],\n  endpoints: (builder) => ({\n    /**\n     * Get paginated groomers list with filters\n     *\n     * Fetches groomers with support for:\n     * - Pagination (page, limit)\n     * - Search (by name, email, phone)\n     * - Filtering (by status, location)\n     * - Sorting (by various fields)\n     *\n     * Type flow:\n     * - Request: GetGroomersParams (filters + pagination)\n     * - API Response: AdminGroomersGetResponse (from route.ts)\n     * - Result: AdminGroomersGetResponse (no transformation needed)\n     *\n     * Caching strategy:\n     * - keepUnusedDataFor: 600 seconds (10 minutes) - matches TanStack Query gcTime\n     * - Cached data persists for 10 minutes after last use\n     * - Tags: ['Groomers', 'GroomerStats'] for invalidation\n     *\n     * @param params - Filter and pagination parameters\n     * @returns AdminGroomersGetResponse with groomers and pagination info\n     */\n    getGroomers: builder.query<AdminGroomersGetResponse, GetGroomersParams>({\n      query: (params) => {\n        const queryParams = new URLSearchParams({\n          page: params.page.toString(),\n          limit: params.limit.toString(),\n        })\n\n        if (params.searchQuery) {\n          queryParams.append('search', params.searchQuery)\n        }\n        if (params.statusFilter && params.statusFilter !== 'ALL') {\n          queryParams.append('status', params.statusFilter)\n        }\n        if (params.locationFilter && params.locationFilter !== 'ALL') {\n          queryParams.append('location', params.locationFilter)\n        }\n        if (params.sortBy) {\n          queryParams.append('sortBy', params.sortBy)\n        }\n        if (params.sortOrder) {\n          queryParams.append('sortOrder', params.sortOrder)\n        }\n\n        return `/admin/groomers?${queryParams}`\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.groomers.map(({ id }) => ({ type: 'Groomers' as const, id })),\n              { type: 'Groomers', id: 'LIST' },\n              { type: 'GroomerStats', id: 'STATS' },\n            ]\n          : [{ type: 'Groomers', id: 'LIST' }],\n      keepUnusedDataFor: 600, // 10 minutes - matches TanStack Query gcTime\n    }),\n\n    /**\n     * Activate a groomer\n     *\n     * Changes groomer status to active.\n     * Invalidates Groomers cache to trigger refetch.\n     *\n     * @param groomerId - ID of groomer to activate\n     * @returns Mutation response\n     */\n    activateGroomer: builder.mutation<GroomerMutationResponse, string>({\n      query: (groomerId) => ({\n        url: `/admin/groomers/${groomerId}/activate`,\n        method: 'POST',\n      }),\n      invalidatesTags: [\n        { type: 'Groomers', id: 'LIST' },\n        { type: 'GroomerStats', id: 'STATS' },\n      ],\n    }),\n\n    /**\n     * Deactivate a groomer\n     *\n     * Changes groomer status to inactive.\n     * Invalidates Groomers cache to trigger refetch.\n     *\n     * @param groomerId - ID of groomer to deactivate\n     * @returns Mutation response\n     */\n    deactivateGroomer: builder.mutation<GroomerMutationResponse, string>({\n      query: (groomerId) => ({\n        url: `/admin/groomers/${groomerId}/deactivate`,\n        method: 'POST',\n      }),\n      invalidatesTags: [\n        { type: 'Groomers', id: 'LIST' },\n        { type: 'GroomerStats', id: 'STATS' },\n      ],\n    }),\n\n    /**\n     * Suspend a groomer\n     *\n     * Suspends a groomer (sets isActive to false).\n     * Invalidates Groomers cache to trigger refetch.\n     *\n     * @param groomerId - ID of groomer to suspend\n     * @returns Mutation response\n     */\n    suspendGroomer: builder.mutation<GroomerMutationResponse, string>({\n      query: (groomerId) => ({\n        url: `/admin/groomers/${groomerId}/suspend`,\n        method: 'POST',\n      }),\n      invalidatesTags: [\n        { type: 'Groomers', id: 'LIST' },\n        { type: 'GroomerStats', id: 'STATS' },\n      ],\n    }),\n\n    /**\n     * Update groomer commission grade\n     *\n     * Updates the commission grade for a groomer.\n     * Invalidates Groomers cache to trigger refetch.\n     *\n     * @param request - Groomer ID and new commission grade ID\n     * @returns Mutation response\n     */\n    updateCommissionGrade: builder.mutation<GroomerMutationResponse, UpdateCommissionGradeRequest>({\n      query: ({ groomerId, commissionGradeId }) => ({\n        url: `/admin/groomers/${groomerId}/update-commission`,\n        method: 'POST',\n        body: { commissionGradeId },\n      }),\n      invalidatesTags: [{ type: 'Groomers', id: 'LIST' }],\n    }),\n\n    /**\n     * Get commission grades list\n     *\n     * Fetches all commission grades with optional filtering.\n     * Used for displaying commission grade options in forms.\n     *\n     * @returns GetCommissionGradesResponse with grades list\n     */\n    getCommissionGrades: builder.query<\n      GetCommissionGradesResponse,\n      { status?: 'ALL' | 'ACTIVE' | 'INACTIVE' }\n    >({\n      query: ({ status = 'ACTIVE' } = {}) => `/admin/commission-grades?status=${status}`,\n      keepUnusedDataFor: 600, // 10 minutes\n    }),\n  }),\n})\n\n/**\n * Export hooks for usage in components\n *\n * These are automatically generated by RTK Query based on the endpoints.\n */\nexport const {\n  useGetGroomersQuery,\n  useActivateGroomerMutation,\n  useDeactivateGroomerMutation,\n  useSuspendGroomerMutation,\n  useUpdateCommissionGradeMutation,\n  useGetCommissionGradesQuery,\n} = adminGroomersApi\n","/**\n * RTK Query API for Admin Bookings\n *\n * Replaces TanStack Query with RTK Query for admin bookings data fetching.\n * Imports types from API route files (single source of truth).\n *\n * @module features/admin-bookings/state/admin-bookings-api-slice\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport { format } from 'date-fns'\nimport { ko } from 'date-fns/locale'\nimport type { AdminBookingsGetResponse, TransformedBooking } from '@/app/api/admin/bookings/route'\nimport type { BookingFilters } from '../types/booking.types'\n\n/**\n * Request parameters for getBookings endpoint\n */\nexport interface GetBookingsParams extends BookingFilters {\n  /** Page number (1-indexed) */\n  page: number\n  /** Number of items per page */\n  limit: number\n}\n\n/**\n * Response from booking mutations\n */\ninterface BookingMutationResponse {\n  success: boolean\n  booking?: TransformedBooking\n  message?: string\n  error?: string\n}\n\n/**\n * Admin Bookings API\n *\n * RTK Query API definition for admin bookings endpoints.\n * Uses the existing API routes and provides type-safe data fetching.\n *\n * Key features:\n * - Type-safe API calls with AdminBookingsGetResponse from route\n * - Automatic caching with tag-based invalidation\n * - Mutations for booking state changes (confirm, cancel, complete, delete)\n * - Redux DevTools integration for debugging\n *\n * @example\n * ```tsx\n * import { useGetBookingsQuery, useConfirmBookingMutation } from '@/features/admin-bookings/state/admin-bookings-api-slice'\n *\n * function BookingsPage() {\n *   const { data, isLoading } = useGetBookingsQuery({ page: 1, limit: 50, ...filters })\n *   const [confirmBooking] = useConfirmBookingMutation()\n *   // data is typed as AdminBookingsGetResponse\n * }\n * ```\n */\nexport const adminBookingsApi = createApi({\n  reducerPath: 'adminBookingsApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['Bookings'],\n  endpoints: (builder) => ({\n    /**\n     * Get paginated bookings list with filters\n     *\n     * Fetches bookings with support for:\n     * - Pagination (page, limit)\n     * - Search (by booking number, customer name, phone)\n     * - Filtering (by status, date)\n     * - Sorting (by date, status, amount)\n     *\n     * Type flow:\n     * - Request: GetBookingsParams (filters + pagination)\n     * - API Response: AdminBookingsGetResponse (from route.ts)\n     * - Result: AdminBookingsGetResponse (no transformation needed)\n     *\n     * Caching strategy:\n     * - keepUnusedDataFor: 600 seconds (10 minutes) - matches TanStack Query gcTime\n     * - Cached data persists for 10 minutes after last use\n     * - Tags: ['Bookings', 'BookingStats'] for invalidation\n     *\n     * @param params - Filter and pagination parameters\n     * @returns AdminBookingsGetResponse with bookings and pagination info\n     */\n    getBookings: builder.query<AdminBookingsGetResponse, GetBookingsParams>({\n      query: (params) => {\n        // Ensure timezone-safe date formatting (avoid toISOString() in UTC+9)\n        const dateParam = params.dateFilter\n          ? format(new Date(params.dateFilter + 'T00:00:00'), 'yyyy-MM-dd', { locale: ko })\n          : ''\n\n        const queryParams = new URLSearchParams({\n          page: params.page.toString(),\n          limit: params.limit.toString(),\n          search: params.searchQuery,\n          status: params.statusFilter,\n          date: dateParam,\n          sortBy: params.sortBy,\n          sortOrder: params.sortOrder,\n        })\n\n        return `/admin/bookings?${queryParams}`\n      },\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.bookings.map(({ id }) => ({ type: 'Bookings' as const, id })),\n              { type: 'Bookings', id: 'LIST' },\n            ]\n          : [{ type: 'Bookings', id: 'LIST' }],\n      keepUnusedDataFor: 600, // 10 minutes - matches TanStack Query gcTime\n    }),\n\n    /**\n     * Confirm a booking\n     *\n     * Changes booking status to CONFIRMED.\n     * Invalidates Bookings cache to trigger refetch.\n     *\n     * @param bookingId - ID of booking to confirm\n     * @returns Mutation response with updated booking\n     */\n    confirmBooking: builder.mutation<BookingMutationResponse, string>({\n      query: (bookingId) => ({\n        url: `/admin/bookings/${bookingId}/confirm`,\n        method: 'PATCH',\n      }),\n      invalidatesTags: [{ type: 'Bookings', id: 'LIST' }],\n    }),\n\n    /**\n     * Cancel a booking\n     *\n     * Changes booking status to CANCELLED.\n     * Invalidates Bookings cache to trigger refetch.\n     *\n     * @param bookingId - ID of booking to cancel\n     * @returns Mutation response with updated booking\n     */\n    cancelBooking: builder.mutation<BookingMutationResponse, string>({\n      query: (bookingId) => ({\n        url: `/admin/bookings/${bookingId}/cancel`,\n        method: 'PATCH',\n      }),\n      invalidatesTags: [{ type: 'Bookings', id: 'LIST' }],\n    }),\n\n    /**\n     * Complete a booking\n     *\n     * Changes booking status to COMPLETED.\n     * Invalidates Bookings cache to trigger refetch.\n     *\n     * @param bookingId - ID of booking to complete\n     * @returns Mutation response with updated booking\n     */\n    completeBooking: builder.mutation<BookingMutationResponse, string>({\n      query: (bookingId) => ({\n        url: `/admin/bookings/${bookingId}/complete`,\n        method: 'PATCH',\n      }),\n      invalidatesTags: [{ type: 'Bookings', id: 'LIST' }],\n    }),\n\n    /**\n     * Delete a booking\n     *\n     * Permanently deletes a booking.\n     * Invalidates Bookings cache to trigger refetch.\n     *\n     * @param bookingId - ID of booking to delete\n     * @returns Mutation response\n     */\n    deleteBooking: builder.mutation<BookingMutationResponse, string>({\n      query: (bookingId) => ({\n        url: `/admin/bookings/${bookingId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: [{ type: 'Bookings', id: 'LIST' }],\n    }),\n  }),\n})\n\n/**\n * Export hooks for usage in components\n *\n * These are automatically generated by RTK Query based on the endpoints.\n */\nexport const {\n  useGetBookingsQuery,\n  useConfirmBookingMutation,\n  useCancelBookingMutation,\n  useCompleteBookingMutation,\n  useDeleteBookingMutation,\n} = adminBookingsApi\n","/**\n * RTK Query API for Admin Breeds Management\n *\n * Replaces TanStack Query with RTK Query for admin breeds data fetching.\n * Provides type-safe CRUD operations for breed management with automatic\n * cache invalidation and Redux DevTools integration.\n *\n * @module features/admin/state/breeds-api-slice\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type {\n  BreedsResponse,\n  CreateBreedsInput,\n  CreateBreedsResponse,\n  BreedWithCount,\n} from '../types/breeds.types'\n\n/**\n * Admin Breeds API\n *\n * RTK Query API definition for admin breeds management endpoints.\n * Uses the existing API routes at /api/admin/breeds.\n *\n * Key features:\n * - Type-safe API calls using breeds.types.ts\n * - Automatic caching and invalidation via ['Breeds'] tag\n * - Optimistic updates support through invalidatesTags\n * - Redux DevTools integration for debugging\n *\n * Cache invalidation strategy:\n * - All queries provide ['Breeds'] tag\n * - All mutations invalidate ['Breeds'] tag\n * - This ensures UI stays synchronized after any mutation\n *\n * @example\n * ```tsx\n * import {\n *   useGetBreedsQuery,\n *   useCreateBreedsMutation,\n *   useDeleteBreedMutation,\n *   useUpdateBreedMutation,\n * } from '@/features/admin/state/breeds-api-slice'\n *\n * function AdminBreedsPage() {\n *   const { data: breeds = [], isLoading } = useGetBreedsQuery()\n *   const [createBreeds] = useCreateBreedsMutation()\n *   const [deleteBreed] = useDeleteBreedMutation()\n *   const [updateBreed] = useUpdateBreedMutation()\n *\n *   // Use the hooks in your component...\n * }\n * ```\n */\nexport const breedsApiSlice = createApi({\n  reducerPath: 'breedsApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api/admin' }),\n  tagTypes: ['Breeds'],\n  endpoints: (builder) => ({\n    /**\n     * Get all breeds with pet counts\n     *\n     * Fetches the complete list of breeds ordered by:\n     * petType → category → displayOrder → name\n     *\n     * Each breed includes a count of associated pets for validation\n     * (e.g., preventing deletion of breeds with pets).\n     *\n     * Type flow:\n     * - Request: void (no parameters)\n     * - API Response: BreedsResponse (array of BreedWithCount)\n     *\n     * Caching strategy:\n     * - Provides ['Breeds'] tag for automatic invalidation\n     * - Cache persists until invalidated by mutations\n     *\n     * @returns Array of breeds with pet counts\n     *\n     * @example\n     * ```tsx\n     * function BreedsList() {\n     *   const { data: breeds = [], isLoading, error } = useGetBreedsQuery()\n     *\n     *   if (isLoading) return <LoadingSpinner />\n     *   if (error) return <ErrorMessage error={error} />\n     *\n     *   return (\n     *     <div>\n     *       {breeds.map(breed => (\n     *         <BreedCard key={breed.id} breed={breed} />\n     *       ))}\n     *     </div>\n     *   )\n     * }\n     * ```\n     *\n     * @see GET /api/admin/breeds - Server endpoint\n     * @see BreedsResponse - Return type documentation\n     */\n    getBreeds: builder.query<BreedsResponse, void>({\n      query: () => '/breeds',\n      providesTags: ['Breeds'],\n    }),\n\n    /**\n     * Create or update multiple breeds in bulk\n     *\n     * Accepts comma-separated breed names and performs bulk operation:\n     * - Creates new breeds that don't exist\n     * - Updates existing breeds (e.g., reorder via displayOrder)\n     * - Returns summary of created vs updated counts\n     *\n     * Type flow:\n     * - Request: CreateBreedsInput (petType, category, breedNames)\n     * - API Response: CreateBreedsResponse (created, updated, total counts)\n     *\n     * Cache invalidation:\n     * - Invalidates ['Breeds'] tag to trigger refetch of breeds list\n     * - UI automatically updates with new/updated breeds\n     *\n     * @param input - Breed creation input with petType, category, and comma-separated names\n     * @returns Creation summary with counts of created/updated breeds\n     *\n     * @example\n     * ```tsx\n     * function BreedForm() {\n     *   const [createBreeds, { isLoading }] = useCreateBreedsMutation()\n     *\n     *   const handleSubmit = async () => {\n     *     try {\n     *       const result = await createBreeds({\n     *         petType: 'DOG',\n     *         category: 'SMALL',\n     *         breedNames: '푸들, 말티즈, 비숑'\n     *       }).unwrap()\n     *\n     *       toast.success(`Created: ${result.created}, Updated: ${result.updated}`)\n     *     } catch (error) {\n     *       toast.error('Failed to save breeds')\n     *     }\n     *   }\n     *\n     *   return <Button onClick={handleSubmit} disabled={isLoading}>Save</Button>\n     * }\n     * ```\n     *\n     * @see POST /api/admin/breeds - Server endpoint\n     * @see CreateBreedsInput - Input type documentation\n     * @see CreateBreedsResponse - Response type documentation\n     */\n    createBreeds: builder.mutation<CreateBreedsResponse, CreateBreedsInput>({\n      query: (input) => ({\n        url: '/breeds',\n        method: 'POST',\n        body: input,\n      }),\n      invalidatesTags: ['Breeds'],\n    }),\n\n    /**\n     * Delete a single breed by ID\n     *\n     * Removes the specified breed from the database.\n     * Server will prevent deletion if the breed is currently in use by any pets.\n     *\n     * Type flow:\n     * - Request: string (breed ID)\n     * - API Response: { message: string }\n     *\n     * Cache invalidation:\n     * - Invalidates ['Breeds'] tag to remove deleted breed from UI\n     * - Automatically updates breeds list after successful deletion\n     *\n     * @param id - Unique identifier of the breed to delete\n     * @returns Success message from server\n     *\n     * @example\n     * ```tsx\n     * function BreedDeleteButton({ breed }) {\n     *   const [deleteBreed, { isLoading }] = useDeleteBreedMutation()\n     *\n     *   const handleDelete = async () => {\n     *     if (!confirm(`Delete \"${breed.name}\"?`)) return\n     *\n     *     try {\n     *       await deleteBreed(breed.id).unwrap()\n     *       toast.success('Breed deleted')\n     *     } catch (error) {\n     *       toast.error('Cannot delete breed - it has associated pets')\n     *     }\n     *   }\n     *\n     *   return (\n     *     <Button\n     *       onClick={handleDelete}\n     *       disabled={breed._count.pets > 0 || isLoading}\n     *     >\n     *       Delete\n     *     </Button>\n     *   )\n     * }\n     * ```\n     *\n     * @see DELETE /api/admin/breeds/[breedId] - Server endpoint\n     */\n    deleteBreed: builder.mutation<{ message: string }, string>({\n      query: (id) => ({\n        url: `/breeds/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Breeds'],\n    }),\n\n    /**\n     * Update breed active status\n     *\n     * Toggles or sets the isActive flag for a breed.\n     * Used for quick enable/disable of breeds in the admin list.\n     *\n     * Type flow:\n     * - Request: { id: string, isActive: boolean }\n     * - API Response: BreedWithCount (updated breed)\n     *\n     * Cache invalidation:\n     * - Invalidates ['Breeds'] tag to reflect status change in UI\n     * - UI updates automatically with new status\n     *\n     * Note: This is a silent operation (no toast notifications)\n     * as it's a frequent, low-risk action. UI updates provide\n     * sufficient visual feedback.\n     *\n     * @param params - Object containing breed ID and new isActive status\n     * @returns Updated breed with new status and pet count\n     *\n     * @example\n     * ```tsx\n     * function BreedToggle({ breed }) {\n     *   const [updateBreed, { isLoading }] = useUpdateBreedMutation()\n     *\n     *   const handleToggle = async () => {\n     *     try {\n     *       await updateBreed({\n     *         id: breed.id,\n     *         isActive: !breed.isActive\n     *       }).unwrap()\n     *     } catch (error) {\n     *       toast.error('Failed to update breed')\n     *     }\n     *   }\n     *\n     *   return (\n     *     <Button onClick={handleToggle} disabled={isLoading}>\n     *       {breed.isActive ? 'Active' : 'Inactive'}\n     *     </Button>\n     *   )\n     * }\n     * ```\n     *\n     * @see PATCH /api/admin/breeds/[breedId] - Server endpoint\n     * @see BreedWithCount - Return type documentation\n     */\n    updateBreed: builder.mutation<BreedWithCount, { id: string; isActive: boolean }>({\n      query: ({ id, isActive }) => ({\n        url: `/breeds/${id}`,\n        method: 'PATCH',\n        body: { isActive },\n      }),\n      invalidatesTags: ['Breeds'],\n    }),\n  }),\n})\n\n/**\n * Export auto-generated hooks for usage in components\n *\n * These hooks are automatically created by RTK Query based on the endpoints:\n * - useGetBreedsQuery: Fetch all breeds (query)\n * - useCreateBreedsMutation: Create/update breeds in bulk (mutation)\n * - useDeleteBreedMutation: Delete a breed (mutation)\n * - useUpdateBreedMutation: Update breed status (mutation)\n *\n * @example\n * ```tsx\n * // Import the hooks you need\n * import {\n *   useGetBreedsQuery,\n *   useCreateBreedsMutation,\n * } from '@/features/admin/state/breeds-api-slice'\n *\n * // Use in your component\n * const { data: breeds, isLoading } = useGetBreedsQuery()\n * const [createBreeds] = useCreateBreedsMutation()\n * ```\n */\nexport const {\n  useGetBreedsQuery,\n  useCreateBreedsMutation,\n  useDeleteBreedMutation,\n  useUpdateBreedMutation,\n} = breedsApiSlice\n","/**\n * RTK Query API for Admin Dashboard Data\n *\n * Replaces TanStack Query with RTK Query for admin dashboard data fetching.\n * Imports types from API route files (single source of truth).\n *\n * @module features/admin/api/dashboard-api-slice\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type { DashboardOverviewResponse } from '@/app/api/admin/dashboard/overview/route'\nimport type { OverviewStats } from '../types/dashboard.types'\nimport {\n  type ApiDashboardOverviewResponse,\n  calculateActiveGroomers,\n  calculateMonthlyGrowth,\n  calculateRevenueGrowth,\n  filterTodayBookings,\n  transformMonthlyRevenue,\n  getPeriodLabel,\n  transformToActivityItems,\n  transformTopServices,\n  transformUserGrowth,\n} from '../api/dashboard-api'\n\n/**\n * Time range type for dashboard queries\n */\nexport type TimeRange = 'week' | 'month' | 'year'\n\n/**\n * Admin Dashboard API\n *\n * RTK Query API definition for admin dashboard endpoints.\n * Uses the existing API routes and transformation logic.\n *\n * Key features:\n * - Type-safe API calls with DashboardOverviewResponse from route\n * - Automatic caching with 5-minute staleness\n * - Transformation to client-optimized OverviewStats\n * - Redux DevTools integration for debugging\n *\n * @example\n * ```tsx\n * import { useGetDashboardOverviewQuery } from '@/features/admin/api/dashboard-api-slice'\n *\n * function DashboardPage() {\n *   const { data, isLoading } = useGetDashboardOverviewQuery('month')\n *   // data is typed as OverviewStats\n * }\n * ```\n */\nexport const dashboardApi = createApi({\n  reducerPath: 'dashboardApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['DashboardOverview'],\n  endpoints: (builder) => ({\n    /**\n     * Get dashboard overview statistics\n     *\n     * Fetches comprehensive dashboard metrics and transforms them\n     * from the API response format to the client-optimized format.\n     *\n     * Type flow:\n     * - Request: TimeRange ('week' | 'month' | 'year')\n     * - API Response: DashboardOverviewResponse (from route.ts)\n     * - Transformed Result: OverviewStats (client format)\n     *\n     * Caching strategy:\n     * - keepUnusedDataFor: 600 seconds (10 minutes) - same as TanStack Query gcTime\n     * - Cached data persists for 10 minutes after last use\n     * - Provides fast navigation within admin section\n     *\n     * @param timeRange - Time range filter ('week' | 'month' | 'year')\n     * @returns OverviewStats with all dashboard metrics\n     */\n    getDashboardOverview: builder.query<OverviewStats, TimeRange>({\n      query: (timeRange) => `/admin/dashboard/overview?range=${timeRange}`,\n\n      /**\n       * Transform API response to client format\n       *\n       * Converts DashboardOverviewResponse from the API route\n       * to OverviewStats that the UI components expect.\n       *\n       * Reuses all transformation logic from dashboard-api.ts:\n       * - calculateMonthlyGrowth, calculateActiveGroomers\n       * - transformToActivityItems, aggregateTopServices\n       * - generateMonthlyRevenue, generateUserGrowth\n       */\n      transformResponse: (response: DashboardOverviewResponse): OverviewStats => {\n        const {\n          metrics,\n          previousMetrics,\n          recentBookings,\n          topServices: apiTopServices,\n          userGrowth: apiUserGrowth,\n          monthlyRevenue: apiMonthlyRevenue,\n          range,\n          startDate,\n          endDate,\n        } = response\n\n        // Convert DashboardOverviewResponse to ApiDashboardOverviewResponse\n        // (Date → string conversion happens automatically via JSON serialization)\n        const apiData: ApiDashboardOverviewResponse = {\n          metrics,\n          previousMetrics,\n          recentBookings: recentBookings.map((booking) => ({\n            ...booking,\n            // Dates are already strings after JSON deserialization\n            serviceDate: booking.serviceDate as unknown as string,\n            createdAt: booking.createdAt as unknown as string,\n          })),\n          topServices: apiTopServices,\n          userGrowth: apiUserGrowth,\n          monthlyRevenue: apiMonthlyRevenue,\n          range,\n          startDate: startDate as unknown as string,\n          endDate: endDate as unknown as string,\n          previousStartDate: response.previousStartDate as unknown as string,\n          previousEndDate: response.previousEndDate as unknown as string,\n        }\n\n        // Calculate derived metrics using helper functions (now with real historical data)\n        const bookingGrowth = calculateMonthlyGrowth(apiData.metrics, apiData.previousMetrics)\n        const revenueGrowth = calculateRevenueGrowth(apiData.metrics, apiData.previousMetrics)\n        const activeGroomers = calculateActiveGroomers(apiData)\n        const completedBookingsToday = filterTodayBookings(apiData)\n\n        // Transform data structures using helper functions\n        const recentActivity = transformToActivityItems(apiData.recentBookings)\n        const topServices = transformTopServices(apiData.topServices)\n        const monthlyRevenue = transformMonthlyRevenue(apiData.monthlyRevenue)\n        const userGrowth = transformUserGrowth(apiData.userGrowth)\n\n        // Construct client-optimized response\n        const overviewStats: OverviewStats = {\n          // Core metrics from API\n          totalBookings: metrics.totalBookings,\n          totalRevenue: metrics.totalRevenue,\n          totalCustomers: metrics.totalCustomers,\n          activeServices: topServices.length,\n          totalUsers: metrics.totalCustomers,\n          activeGroomers,\n          completedBookingsToday,\n          pendingBookings: metrics.pendingBookings,\n          averageRating: metrics.averageRating,\n\n          // Calculated metrics (now using real historical data)\n          bookingGrowth,\n          revenueGrowth,\n          monthlyGrowth: bookingGrowth,\n          averageBookingValue: metrics.avgBookingValue,\n\n          // Period information (keep as ISO strings for Redux serialization)\n          periodLabel: getPeriodLabel(range),\n          period: {\n            startDate: startDate, // Keep as ISO string\n            endDate: endDate, // Keep as ISO string\n            label: getPeriodLabel(range),\n          },\n\n          // Transformed data for UI components\n          recentActivity,\n          topServices,\n          monthlyRevenue,\n          userGrowth,\n\n          // State flags\n          isLoading: false,\n          error: null,\n        }\n\n        return overviewStats\n      },\n\n      providesTags: ['DashboardOverview'],\n\n      /**\n       * Cache configuration\n       *\n       * Maps TanStack Query settings to RTK Query equivalents:\n       * - keepUnusedDataFor: 600 seconds (10 minutes) - equivalent to TanStack Query gcTime\n       *   Cached data persists for 10 minutes after last use\n       *\n       * Note: In RTK Query, refetch on focus and reconnect are handled by setupListeners\n       * configuration in the store setup, not at the endpoint level.\n       * See: configureStore setup with setupListeners for full TanStack Query compatibility.\n       *\n       * This ensures consistent cache behavior with the original TanStack Query implementation.\n       */\n      keepUnusedDataFor: 600, // 10 minutes - matches TanStack Query gcTime\n    }),\n  }),\n})\n\n/**\n * Export hooks for usage in components\n *\n * These are automatically generated by RTK Query based on the endpoints.\n */\nexport const { useGetDashboardOverviewQuery } = dashboardApi\n","/**\n * Admin Dashboard API Adapter Layer\n *\n * This module implements the BFF (Backend for Frontend) pattern, transforming\n * raw API responses into client-optimized data structures for the admin dashboard.\n *\n * Key responsibilities:\n * - Fetch data from API routes\n * - Transform API responses to UI-friendly formats\n * - Perform calculations and aggregations\n * - Apply formatting for display\n * - Handle errors gracefully\n *\n * Architecture: API Route → API Adapter (this layer) → React Hook → UI Components\n *\n * @module features/admin/api/dashboard-api\n */\n\nimport type {\n  ActivityItem,\n  MonthlyRevenue,\n  OverviewStats,\n  ServiceStats,\n  UserGrowthData,\n} from '../types/dashboard.types'\n\n// ============================================================================\n// API Response Types (from existing route)\n// ============================================================================\n\n/**\n * API response from /api/admin/dashboard/overview\n * This matches the existing API route structure.\n */\ninterface ApiDashboardOverviewResponse {\n  metrics: {\n    totalBookings: number\n    completedBookings: number\n    pendingBookings: number\n    cancelledBookings: number\n    totalRevenue: number\n    totalCustomers: number\n    totalGroomers: number\n    completionRate: number\n    avgBookingValue: number\n    averageRating: number\n    totalReviews: number\n  }\n  previousMetrics: {\n    totalBookings: number\n    completedBookings: number\n    pendingBookings: number\n    cancelledBookings: number\n    totalRevenue: number\n    totalCustomers: number\n    totalGroomers: number\n    completionRate: number\n    avgBookingValue: number\n    averageRating: number\n    totalReviews: number\n  }\n  recentBookings: Array<{\n    id: string\n    bookingNumber: string\n    customerName: string | null\n    groomerName: string\n    serviceDate: string // ISO date string after JSON serialization\n    totalPrice: number\n    status: string\n    createdAt: string // ISO date string after JSON serialization\n  }>\n  topServices: Array<{\n    serviceId: string\n    name: string\n    description: string | null\n    bookingCount: number\n    totalRevenue: number\n  }>\n  userGrowth: Array<{\n    period: string\n    newUsers: number\n    cumulativeUsers: number\n  }>\n  monthlyRevenue: Array<{\n    month: string // YYYY-MM format\n    revenue: number // Total revenue in cents\n    bookingCount: number // Number of bookings\n  }>\n  range: 'week' | 'month' | 'year'\n  startDate: string // ISO date string\n  endDate: string // ISO date string\n  previousStartDate: string\n  previousEndDate: string\n}\n\n// ============================================================================\n// Public API Functions\n// ============================================================================\n\n/**\n * Fetch and transform dashboard overview data from API.\n *\n * This is the primary entry point for dashboard data fetching.\n * It performs the following transformations:\n * 1. Fetches raw data from API route\n * 2. Calculates derived metrics (growth, active groomers, etc.)\n * 3. Transforms booking data to activity items\n * 4. Aggregates service statistics\n * 5. Generates time-series data for charts\n *\n * @param timeRange - Time range filter ('week', 'month', 'year')\n * @returns Transformed OverviewStats optimized for UI rendering\n * @throws Error if API request fails or data is invalid\n *\n * @example\n * ```typescript\n * const stats = await getDashboardOverview('month');\n * console.log(stats.totalRevenue); // UI-ready data\n * ```\n */\nexport async function getDashboardOverview(\n  timeRange: 'week' | 'month' | 'year' = 'month'\n): Promise<OverviewStats> {\n  try {\n    // 1. Fetch from API route\n    const response = await fetch(`/api/admin/dashboard/overview?range=${timeRange}`)\n\n    if (!response.ok) {\n      throw new Error(`API error: ${response.status} ${response.statusText}`)\n    }\n\n    const apiData: ApiDashboardOverviewResponse = await response.json()\n\n    // 2. Calculate derived metrics\n    const bookingGrowth = calculateMonthlyGrowth(apiData.metrics, apiData.previousMetrics)\n    const revenueGrowth = calculateRevenueGrowth(apiData.metrics, apiData.previousMetrics)\n    const activeGroomers = calculateActiveGroomers(apiData)\n    const completedBookingsToday = filterTodayBookings(apiData)\n\n    // 3. Transform data structures\n    const recentActivity = transformToActivityItems(apiData.recentBookings)\n    const topServices = transformTopServices(apiData.topServices)\n    const monthlyRevenue = transformMonthlyRevenue(apiData.monthlyRevenue)\n    const userGrowth = transformUserGrowth(apiData.userGrowth)\n\n    // 4. Construct UI-optimized response\n    const overviewStats: any = {\n      // Core metrics from API\n      totalBookings: apiData.metrics.totalBookings,\n      totalRevenue: apiData.metrics.totalRevenue,\n      totalCustomers: apiData.metrics.totalCustomers,\n      activeServices: topServices.length, // Number of services with bookings\n      totalUsers: apiData.metrics.totalCustomers, // Alias for compatibility\n      activeGroomers: activeGroomers,\n      completedBookingsToday: completedBookingsToday,\n      pendingBookings: apiData.metrics.pendingBookings,\n      averageRating: apiData.metrics.averageRating,\n\n      // Calculated metrics (now using real historical data)\n      bookingGrowth: bookingGrowth,\n      revenueGrowth: revenueGrowth,\n      monthlyGrowth: bookingGrowth, // Alias for compatibility\n      averageBookingValue: apiData.metrics.avgBookingValue,\n\n      // Period information (keep as ISO strings for Redux serialization)\n      periodLabel: getPeriodLabel(timeRange),\n      period: {\n        startDate: apiData.startDate, // Keep as ISO string\n        endDate: apiData.endDate, // Keep as ISO string\n        label: getPeriodLabel(timeRange),\n      },\n\n      // Transformed data for UI components\n      recentActivity: recentActivity,\n      topServices: topServices,\n      monthlyRevenue: monthlyRevenue,\n      userGrowth: userGrowth,\n\n      // State flags\n      isLoading: false,\n      error: null,\n    }\n\n    return overviewStats\n  } catch (error) {\n    console.error('Failed to fetch dashboard overview:', error)\n    throw error\n  }\n}\n\n// ============================================================================\n// Calculation Helpers\n// ============================================================================\n// These helper functions are exported for reuse in dashboard-api-slice.ts\n\n/**\n * Calculate month-over-month booking growth percentage.\n *\n * Compares current period bookings to previous period.\n * Returns percentage change (-100 to +Infinity).\n *\n * @param currentMetrics - Current period metrics\n * @param previousMetrics - Previous period metrics\n * @returns Growth percentage (1 decimal place)\n */\nexport function calculateMonthlyGrowth(\n  currentMetrics: ApiDashboardOverviewResponse['metrics'],\n  previousMetrics: ApiDashboardOverviewResponse['previousMetrics']\n): number {\n  if (previousMetrics.totalBookings === 0) return 0\n\n  const growth =\n    ((currentMetrics.totalBookings - previousMetrics.totalBookings) /\n      previousMetrics.totalBookings) *\n    100\n  return Math.round(growth * 10) / 10 // Round to 1 decimal place\n}\n\n/**\n * Calculate month-over-month revenue growth percentage.\n *\n * Compares current period revenue to previous period.\n * Returns percentage change (-100 to +Infinity).\n *\n * @param currentMetrics - Current period metrics\n * @param previousMetrics - Previous period metrics\n * @returns Growth percentage (1 decimal place)\n */\nexport function calculateRevenueGrowth(\n  currentMetrics: ApiDashboardOverviewResponse['metrics'],\n  previousMetrics: ApiDashboardOverviewResponse['previousMetrics']\n): number {\n  if (previousMetrics.totalRevenue === 0) return 0\n\n  const growth =\n    ((currentMetrics.totalRevenue - previousMetrics.totalRevenue) / previousMetrics.totalRevenue) *\n    100\n  return Math.round(growth * 10) / 10 // Round to 1 decimal place\n}\n\n/**\n * Calculate number of active groomers.\n *\n * Active groomers are those with bookings in the current period.\n * This is derived from the recentBookings data.\n *\n * @param data - API response data\n * @returns Count of active groomers\n */\nexport function calculateActiveGroomers(data: ApiDashboardOverviewResponse): number {\n  // Count unique groomers from recent bookings\n  const uniqueGroomers = new Set(\n    data.recentBookings.map((booking) => booking.groomerName).filter((name) => name !== '미배정')\n  )\n\n  return uniqueGroomers.size\n}\n\n/**\n * Filter bookings completed today.\n *\n * Counts bookings with status 'SERVICE_COMPLETED' and serviceDate within today.\n *\n * @param data - API response data\n * @returns Count of completed bookings today\n */\nexport function filterTodayBookings(data: ApiDashboardOverviewResponse): number {\n  const today = new Date()\n  today.setHours(0, 0, 0, 0)\n\n  const tomorrow = new Date(today)\n  tomorrow.setDate(tomorrow.getDate() + 1)\n\n  const completedToday = data.recentBookings.filter((booking) => {\n    if (booking.status !== 'SERVICE_COMPLETED') return false\n\n    const serviceDate = new Date(booking.serviceDate)\n    return serviceDate >= today && serviceDate < tomorrow\n  })\n\n  return completedToday.length\n}\n\n/**\n * Get human-readable label for time period.\n *\n * @param timeRange - Time range filter\n * @returns Korean label for the period\n */\nexport function getPeriodLabel(timeRange: 'week' | 'month' | 'year'): string {\n  switch (timeRange) {\n    case 'week':\n      return '최근 1주'\n    case 'month':\n      return '이번 달'\n    case 'year':\n      return '올해'\n    default:\n      return '이번 달'\n  }\n}\n\n// ============================================================================\n// Data Transformation Helpers\n// ============================================================================\n\n/**\n * Transform bookings to activity feed items.\n *\n * Converts raw booking data to ActivityItem discriminated union.\n * Maps booking status to activity status (success/pending/error).\n * Sorts by timestamp (newest first).\n * Limits to 20 most recent items.\n *\n * @param bookings - Raw booking data from API\n * @returns Array of activity items for UI rendering\n */\nexport function transformToActivityItems(\n  bookings: ApiDashboardOverviewResponse['recentBookings']\n): ActivityItem[] {\n  const activities: ActivityItem[] = bookings.map((booking) => {\n    // Map booking status to activity status\n    const activityStatus = mapBookingStatusToActivityStatus(booking.status)\n\n    return {\n      type: 'booking' as const,\n      id: booking.id,\n      customerName: booking.customerName || '알 수 없음',\n      serviceName: `예약 #${booking.bookingNumber}`,\n      status: booking.status as any, // BookingStatus type\n      timestamp: booking.createdAt, // Keep as ISO string for Redux serialization\n      amount: booking.totalPrice,\n    }\n  })\n\n  // Sort by timestamp (newest first) and limit to 20 items\n  // ISO strings can be compared directly for chronological sorting\n  return activities.sort((a, b) => b.timestamp.localeCompare(a.timestamp)).slice(0, 20)\n}\n\n/**\n * Map booking status to activity status.\n *\n * @param bookingStatus - Booking status from API\n * @returns Activity status (completed/pending/failed)\n */\nfunction mapBookingStatusToActivityStatus(\n  bookingStatus: string\n): 'completed' | 'pending' | 'failed' {\n  if (bookingStatus === 'SERVICE_COMPLETED') return 'completed'\n  if (bookingStatus === 'SERVICE_CANCELLED') return 'failed'\n  return 'pending'\n}\n\n/**\n * Transform API top services data to UI-friendly ServiceStats format.\n *\n * Converts raw service statistics from API to enriched format for display.\n * Adds ranking and placeholder values for fields not yet implemented.\n *\n * @param apiTopServices - Top services data from API\n * @returns Array of service statistics for UI rendering\n */\nexport function transformTopServices(\n  apiTopServices: ApiDashboardOverviewResponse['topServices']\n): ServiceStats[] {\n  return apiTopServices.map((service, index) => ({\n    serviceId: service.serviceId,\n    name: service.name,\n    bookings: service.bookingCount,\n    revenue: service.totalRevenue,\n    rating: 4.5, // TODO: Add service-level rating calculation in API\n    satisfactionRate: 95, // TODO: Calculate from review data\n    rank: index + 1,\n    growth: 0, // TODO: Requires previous period service comparison\n  }))\n}\n\n/**\n * Transform API monthly revenue data to UI-friendly format.\n *\n * Converts aggregated monthly revenue from the API to the chart-ready format\n * with percentage change calculations.\n *\n * @param apiMonthlyRevenue - Monthly revenue data from API\n * @returns Array of monthly revenue data points for charting\n */\nexport function transformMonthlyRevenue(\n  apiMonthlyRevenue: Array<{ month: string; revenue: number; bookingCount: number }>\n): MonthlyRevenue[] {\n  return apiMonthlyRevenue.map((data, index) => {\n    // Get previous month data for comparison\n    const prevData = index > 0 ? apiMonthlyRevenue[index - 1] : { revenue: 0 }\n\n    // Calculate percentage change\n    const percentageChange =\n      prevData.revenue > 0 ? ((data.revenue - prevData.revenue) / prevData.revenue) * 100 : 0\n\n    return {\n      month: data.month,\n      value: data.revenue,\n      previousValue: prevData.revenue,\n      percentageChange: Math.round(percentageChange * 10) / 10,\n    }\n  })\n}\n\n/**\n * Transform API user growth data to UI-friendly format.\n *\n * Converts period-based user registration data from API to chart-ready format.\n *\n * @param apiUserGrowth - User growth data from API\n * @returns Array of user growth data points for charting\n */\nexport function transformUserGrowth(\n  apiUserGrowth: ApiDashboardOverviewResponse['userGrowth']\n): UserGrowthData[] {\n  return apiUserGrowth.map((data) => ({\n    month: data.period,\n    newUsers: data.newUsers,\n    total: data.cumulativeUsers,\n  }))\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport type { ApiDashboardOverviewResponse }\n","/**\n * 예약 Redux Slice\n *\n * 예약 도메인의 클라이언트 상태 관리\n * Redux Toolkit의 createSlice와 createAsyncThunk 사용\n */\n\nimport { createAsyncThunk, createSlice, type PayloadAction } from '@reduxjs/toolkit'\nimport { Pet } from '@prisma/client'\nimport { bookingApi, type InitializeBookingRequest } from '../api/booking-api'\nimport { BookingForm, BookingStep, initialBookingForm } from '../types/booking-form.types'\nimport { ServiceData } from '@/data/services'\nimport { ServiceOption } from '@/features/booking/components/ui/service-option-selector'\n\n/**\n * 예약 필터 인터페이스\n */\nexport interface BookingFilters {\n  /** 예약 상태 */\n  status: string\n  /** 시작 날짜 */\n  startDate?: string\n  /** 종료 날짜 */\n  endDate?: string\n}\n\n/**\n * 예약 상태 인터페이스\n */\nexport interface BookingState {\n  /** 선택된 예약 ID */\n  selectedBookingId: string | null\n  /** 예약 필터 */\n  filters: BookingFilters\n  /** 로딩 상태 */\n  isLoading: boolean\n  /** 에러 메시지 */\n  error: string | null\n  /** 현재 예약 생성 중 여부 */\n  isCreating: boolean\n  /** 현재 결제 초기화 중 여부 */\n  isInitializingPayment: boolean\n  /** 예약 폼 데이터 */\n  formData: BookingForm\n  /** 현재 예약 단계 */\n  currentStep: BookingStep\n  /** 결제 ID */\n  paymentId: string | null\n  /** 현재 미용사 페이지 */\n  currentGroomerPage: number\n}\n\n/**\n * 초기 상태\n */\nconst initialState: BookingState = {\n  selectedBookingId: null,\n  filters: {\n    status: 'all',\n  },\n  isLoading: false,\n  error: null,\n  isCreating: false,\n  isInitializingPayment: false,\n  formData: initialBookingForm,\n  currentStep: 1,\n  paymentId: null,\n  currentGroomerPage: 1,\n}\n\n/**\n * 예약 초기화 비동기 액션\n *\n * 멱등성이 보장된 예약 생성\n */\nexport const initializeBooking = createAsyncThunk(\n  'booking/initialize',\n  async (request: InitializeBookingRequest, { rejectWithValue }) => {\n    try {\n      return await bookingApi.initializeBooking(request)\n    } catch (error: any) {\n      return rejectWithValue(error.message || '예약 초기화에 실패했습니다')\n    }\n  }\n)\n\n/**\n * 결제 초기화 비동기 액션\n */\nexport const initializePayment = createAsyncThunk(\n  'booking/initializePayment',\n  async (\n    { bookingId, amount, orderName }: { bookingId: string; amount: number; orderName: string },\n    { rejectWithValue }\n  ) => {\n    try {\n      return await bookingApi.initializePayment({\n        bookingId,\n        amount,\n        orderName,\n      })\n    } catch (error: any) {\n      return rejectWithValue(error.message || '결제 초기화에 실패했습니다')\n    }\n  }\n)\n\n/**\n * 예약 취소 비동기 액션\n */\nexport const cancelBooking = createAsyncThunk(\n  'booking/cancel',\n  async ({ bookingId, reason }: { bookingId: string; reason?: string }, { rejectWithValue }) => {\n    try {\n      await bookingApi.cancelBooking(bookingId, reason)\n      return bookingId\n    } catch (error: any) {\n      return rejectWithValue(error.message || '예약 취소에 실패했습니다')\n    }\n  }\n)\n\n/**\n * 예약 슬라이스\n */\nconst bookingSlice = createSlice({\n  name: 'booking',\n  initialState,\n  reducers: {\n    /**\n     * 예약 선택\n     */\n    selectBooking: (state, action: PayloadAction<string>) => {\n      state.selectedBookingId = action.payload\n    },\n\n    /**\n     * 예약 선택 해제\n     */\n    clearSelectedBooking: (state) => {\n      state.selectedBookingId = null\n    },\n\n    /**\n     * 필터 업데이트\n     */\n    updateFilters: (state, action: PayloadAction<Partial<BookingFilters>>) => {\n      state.filters = { ...state.filters, ...action.payload }\n    },\n\n    /**\n     * 필터 초기화\n     */\n    resetFilters: (state) => {\n      state.filters = { status: 'all' }\n    },\n\n    /**\n     * 에러 초기화\n     */\n    clearError: (state) => {\n      state.error = null\n    },\n\n    // ===== 폼 관련 액션 =====\n\n    /**\n     * 반려동물 선택/해제 토글\n     */\n    togglePet: (state, action: PayloadAction<Pet>) => {\n      const pet = action.payload\n      const existingIndex = state.formData.petServices.findIndex((ps) => ps.petId === pet.id)\n\n      if (existingIndex >= 0) {\n        // 선택 해제\n        state.formData.petServices.splice(existingIndex, 1)\n      } else {\n        // 선택 (빈 서비스와 옵션 배열로 초기화)\n        state.formData.petServices.push({\n          petId: pet.id,\n          services: [],\n          options: [],\n        })\n      }\n    },\n\n    /**\n     * 반려동물의 서비스 변경\n     */\n    updateServices: (state, action: PayloadAction<{ petId: string; services: ServiceData[] }>) => {\n      const { petId, services } = action.payload\n      const petService = state.formData.petServices.find((ps) => ps.petId === petId)\n      if (petService) {\n        petService.services = services\n      }\n    },\n\n    /**\n     * 반려동물의 옵션 변경\n     */\n    updateOptions: (state, action: PayloadAction<{ petId: string; options: ServiceOption[] }>) => {\n      const { petId, options } = action.payload\n      const petService = state.formData.petServices.find((ps) => ps.petId === petId)\n      if (petService) {\n        petService.options = options\n      }\n    },\n\n    /**\n     * 주소 선택\n     */\n    updateAddress: (state, action: PayloadAction<string>) => {\n      state.formData.addressId = action.payload\n    },\n\n    /**\n     * 날짜 선택 (시간과 미용사 초기화)\n     */\n    updateDate: (state, action: PayloadAction<string>) => {\n      state.formData.date = action.payload\n      state.formData.timeSlot = ''\n      state.formData.groomerId = ''\n    },\n\n    /**\n     * 미용사 선택 (시간 초기화)\n     */\n    updateGroomer: (state, action: PayloadAction<string>) => {\n      state.formData.groomerId = action.payload\n      state.formData.timeSlot = ''\n    },\n\n    /**\n     * 시간대 선택\n     */\n    updateTimeSlot: (state, action: PayloadAction<string>) => {\n      state.formData.timeSlot = action.payload\n    },\n\n    /**\n     * 특별 요청사항 변경\n     */\n    updateSpecialRequests: (state, action: PayloadAction<string>) => {\n      state.formData.specialRequests = action.payload\n    },\n\n    /**\n     * 폼 초기화\n     */\n    resetForm: (state) => {\n      state.formData = initialBookingForm\n      state.currentStep = 1\n      state.paymentId = null\n      state.currentGroomerPage = 1\n    },\n\n    // ===== 단계 관련 액션 =====\n\n    /**\n     * 다음 단계로 이동\n     */\n    nextStep: (state) => {\n      if (state.currentStep < 4) {\n        state.currentStep = (state.currentStep + 1) as BookingStep\n      }\n    },\n\n    /**\n     * 이전 단계로 이동\n     */\n    prevStep: (state) => {\n      if (state.currentStep > 1) {\n        state.currentStep = (state.currentStep - 1) as BookingStep\n      }\n    },\n\n    /**\n     * 특정 단계로 이동\n     */\n    goToStep: (state, action: PayloadAction<BookingStep>) => {\n      state.currentStep = action.payload\n    },\n\n    // ===== 기타 액션 =====\n\n    /**\n     * 미용사 페이지 업데이트\n     */\n    updateGroomerPage: (state, action: PayloadAction<number>) => {\n      state.currentGroomerPage = action.payload\n    },\n\n    /**\n     * 결제 ID 설정\n     */\n    setPaymentId: (state, action: PayloadAction<string>) => {\n      state.paymentId = action.payload\n    },\n  },\n  extraReducers: (builder) => {\n    // 예약 초기화 처리\n    builder\n      .addCase(initializeBooking.pending, (state) => {\n        state.isCreating = true\n        state.error = null\n      })\n      .addCase(initializeBooking.fulfilled, (state, action) => {\n        state.isCreating = false\n        state.selectedBookingId = action.payload.bookingId\n      })\n      .addCase(initializeBooking.rejected, (state, action) => {\n        state.isCreating = false\n        state.error = action.payload as string\n      })\n\n    // 결제 초기화 처리\n    builder\n      .addCase(initializePayment.pending, (state) => {\n        state.isInitializingPayment = true\n        state.error = null\n      })\n      .addCase(initializePayment.fulfilled, (state, action) => {\n        state.isInitializingPayment = false\n        state.paymentId = action.payload.paymentId\n      })\n      .addCase(initializePayment.rejected, (state, action) => {\n        state.isInitializingPayment = false\n        state.error = action.payload as string\n      })\n\n    // 예약 취소 처리\n    builder\n      .addCase(cancelBooking.pending, (state) => {\n        state.isLoading = true\n        state.error = null\n      })\n      .addCase(cancelBooking.fulfilled, (state) => {\n        state.isLoading = false\n        // 취소된 예약이 현재 선택된 예약이면 선택 해제\n        state.selectedBookingId = null\n      })\n      .addCase(cancelBooking.rejected, (state, action) => {\n        state.isLoading = false\n        state.error = action.payload as string\n      })\n  },\n})\n\n// 액션 내보내기\nexport const {\n  selectBooking,\n  togglePet,\n  updateServices,\n  updateOptions,\n  updateAddress,\n  updateDate,\n  updateGroomer,\n  updateTimeSlot,\n  updateSpecialRequests,\n  resetForm,\n  nextStep,\n  prevStep,\n  goToStep,\n  updateGroomerPage,\n  setPaymentId,\n} = bookingSlice.actions\n\n// 리듀서 내보내기 (기본 export)\nexport default bookingSlice.reducer\n\n/**\n * 셀렉터\n * Note: Selectors have been removed as they were unused. If needed in the future,\n * consider using createSelector from @reduxjs/toolkit for memoization.\n */\n","/**\n * 예약 API 레이어 (BFF: Backend-For-Frontend)\n *\n * 서버 응답을 프론트엔드 친화적 형식으로 변환하고\n * 여러 API 호출을 병합하여 UI가 단순히 표시만 하도록 함\n */\n\nimport { format } from 'date-fns'\nimport { ko } from 'date-fns/locale'\n\n/**\n * 예약 초기화 요청 데이터\n */\nexport interface InitializeBookingRequest {\n  /** 멱등성 키 (중복 방지) */\n  idempotencyKey: string\n  /** 반려동물별 서비스 정보 */\n  petServices: {\n    petId: string\n    services: {\n      id: string\n      name: string\n      price: number\n      duration: number\n    }[]\n    options: {\n      id: string\n      name: string\n      price: number\n    }[]\n  }[]\n  /** 서비스 주소 ID */\n  addressId: string\n  /** 미용사 ID */\n  groomerId: string\n  /** 예약 날짜 (YYYY-MM-DD) */\n  date: string\n  /** 시간대 */\n  timeSlot: string\n  /** 특별 요청사항 */\n  specialRequests?: string\n}\n\n/**\n * 예약 초기화 응답 데이터\n */\nexport interface InitializeBookingResponse {\n  /** 예약 ID */\n  bookingId: string\n  /** 기존 예약 여부 */\n  isExisting: boolean\n  /** 예약 상태 */\n  status: string\n}\n\n/**\n * 결제 초기화 요청 데이터\n */\nexport interface InitializePaymentRequest {\n  /** 예약 ID */\n  bookingId: string\n  /** 결제 금액 */\n  amount: number\n  /** 주문명 */\n  orderName: string\n}\n\n/**\n * 결제 초기화 응답 데이터\n */\nexport interface InitializePaymentResponse {\n  /** 결제 ID */\n  paymentId: string\n  /** PortOne 결제 키 */\n  portonePaymentId: string\n}\n\n/**\n * 예약 상세 정보 (프론트엔드 친화적 형식)\n */\nexport interface BookingDetails {\n  /** 예약 ID */\n  id: string\n  /** 고객 정보 */\n  customer: {\n    id: string\n    name: string\n    phone: string\n    email: string\n  }\n  /** 매장 정보 */\n  shop: {\n    id: string\n    name: string\n    address: string\n    phone: string\n  }\n  /** 미용사 정보 */\n  groomer: {\n    id: string\n    name: string\n    profileImage?: string\n  }\n  /** 반려동물 정보 */\n  pets: {\n    id: string\n    name: string\n    breed: string\n    type: string\n  }[]\n  /** 서비스 정보 */\n  services: {\n    petName: string\n    serviceName: string\n    price: number\n    formattedPrice: string\n  }[]\n  /** 예약 날짜 및 시간 */\n  scheduledAt: Date\n  /** 포맷된 날짜 */\n  formattedDate: string\n  /** 포맷된 시간 */\n  formattedTime: string\n  /** 총 금액 */\n  totalAmount: number\n  /** 포맷된 총 금액 */\n  formattedTotalAmount: string\n  /** 예약 상태 */\n  status: string\n  /** 특별 요청사항 */\n  specialRequests?: string\n  /** 결제 정보 */\n  payment?: {\n    id: string\n    status: string\n    paidAt?: Date\n  }\n  /** 생성일시 */\n  createdAt: Date\n  /** 수정일시 */\n  updatedAt: Date\n}\n\n/**\n * 예약 목록 필터\n */\nexport interface BookingListFilters {\n  /** 고객 ID */\n  userId?: string\n  /** 예약 상태 */\n  status?: string\n  /** 날짜 범위 시작 */\n  startDate?: string\n  /** 날짜 범위 종료 */\n  endDate?: string\n  /** 페이지 번호 */\n  page?: number\n  /** 페이지 크기 */\n  pageSize?: number\n}\n\n/**\n * 통화 포맷 헬퍼\n */\nfunction formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('ko-KR', {\n    style: 'currency',\n    currency: 'KRW',\n  }).format(amount)\n}\n\n/**\n * 예약 API\n */\nexport const bookingApi = {\n  /**\n   * 예약 초기화 (멱등성 보장)\n   *\n   * @param request 예약 초기화 요청 데이터\n   * @returns 예약 ID 및 상태\n   */\n  async initializeBooking(request: InitializeBookingRequest): Promise<InitializeBookingResponse> {\n    const response = await fetch('/api/bookings/initialize', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(request),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '예약 초기화에 실패했습니다')\n    }\n\n    return response.json()\n  },\n\n  /**\n   * 결제 초기화\n   *\n   * @param request 결제 초기화 요청 데이터\n   * @returns 결제 ID 및 PortOne 결제 키\n   */\n  async initializePayment(request: InitializePaymentRequest): Promise<InitializePaymentResponse> {\n    const response = await fetch('/api/payments/initialize', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(request),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '결제 초기화에 실패했습니다')\n    }\n\n    return response.json()\n  },\n\n  /**\n   * 예약 상세 조회 (프론트엔드 친화적 형식)\n   *\n   * @param bookingId 예약 ID\n   * @returns 예약 상세 정보 (이미 포맷됨)\n   */\n  async getBooking(bookingId: string): Promise<BookingDetails> {\n    const response = await fetch(`/api/bookings/${bookingId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '예약 조회에 실패했습니다')\n    }\n\n    const data = await response.json()\n\n    // 서버 응답을 프론트엔드 친화적 형식으로 변환\n    return {\n      ...data,\n      scheduledAt: new Date(data.scheduledAt),\n      formattedDate: format(new Date(data.scheduledAt), 'yyyy년 M월 d일 (EEEE)', {\n        locale: ko,\n      }),\n      formattedTime: format(new Date(data.scheduledAt), 'HH:mm', { locale: ko }),\n      formattedTotalAmount: formatCurrency(data.totalAmount),\n      services: data.services.map((service: any) => ({\n        ...service,\n        formattedPrice: formatCurrency(service.price),\n      })),\n      createdAt: new Date(data.createdAt),\n      updatedAt: new Date(data.updatedAt),\n      payment: data.payment\n        ? {\n            ...data.payment,\n            paidAt: data.payment.paidAt ? new Date(data.payment.paidAt) : undefined,\n          }\n        : undefined,\n    }\n  },\n\n  /**\n   * 예약 목록 조회 (프론트엔드 친화적 형식)\n   *\n   * @param filters 필터 조건\n   * @returns 예약 목록 (이미 포맷됨)\n   */\n  async getBookings(filters?: BookingListFilters): Promise<{\n    bookings: BookingDetails[]\n    pagination: {\n      currentPage: number\n      totalPages: number\n      totalItems: number\n      pageSize: number\n    }\n  }> {\n    const queryParams = new URLSearchParams()\n    if (filters?.userId) queryParams.append('userId', filters.userId)\n    if (filters?.status) queryParams.append('status', filters.status)\n    if (filters?.startDate) queryParams.append('startDate', filters.startDate)\n    if (filters?.endDate) queryParams.append('endDate', filters.endDate)\n    if (filters?.page) queryParams.append('page', filters.page.toString())\n    if (filters?.pageSize) queryParams.append('pageSize', filters.pageSize.toString())\n\n    const response = await fetch(`/api/bookings?${queryParams.toString()}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '예약 목록 조회에 실패했습니다')\n    }\n\n    const data = await response.json()\n\n    // 각 예약을 프론트엔드 친화적 형식으로 변환\n    return {\n      bookings: data.bookings.map((booking: any) => ({\n        ...booking,\n        scheduledAt: new Date(booking.scheduledAt),\n        formattedDate: format(new Date(booking.scheduledAt), 'yyyy년 M월 d일 (EEEE)', {\n          locale: ko,\n        }),\n        formattedTime: format(new Date(booking.scheduledAt), 'HH:mm', { locale: ko }),\n        formattedTotalAmount: formatCurrency(booking.totalAmount),\n        services: booking.services.map((service: any) => ({\n          ...service,\n          formattedPrice: formatCurrency(service.price),\n        })),\n        createdAt: new Date(booking.createdAt),\n        updatedAt: new Date(booking.updatedAt),\n      })),\n      pagination: data.pagination,\n    }\n  },\n\n  /**\n   * 예약 취소\n   *\n   * @param bookingId 예약 ID\n   * @param reason 취소 사유\n   */\n  async cancelBooking(bookingId: string, reason?: string): Promise<void> {\n    const response = await fetch(`/api/bookings/${bookingId}/cancel`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ reason }),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '예약 취소에 실패했습니다')\n    }\n  },\n\n  /**\n   * 예약 상태 업데이트\n   *\n   * @param bookingId 예약 ID\n   * @param status 새로운 상태\n   */\n  async updateBookingStatus(bookingId: string, status: string): Promise<void> {\n    const response = await fetch(`/api/bookings/${bookingId}/status`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ status }),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || '예약 상태 업데이트에 실패했습니다')\n    }\n  },\n}\n","/**\n * 예약 폼 타입 정의\n */\n\nimport { ServiceData } from '@/data/services'\nimport { ServiceOption } from '@/features/booking/components/ui/service-option-selector'\n\n/**\n * 반려동물별 서비스 선택 정보\n */\nexport interface PetServiceSelection {\n  /** 반려동물 ID */\n  petId: string\n  /** 선택된 서비스 목록 */\n  services: ServiceData[]\n  /** 선택된 추가 옵션 목록 */\n  options: ServiceOption[]\n}\n\n/**\n * 예약 폼 데이터 구조\n */\nexport interface BookingForm {\n  /** 반려동물별 서비스 선택 목록 */\n  petServices: PetServiceSelection[]\n  /** 선택된 주소 ID */\n  addressId: string\n  /** 선택된 미용사 ID */\n  groomerId: string\n  /** 예약 날짜 (yyyy-MM-dd) */\n  date: string\n  /** 예약 시간대 */\n  timeSlot: string\n  /** 특별 요청사항 */\n  specialRequests: string\n}\n\n/**\n * 예약 폼 단계 타입\n */\nexport type BookingStep = 1 | 2 | 3 | 4\n\n/**\n * 초기 폼 상태\n */\nexport const initialBookingForm: BookingForm = {\n  petServices: [],\n  addressId: '',\n  groomerId: '',\n  date: '',\n  timeSlot: '',\n  specialRequests: '',\n}\n","/**\n * RTK Query API for Booking Data\n *\n * Replaces TanStack Query with RTK Query for booking-related data fetching\n * Imports types from API route files (single source of truth)\n */\n\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport type { Pet } from '@/hooks/usePets'\nimport type { Address } from '@/app/api/customer/addresses/route'\nimport type { AvailabilityResponse } from '@/app/api/bookings/availability/route'\n\n/**\n * Re-export types for convenience\n */\nexport type { Address, AvailabilityResponse }\n\n/**\n * Availability query parameters\n */\nexport interface AvailabilityQueryParams {\n  date?: string\n  addressId?: string\n  page?: number\n  limit?: number\n}\n\n/**\n * Booking Query API\n */\nexport const bookingQueryApi = createApi({\n  reducerPath: 'bookingQueryApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['Pets', 'Addresses', 'Availability'],\n  endpoints: (builder) => ({\n    /**\n     * Get customer pets\n     *\n     * Note: Dates are kept as ISO strings for Redux serializability.\n     * Components should parse them to Date objects when needed.\n     */\n    getPets: builder.query<Pet[], void>({\n      query: () => '/customer/pets',\n      providesTags: ['Pets'],\n    }),\n\n    /**\n     * Get customer addresses\n     */\n    getAddresses: builder.query<Address[], void>({\n      query: () => '/customer/addresses',\n      providesTags: ['Addresses'],\n    }),\n\n    /**\n     * Get availability (groomers and time slots)\n     */\n    getAvailability: builder.query<AvailabilityResponse, AvailabilityQueryParams>({\n      query: ({ date, addressId, page = 1, limit = 6 }) => {\n        const params = new URLSearchParams()\n        if (date) params.append('date', date)\n        if (addressId) params.append('addressId', addressId)\n        params.append('page', page.toString())\n        params.append('limit', limit.toString())\n\n        return `/bookings/availability?${params.toString()}`\n      },\n      providesTags: ['Availability'],\n      keepUnusedDataFor: 300, // 5 minutes cache\n    }),\n  }),\n})\n\n/**\n * Export hooks for usage in components\n */\nexport const { useGetPetsQuery, useGetAddressesQuery, useGetAvailabilityQuery } = bookingQueryApi\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}
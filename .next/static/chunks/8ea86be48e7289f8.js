(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,838021,e=>{"use strict";var s=e.i(843476),r=e.i(578938),t=e.i(613846),a=e.i(271645),i=e.i(522016),n=e.i(519455),d=e.i(93814),l=e.i(433426),c=e.i(720154);function o({date:e,addressId:s,currentPage:r=1,enabled:t=!0}={}){let{data:a=[],isLoading:i,error:n}=(0,c.useGetPetsQuery)(void 0,{skip:!t}),{data:d=[],isLoading:l,error:m}=(0,c.useGetAddressesQuery)(void 0,{skip:!t}),{data:x,isLoading:h,error:u,refetch:p}=(0,c.useGetAvailabilityQuery)({date:e,addressId:s,page:r,limit:6},{skip:!t||!e||!s,pollingInterval:5e3}),g=x?.timeSlots||[],j=x?.groomers||[],f=x?.pagination;return{pets:a,savedAddresses:d,timeSlots:g,groomers:j,groomerPagination:f,filteringInfo:x?.filteringInfo,isPetsLoading:i,isAddressesLoading:l,isLoadingGroomers:h,isInitialLoading:i||l,petsError:n,addressesError:m,availabilityError:u,hasError:!!n||!!m||!!u,refetchAvailability:p}}var m=e.i(401851),x=e.i(116550),h=e.i(155487);let u=h.useDispatch.withTypes(),p=h.useSelector.withTypes();h.useStore.withTypes();var g=e.i(145607);function j(e,s){switch(e){case 1:return s.petServices.length>0&&s.petServices.every(e=>e.services.length>0);case 2:return!!s.addressId;case 3:return!!s.date&&!!s.timeSlot&&!!s.groomerId;default:return!0}}function f(e,s,r){switch(e){case 1:if(0===s.petServices.length)return"Î∞òÎ†§ÎèôÎ¨ºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.";let t=s.petServices.filter(e=>0===e.services.length);if(t.length>0){let e=t.map(e=>{let s=r.find(s=>s.id===e.petId);return s?.name||"ÏÑ†ÌÉùÎêú Î∞òÎ†§ÎèôÎ¨º"}).join(", ");return`${e}Ïùò ÏÑúÎπÑÏä§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.`}return"";case 2:if(!s.addressId)return"Ï£ºÏÜåÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.";return"";case 3:if(!s.date)return"ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.";if(!s.groomerId)return"ÎØ∏Ïö©ÏÇ¨Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.";if(!s.timeSlot)return"ÏãúÍ∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.";return"";default:return""}}function N(e,s){return e.petServices.reduce((e,r)=>{let t=s.find(e=>e.id===r.petId);return e+r.services.reduce((e,s)=>e+(t?.type,t?.weight,t?.breedId,s.price),0)+r.options.reduce((e,s)=>e+s.price,0)},0)}var v=e.i(515288),b=e.i(776639),y=e.i(87316),k=e.i(968553),w=e.i(299339),C=e.i(643531),S=e.i(144988),I=e.i(790597),L=e.i(487486),P=e.i(657688);function B({pet:e,isSelected:r,hasServices:t,needsService:a=!1,onToggleSelect:i}){let n=((e,s)=>{if(e){let r;if("string"==typeof e){if(isNaN((r=new Date(e)).getTime()))return s}else r=e;let t=new Date,a=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return i<0||0===i&&t.getDate()<r.getDate()?a-1:a}return s})(e.birthDate,e.age),d=e.images?.find(e=>e.isPrimary)||e.images?.[0];return(0,s.jsxs)(v.Card,{className:`relative cursor-pointer overflow-hidden transition-all duration-200 hover:shadow-lg ${a?"border-2 border-red-500 bg-red-50/50 shadow-lg":r?"border-2 border-green-500 bg-green-50/50 shadow-lg":"border-border hover:border-primary/50"}`,onClick:()=>i(e),children:[a?(0,s.jsx)("div",{className:"absolute top-3 left-3 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-red-500",children:(0,s.jsx)("svg",{className:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}):r?(0,s.jsx)("div",{className:"absolute top-3 left-3 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-green-500",children:(0,s.jsx)(C.Check,{className:"h-4 w-4 text-white"})}):null,(0,s.jsxs)("div",{className:"bg-muted relative h-40",children:[d?(0,s.jsx)(P.default,{src:d.url,alt:e.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}):(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:["DOG"===e.type?(0,s.jsx)(S.Dog,{className:"text-muted-foreground/50 mx-auto h-12 w-12"}):(0,s.jsx)(w.Cat,{className:"text-muted-foreground/50 mx-auto h-12 w-12"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-xs",children:"ÏÇ¨ÏßÑ ÏóÜÏùå"})]})}),e.images&&e.images.length>0&&(0,s.jsxs)("div",{className:"absolute right-2 bottom-2 flex items-center gap-1 rounded-md bg-black/70 px-2 py-1 text-xs text-white",children:[(0,s.jsx)(k.Camera,{className:"h-3 w-3"}),e.images.length]}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(e=>{switch(e){case"UP_TO_DATE":return(0,s.jsx)(L.Badge,{className:"bg-green-500",children:"Ï†ëÏ¢Ö ÏôÑÎ£å"});case"OVERDUE":return(0,s.jsx)(L.Badge,{variant:"destructive",children:"Ï†ëÏ¢Ö ÏßÄÏó∞"});case"PARTIAL":return(0,s.jsx)(L.Badge,{variant:"secondary",children:"Î∂ÄÎ∂Ñ Ï†ëÏ¢Ö"});default:return(0,s.jsx)(L.Badge,{variant:"outline",children:"ÎØ∏ÌôïÏù∏"})}})(e.vaccinationStatus)})]}),(0,s.jsx)(v.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${a?"bg-red-100":r?"bg-green-100":"bg-primary/10"}`,children:"DOG"===e.type?(0,s.jsx)(S.Dog,{className:`h-5 w-5 ${a?"text-red-600":r?"text-green-600":"text-primary"}`}):(0,s.jsx)(w.Cat,{className:`h-5 w-5 ${a?"text-red-600":r?"text-green-600":"text-primary"}`})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h3",{className:"truncate text-lg font-semibold",children:e.name}),(0,s.jsx)("p",{className:"text-muted-foreground truncate text-sm",children:e.breed?.name||("DOG"===e.type?"ÎØπÏä§Í≤¨":"ÎØπÏä§Î¨ò")})]})]}),a?(0,s.jsx)("div",{className:"rounded bg-red-100 px-2 py-1 text-xs font-medium text-red-600",children:"ÏÑúÎπÑÏä§ ÌïÑÏöî"}):t?(0,s.jsx)("div",{className:"rounded bg-green-100 px-2 py-1 text-xs font-medium text-green-600",children:"ÏÑúÎπÑÏä§ ÏÑ†ÌÉùÎê®"}):null]})}),(0,s.jsxs)(v.CardContent,{className:"space-y-3 pt-0",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:["DOG"===e.type&&e.breed?.name&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(I.Heart,{className:"text-muted-foreground h-4 w-4"}),(0,s.jsx)("span",{children:e.breed.name})]}),"CAT"===e.type&&e.hairType&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(I.Heart,{className:"text-muted-foreground h-4 w-4"}),(0,s.jsx)("span",{children:(e=>{switch(e){case"SHORT_HAIR":return"Îã®Î™®";case"LONG_HAIR":return"Ïû•Î™®";default:return null}})(e.hairType)})]}),e.gender&&"UNKNOWN"!==e.gender&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"ÏÑ±Î≥Ñ:"}),(0,s.jsx)("span",{children:"MALE"===e.gender?"ÎÇ®Ïûê":"Ïó¨Ïûê"})]}),null!=n&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Calendar,{className:"text-muted-foreground h-4 w-4"}),(0,s.jsxs)("span",{children:[n,"ÏÇ¥"]})]}),e.weight&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Ï≤¥Ï§ë:"}),(0,s.jsxs)("span",{children:[e.weight,"kg"]})]})]}),e.specialNeeds&&(0,s.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:[(0,s.jsx)("p",{className:"mb-1 text-xs font-medium text-blue-800",children:"ÌäπÏù¥ÏÇ¨Ìï≠"}),(0,s.jsx)("p",{className:"line-clamp-2 text-xs break-words text-blue-700",children:e.specialNeeds})]})]})]})}var D=e.i(257428),T=e.i(772436),M=e.i(870273),z=e.i(212426),$=e.i(952571),E=e.i(746798);function A({pet:e,availableServices:r,selectedServices:t,onServiceChange:i,onClose:d}){let[l,c]=(0,a.useState)(t),o=[...(e.type,r)].sort((e,s)=>e.isRecommended&&!s.isRecommended?-1:!e.isRecommended&&s.isRecommended?1:e.isPopular&&!s.isPopular?-1:!e.isPopular&&s.isPopular?1:e.bookingCount!==s.bookingCount?s.bookingCount-e.bookingCount:e.name.localeCompare(s.name,"ko")),m=(e,s)=>{s?c(s=>[...s,e]):c(s=>s.filter(s=>s.id!==e.id))},x=({service:r})=>{let t=l.some(e=>e.id===r.id),a=(e.type,e.weight,e.breedId,r.price);return(0,s.jsx)(v.Card,{className:`cursor-pointer transition-all hover:shadow-md ${t?"border-primary bg-primary/5":"border-border"}`,onClick:()=>m(r,!t),children:(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(D.Checkbox,{checked:t,onCheckedChange:e=>m(r,!!e),className:"mt-1"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:r.icon}),(0,s.jsx)("h4",{className:"min-w-0 flex-1 font-medium",children:r.name})]}),(r.isPopular||r.isRecommended)&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[r.isPopular&&(0,s.jsxs)(L.Badge,{variant:"secondary",className:"text-xs",children:[(0,s.jsx)(M.Star,{className:"mr-1 h-3 w-3"}),"Ïù∏Í∏∞"]}),r.isRecommended&&(0,s.jsx)(L.Badge,{className:"text-xs",children:"Ï∂îÏ≤ú"})]})]}),(0,s.jsx)("p",{className:"text-muted-foreground mb-3 line-clamp-2 text-sm",children:r.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-3 text-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(z.DollarSign,{className:"text-muted-foreground h-4 w-4"}),(0,s.jsxs)("span",{className:"font-medium",children:[a.toLocaleString(),"Ïõê"]})]})}),(0,s.jsx)(E.TooltipProvider,{children:(0,s.jsxs)(E.Tooltip,{children:[(0,s.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,s.jsx)($.Info,{className:"h-3 w-3"})})}),(0,s.jsx)(E.TooltipContent,{children:(0,s.jsx)("p",{className:"max-w-xs",children:r.description})})]})})]})]})]})})})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold",children:[e.name,"Ïùò ÏÑúÎπÑÏä§ ÏÑ†ÌÉù"]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"ÏõêÌïòÎäî ÏÑúÎπÑÏä§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî. Ïó¨Îü¨ Í∞ú ÏÑ†ÌÉù Í∞ÄÎä•Ìï©ÎãàÎã§."})]}),(0,s.jsx)(n.Button,{variant:"outline",onClick:d,children:"Ï∑®ÏÜå"})]}),(0,s.jsx)("div",{className:"space-y-3",children:o.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:o.map(e=>(0,s.jsx)(x,{service:e},e.id))}):(0,s.jsx)("div",{className:"py-8 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"ÏÑ†ÌÉù Í∞ÄÎä•Ìïú ÏÑúÎπÑÏä§Í∞Ä ÏóÜÏäµÎãàÎã§."})})}),l.length>0&&(0,s.jsxs)(v.Card,{className:"border-primary bg-primary/5",children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsx)(v.CardTitle,{children:"ÏÑ†ÌÉùÎêú ÏÑúÎπÑÏä§ ÏöîÏïΩ"})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-primary text-lg font-bold",children:l.length}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"ÏÑúÎπÑÏä§"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-primary text-lg font-bold",children:[l.reduce((s,r)=>s+(e.type,e.weight,e.breedId,r.price),0).toLocaleString(),"Ïõê"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"ÏòàÏÉÅ Í∏àÏï°"})]})]}),(0,s.jsx)(T.Separator,{}),(0,s.jsx)("div",{className:"space-y-2",children:l.map(r=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{children:[r.icon," ",r.name]}),(0,s.jsxs)("span",{className:"font-medium",children:[(e.type,e.weight,e.breedId,r.price).toLocaleString(),"Ïõê"]})]},r.id))})]})})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(n.Button,{onClick:()=>{i(l),d()},className:"flex-1",disabled:0===l.length,children:l.length>0?`${l.length}Í∞ú ÏÑúÎπÑÏä§ ÏÑ†ÌÉù ÏôÑÎ£å`:"ÏµúÏÜå 1Í∞ú ÏÑúÎπÑÏä§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"}),(0,s.jsx)(n.Button,{variant:"outline",onClick:d,children:"Ï∑®ÏÜå"})]})]})}var R=e.i(110204),O=e.i(63209),H=e.i(266027);function F({petId:e,petName:r,selectedOptions:t,onOptionsChange:a,disabled:i=!1}){let{data:n=[],isLoading:l,isError:c,error:o}=(0,H.useQuery)({queryKey:["customer","service-options",e],queryFn:async()=>{let s=await fetch(`/api/customer/service-options?petId=${e}`);if(!s.ok)throw Error("ÏòµÏÖòÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§");return s.json()},enabled:!!e}),m=(e,s)=>{s?a([...t,e]):a(t.filter(s=>s.id!==e.id))};if(l)return(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{children:[(0,s.jsxs)(v.CardTitle,{className:"text-lg",children:[r," - Ï∂îÍ∞Ä ÏòµÏÖò"]}),(0,s.jsx)(v.CardDescription,{children:"Î∞òÎ†§ÎèôÎ¨º ÏÉÅÌÉúÏóê Îî∞Î•∏ Ï∂îÍ∞Ä ÏòµÏÖòÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"})]}),(0,s.jsx)(v.CardContent,{className:"flex justify-center py-8",children:(0,s.jsx)(d.LoadingSpinner,{})})]});if(c)return(0,s.jsxs)(v.Card,{children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsxs)(v.CardTitle,{className:"text-lg",children:[r," - Ï∂îÍ∞Ä ÏòµÏÖò"]})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"text-destructive flex items-center gap-2",children:[(0,s.jsx)(O.AlertCircle,{className:"h-5 w-5"}),(0,s.jsx)("p",{className:"text-sm",children:o instanceof Error?o.message:"ÏòµÏÖòÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§"})]})})]});if(0===n.length)return null;let x=t.reduce((e,s)=>e+s.price,0);return(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{children:[(0,s.jsxs)(v.CardTitle,{className:"text-lg",children:[r," - Ï∂îÍ∞Ä ÏòµÏÖò"]}),(0,s.jsx)(v.CardDescription,{children:"Î∞òÎ†§ÎèôÎ¨º ÏÉÅÌÉúÏóê Îî∞Î•∏ Ï∂îÍ∞Ä ÏòµÏÖòÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî (ÏÑ†ÌÉùÏÇ¨Ìï≠)"})]}),(0,s.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid gap-3",children:n.map(e=>{let r,a=(r=e.id,t.some(e=>e.id===r));return(0,s.jsxs)("div",{className:`flex items-start space-x-3 rounded-lg border p-4 transition-colors ${a?"border-primary bg-primary/5":"border-gray-200"} ${i?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,onClick:()=>!i&&m(e,!a),children:[(0,s.jsx)(D.Checkbox,{id:`option-${e.id}`,checked:a,onCheckedChange:s=>m(e,s),disabled:i,className:"mt-1"}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsx)(R.Label,{htmlFor:`option-${e.id}`,className:`font-medium ${i?"cursor-not-allowed":"cursor-pointer"}`,children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:e.description}),(0,s.jsxs)("p",{className:"text-primary text-sm font-semibold",children:["+",e.price.toLocaleString(),"Ïõê"]})]})]},e.id)})}),t.length>0&&(0,s.jsxs)("div",{className:"mt-4 rounded-lg bg-gray-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"ÏÑ†ÌÉùÌïú ÏòµÏÖò Ìï©Í≥Ñ"}),(0,s.jsxs)("span",{className:"text-primary text-lg font-bold",children:["+",x.toLocaleString(),"Ïõê"]})]}),(0,s.jsx)("div",{className:"text-muted-foreground mt-2 text-xs",children:t.map(e=>e.name).join(", ")})]})]})]})}function G({pets:e}){let r=u(),t=p(e=>e.booking.formData),[i,l]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),{data:m=[],isLoading:x,isError:h,error:j}=(0,H.useQuery)({queryKey:["customer","services",c?.id],queryFn:async()=>{if(!c?.id)throw Error("Pet not selected");let e=await fetch(`/api/customer/services?petId=${c.id}`);if(!e.ok)throw Error("Failed to fetch services");return e.json()},enabled:!!c}),f=e=>{o(e),l(!0)};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{let a=t.petServices.find(s=>s.petId===e.id)?.services||[],i=t.petServices.some(s=>s.petId===e.id),n=a.length>0,d=i&&!n;return(0,s.jsx)(B,{pet:e,isSelected:i,hasServices:n,needsService:d,onToggleSelect:e=>r((0,g.togglePet)(e))},e.id)})}),t.petServices.length>0&&(0,s.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"ÏÑ†ÌÉùÎêú Î∞òÎ†§ÎèôÎ¨º ÏÑúÎπÑÏä§"}),t.petServices.map(t=>{let a=e.find(e=>e.id===t.petId);return a?(0,s.jsxs)(v.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,s.jsxs)("h4",{className:"font-medium",children:[a.name,"Ïùò ÏÑúÎπÑÏä§"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-muted-foreground text-sm",children:[t.services.length,"Í∞ú ÏÑúÎπÑÏä§ ÏÑ†ÌÉùÎê®"]}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>f(a),children:"ÏÑúÎπÑÏä§ Ìé∏Ïßë"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[t.services.length>0?(0,s.jsx)("div",{className:"space-y-2",children:t.services.map((e,r)=>(0,s.jsxs)("div",{className:"bg-muted flex items-center justify-between rounded-lg p-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:e.icon}),(0,s.jsx)("span",{className:"font-medium",children:e.name})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:e.description})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("div",{className:"font-medium",children:[(a.type,a.weight,a.breedId,e.price).toLocaleString(),"Ïõê"]})})]},r))}):(0,s.jsxs)("div",{className:"rounded-lg border-2 border-dashed border-red-200 bg-red-50 py-6 text-center",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center justify-center",children:[(0,s.jsx)("svg",{className:"mr-2 h-6 w-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"font-medium text-red-700",children:"ÏÑúÎπÑÏä§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"})]}),(0,s.jsx)("p",{className:"mb-4 text-sm text-red-600",children:"ÏòàÏïΩÏùÑ Í≥ÑÏÜçÌïòÎ†§Î©¥ ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅÏùò ÏÑúÎπÑÏä§Î•º ÏÑ†ÌÉùÌï¥Ïïº Ìï©ÎãàÎã§"}),(0,s.jsx)(n.Button,{variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",onClick:()=>f(a),children:"ÏÑúÎπÑÏä§ ÏÑ†ÌÉùÌïòÍ∏∞"})]}),t.services.length>0&&(0,s.jsx)(F,{petId:a.id,petName:a.name,selectedOptions:t.options,onOptionsChange:e=>r((0,g.updateOptions)({petId:a.id,options:e}))})]})]},t.petId):null})]}),t.petServices.length>0&&(0,s.jsxs)(v.Card,{className:"border-primary bg-primary/5",children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsx)(v.CardTitle,{children:"ÏÑ†ÌÉù ÏöîÏïΩ"})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-center md:grid-cols-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-primary text-2xl font-bold",children:t.petServices.length}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Î∞òÎ†§ÎèôÎ¨º"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-primary text-2xl font-bold",children:t.petServices.reduce((e,s)=>e+s.services.length,0)}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"ÏÑúÎπÑÏä§"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-primary text-2xl font-bold",children:[N(t,e).toLocaleString(),"Ïõê"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Ï¥ù ÏòàÏÉÅ Í∏àÏï°"})]})]})})]}),(0,s.jsx)(b.Dialog,{open:i,onOpenChange:l,children:(0,s.jsxs)(b.DialogContent,{className:"max-h-[90vh] max-w-4xl overflow-y-auto",children:[(0,s.jsx)(b.DialogHeader,{children:(0,s.jsx)(b.DialogTitle,{children:"ÏÑúÎπÑÏä§ ÏÑ†ÌÉù"})}),c&&(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"mr-2 h-5 w-5 flex-shrink-0 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("p",{className:"text-sm font-medium text-red-700",children:["ÏÑúÎπÑÏä§ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§."," ",j instanceof Error?j.message:""]})]})}),x?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(d.LoadingSpinner,{size:"lg"}),(0,s.jsx)("p",{className:"text-muted-foreground ml-3",children:"ÏÑúÎπÑÏä§Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]}):(0,s.jsx)(A,{pet:c,availableServices:m,selectedServices:t.petServices.find(e=>e.petId===c.id)?.services||[],onServiceChange:e=>{r((0,g.updateServices)({petId:c.id,services:e})),l(!1)},onClose:()=>l(!1)})]})]})})]})}function q({savedAddresses:e}){let r=u(),t=p(e=>e.booking.formData.addressId),a=e.find(e=>e.id===t);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(v.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"ÏÑúÎπÑÏä§ Ï£ºÏÜå"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-sm",children:"ÎØ∏Ïö© ÏÑúÎπÑÏä§Î•º Î∞õÏùÑ Ï£ºÏÜåÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"})]}),e.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-3",children:e.map(e=>(0,s.jsx)("div",{className:`cursor-pointer rounded-lg border p-4 transition-colors ${t===e.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>r((0,g.updateAddress)(e.id)),children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("p",{className:"font-medium break-words",children:[e.city," ",e.state," ",e.street]}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-sm",children:e.zipCode&&`(${e.zipCode})`})]}),e.isDefault&&(0,s.jsx)("span",{className:"bg-primary text-primary-foreground flex-shrink-0 rounded px-2 py-1 text-xs",children:"Í∏∞Î≥∏ Ï£ºÏÜå"})]})},e.id))}),(0,s.jsx)("div",{className:"mt-2 flex justify-center",children:(0,s.jsx)(n.Button,{variant:"outline",asChild:!0,children:(0,s.jsx)(i.default,{href:"/customer/profile",children:"ÏÉà Ï£ºÏÜå Ï∂îÍ∞ÄÌïòÍ∏∞"})})})]}):(0,s.jsxs)("div",{className:"py-8 text-center",children:[(0,s.jsx)("div",{className:"bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:(0,s.jsxs)("svg",{className:"text-muted-foreground h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,s.jsx)("h3",{className:"text-foreground mb-2 text-lg font-medium",children:"Îì±Î°ùÎêú Ï£ºÏÜåÍ∞Ä ÏóÜÏäµÎãàÎã§"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"ÏòàÏïΩÏùÑ Í≥ÑÏÜçÌïòÎ†§Î©¥ ÌîÑÎ°úÌïÑÏóêÏÑú Ï£ºÏÜåÎ•º Î®ºÏ†Ä Îì±Î°ùÌï¥Ï£ºÏÑ∏Ïöî."}),(0,s.jsx)(n.Button,{asChild:!0,children:(0,s.jsx)(i.default,{href:"/customer/profile",children:"Ï£ºÏÜå Îì±Î°ùÌïòÎü¨ Í∞ÄÍ∏∞"})})]})]})}),a&&(0,s.jsxs)(v.Card,{className:"border-green-200 bg-green-50",children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsx)(v.CardTitle,{className:"text-green-800",children:"ÏÑ†ÌÉùÎêú Ï£ºÏÜå"})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"text-green-700",children:[(0,s.jsxs)("p",{className:"font-medium break-words",children:[a.city," ",a.state," ",a.street]}),a.zipCode&&(0,s.jsxs)("p",{className:"mt-1 text-sm",children:["(",a.zipCode,")"]})]})})]})]})}let W=(0,e.i(475254).default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var U=e.i(227766),_=e.i(799676),K=e.i(842009),Q=e.i(346897),Y=e.i(975157);function V({groomer:e,onSelect:r,isSelected:t=!1,className:a}){let i;return(0,s.jsx)(v.Card,{className:(0,Y.cn)("cursor-pointer transition-all duration-200 hover:shadow-md",t?"ring-primary border-primary bg-primary/5 ring-2":"hover:border-primary/50",a),onClick:()=>r(e.id),children:(0,s.jsx)(v.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsxs)(_.Avatar,{className:"border-border h-16 w-16 border-2",children:[(0,s.jsx)(_.AvatarImage,{src:e.profileImage,alt:`${e.name} ÌîÑÎ°úÌïÑ`}),(0,s.jsx)(_.AvatarFallback,{className:"bg-primary/10 text-primary text-lg font-semibold",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h3",{className:"truncate text-lg leading-tight font-semibold",children:e.name}),void 0!==e.rating&&(0,s.jsxs)("div",{className:"mt-1 flex items-center gap-1",children:[(i=e.rating,Array.from({length:5},(e,r)=>(0,s.jsx)(M.Star,{className:(0,Y.cn)("h-4 w-4",r<Math.floor(i)?"fill-yellow-400 text-yellow-400":"text-gray-300")},r))),(0,s.jsxs)("span",{className:"text-muted-foreground ml-1 text-sm",children:[e.rating,e.reviewCount&&` (${e.reviewCount})`]})]})]}),t&&(0,s.jsxs)("div",{className:"text-primary flex items-center gap-1",children:[(0,s.jsx)(K.Award,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"ÏÑ†ÌÉùÎê®"})]})]}),(0,s.jsxs)("div",{className:"mb-4 space-y-1",children:[e.workAreas&&e.workAreas.length>0&&(0,s.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1 text-sm",children:[(0,s.jsx)(Q.MapPin,{className:"h-3 w-3 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.workAreas.join(", ")})]}),void 0!==e.distance&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,s.jsx)("span",{className:"text-primary font-medium",children:e.distance<1?`${Math.round(1e3*e.distance)}m`:`${e.distance}km`}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Í±∞Î¶¨"}),e.serviceArea&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"‚Ä¢"}),(0,s.jsx)("span",{className:"text-muted-foreground truncate",children:e.serviceArea})]})]})]}),(0,s.jsx)(n.Button,{variant:t?"default":"outline",size:"sm",className:(0,Y.cn)("w-full transition-colors",t?"bg-primary text-primary-foreground":"hover:bg-primary hover:text-primary-foreground"),onClick:s=>{s.stopPropagation(),r(e.id)},children:t?"ÏÑ†ÌÉùÎê®":"Ïù¥ ÎØ∏Ïö©ÏÇ¨ ÏÑ†ÌÉù"})]})]})})})}var X=e.i(503116);function J({groomerName:e,timeSlots:r,selectedTime:t,estimatedDuration:a=60,onTimeSelect:i,className:d,workingHoursStart:l="09:00",workingHoursEnd:c="18:00"}){let o=((e=l,s=c)=>{let r=[],[t,a]=e.split(":").map(Number),[i,n]=s.split(":").map(Number),d=60*t+a,o=60*i+n;for(let e=d;e<o;e+=30){let s=Math.floor(e/60),t=e%60,a=`${s.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;r.push(a)}return r})(),m=e=>{let s=r.find(s=>s.time===e);return{available:s?.available??!0,isBooked:s?.isBooked??!1,reason:s?.reason||(s?.isBooked?"Ïù¥ÎØ∏ ÏòàÏïΩÎê®":void 0)}},x=e=>{let[s,r]=e.split(":").map(Number);return 60*s+r},h=e=>{let s=Math.floor(e/60);return`${s.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`},u=(e,s)=>{if(!e)return[];let r=x(e),t=r+s,a=[];for(let e=r;e<t;e+=30){let s=h(e);o.includes(s)&&a.push(s)}return a};return t&&u(t,a),(0,s.jsxs)(v.Card,{className:d,children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsxs)(v.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(X.Clock,{className:"text-primary h-5 w-5"}),e," ÎØ∏Ïö©ÏÇ¨ ÏòàÏïΩ ÏãúÍ∞Ñ ÏÑ†ÌÉù"]})}),(0,s.jsxs)(v.CardContent,{children:[(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-muted-foreground mb-3 flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)("span",{className:"bg-primary/10 text-primary rounded px-2 py-1 text-xs",children:"ÏòàÏïΩ Í∞ÄÎä• ÏãúÍ∞Ñ"}),(0,s.jsxs)("span",{className:"text-xs",children:[l," - ",c]})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 md:grid-cols-6 lg:grid-cols-8",children:o.map(e=>(e=>{let r=m(e),d=t===e,l=(e=>{let s=m(e);if(!s.available||s.isBooked)return!1;for(let s of u(e,a)){let e=m(s);if(!e.available||e.isBooked)return!1}return!0})(e),o=x(e)+a>x(c),h=!l||r.isBooked;return(0,s.jsxs)(n.Button,{variant:d?"default":"outline",size:"sm",disabled:h,onClick:()=>{h||i(e)},"aria-disabled":h,className:(0,Y.cn)("relative h-10 text-xs font-medium transition-all",d&&!r.isBooked&&"bg-primary text-primary-foreground ring-primary font-bold shadow-md ring-2 ring-offset-2",r.isBooked&&"border-gray-500 bg-gray-300 text-gray-700 line-through opacity-70",o&&!r.isBooked&&!d&&"border-orange-300 bg-orange-100 text-orange-700 opacity-60",!d&&l&&!r.isBooked&&"hover:bg-primary/10 hover:border-primary",h&&"pointer-events-none cursor-not-allowed opacity-50"),title:r.isBooked?`Ïù¥ÎØ∏ ÏòàÏïΩÎêú ÏãúÍ∞ÑÏûÖÎãàÎã§: ${e}`:o?`ÏÑúÎπÑÏä§Í∞Ä ÏóÖÎ¨¥ ÎßàÍ∞êÏãúÍ∞Ñ(${c})ÏùÑ Ï¥àÍ≥ºÌï®`:r.available?d?`ÏÑ†ÌÉùÎêú ÏãúÏûë ÏãúÍ∞Ñ: ${e}`:void 0:r.reason,children:[e,r.isBooked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"absolute h-0.5 w-full bg-gray-600"})})]},e)})(e))})]})}),(0,s.jsx)("div",{className:"border-border mt-6 border-t pt-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"border-border bg-background h-3 w-3 rounded border"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"ÏòàÏïΩ Í∞ÄÎä•"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"border-primary bg-primary ring-primary h-3 w-3 rounded border-2 ring-1"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"ÏÑ†ÌÉùÎêú ÏãúÍ∞Ñ"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded border border-orange-200 bg-orange-50"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"ÎßàÍ∞êÏãúÍ∞Ñ Ï¥àÍ≥º"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"relative h-3 w-3 rounded border border-gray-400 bg-gray-200",children:(0,s.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs leading-none text-gray-600",children:"X"})}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Ïù¥ÎØ∏ ÏòàÏïΩÎê®"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"border-border bg-muted h-3 w-3 rounded border opacity-50"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"ÏòàÏïΩ Î∂àÍ∞Ä"})]})]})})]})]})}function Z({estimatedDuration:e,groomers:r,isLoadingGroomers:t,availableTimeSlots:a,groomerPagination:i,onDateChange:l,onGroomerSelect:c,onTimeSelect:o,onGroomerPageChange:h,onSpecialRequestsChange:u}){let g,j=p(e=>e.booking.formData.date),f=p(e=>e.booking.formData.groomerId),N=p(e=>e.booking.formData.timeSlot),b=p(e=>e.booking.currentGroomerPage),y=p(e=>e.booking.formData.specialRequests),k=r.find(e=>e.id===f),w=e=>{if(!e||""===e.trim())return;let s=new Date(e);if(!isNaN(s.getTime()))return s};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(v.Card,{className:"overflow-hidden p-0 sm:p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"px-4 pt-4 sm:px-0 sm:pt-0",children:[(0,s.jsx)(R.Label,{className:"text-lg font-medium",children:"ÎÇ†Ïßú ÏÑ†ÌÉù"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-sm",children:"ÏõêÌïòÎäî ÎÇ†ÏßúÎ•º Îã¨Î†•ÏóêÏÑú ÏßÅÏ†ë ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row",children:[(0,s.jsx)("div",{className:"-mx-4 flex-shrink-0 px-0 sm:mx-0 sm:px-0",children:(0,s.jsx)(U.Calendar,{mode:"single",selected:w(j),onSelect:l,disabled:e=>{let s=new Date,r=new Date(Date.now()+7776e6);return e<s||e>r},locale:x.ko,weekStartsOn:0,showOutsideDays:!1,fixedWeeks:!0,className:"w-full rounded-none border border-x-0 sm:w-auto sm:rounded-md sm:border-x",modifiers:{today:e=>{let s=new Date;return e.toDateString()===s.toDateString()}},modifiersClassNames:{today:"bg-accent text-accent-foreground font-semibold"}})}),(0,s.jsxs)("div",{className:"flex-1 space-y-4 px-4 sm:px-0",children:[j&&w(j)?(0,s.jsx)(v.Card,{className:"border-primary bg-primary/5",children:(0,s.jsxs)(v.CardContent,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center gap-3",children:[(0,s.jsx)(W,{className:"text-primary h-5 w-5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-primary font-semibold",children:"ÏÑ†ÌÉùÎêú ÎÇ†Ïßú"}),(0,s.jsxs)("p",{className:"text-muted-foreground text-sm",children:[(0,m.format)(w(j),"yyyyÎÖÑ MÏõî dÏùº (EEEE)",{locale:x.ko}),w(j).toDateString()===new Date().toDateString()&&" (Ïò§Îäò)"]})]})]}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Ïù¥ ÎÇ†ÏßúÏóê ÏÑúÎπÑÏä§ Í∞ÄÎä•Ìïú ÎØ∏Ïö©ÏÇ¨Î•º ÌôïÏù∏ÌïòÍ≥† ÏãúÍ∞ÑÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî."})]})}):(0,s.jsx)(v.Card,{className:"border-dashed",children:(0,s.jsxs)(v.CardContent,{className:"p-4 text-center sm:p-8",children:[(0,s.jsx)(W,{className:"text-muted-foreground mx-auto mb-3 h-10 w-10 sm:mb-4 sm:h-12 sm:w-12"}),(0,s.jsx)("h3",{className:"text-muted-foreground mb-2 font-medium",children:"ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"}),(0,s.jsxs)("p",{className:"text-muted-foreground text-sm",children:[(0,s.jsx)("span",{className:"sm:hidden",children:"ÏúÑÏùò"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"ÏôºÏ™Ω"})," Îã¨Î†•ÏóêÏÑú ÏõêÌïòÎäî ÎÇ†ÏßúÎ•º ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî"]})]})}),(0,s.jsxs)("div",{className:"text-muted-foreground bg-muted/50 rounded-lg p-3 text-xs",children:[(0,s.jsx)("p",{className:"mb-1 font-medium",children:"üìÖ ÏòàÏïΩ Í∞ÄÎä• Í∏∞Í∞Ñ"}),(0,s.jsx)("p",{children:"‚Ä¢ Ïò§ÎäòÎ∂ÄÌÑ∞ ÏµúÎåÄ 1Í∞úÏõî ÌõÑÍπåÏßÄ ÏòàÏïΩ Í∞ÄÎä•Ìï©ÎãàÎã§"}),(0,s.jsx)("p",{children:"‚Ä¢ Í≥ºÍ±∞ ÎÇ†ÏßúÎäî ÏÑ†ÌÉùÌï† Ïàò ÏóÜÏäµÎãàÎã§"})]})]})]})]})}),j&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(v.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"ÎØ∏Ïö©ÏÇ¨ ÏÑ†ÌÉù"}),(0,s.jsxs)("p",{className:"text-muted-foreground text-sm",children:[j," (",w(j)&&(0,m.format)(w(j),"EEEE",{locale:x.ko}),")Ïóê ÏÑúÎπÑÏä§ Í∞ÄÎä•Ìïú ÎØ∏Ïö©ÏÇ¨Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"]})]}),t?(0,s.jsxs)("div",{className:"py-8 text-center",children:[(0,s.jsx)(d.LoadingSpinner,{size:"lg"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-4",children:"ÎØ∏Ïö©ÏÇ¨ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]}):r.length>0?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:r.map(e=>(0,s.jsx)(V,{groomer:e,isSelected:f===e.id,onSelect:c},e.id))}),i&&i.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-muted-foreground text-sm",children:["Ï¥ù ",i.totalItems,"Î™ÖÏùò ÎØ∏Ïö©ÏÇ¨ Ï§ë"," ",(i.currentPage-1)*i.itemsPerPage+1,"-",Math.min(i.currentPage*i.itemsPerPage,i.totalItems),"Î™Ö ÌëúÏãú"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>h(b-1),disabled:!i.hasPreviousPage||t,children:"Ïù¥Ï†Ñ"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:i.totalPages},(e,s)=>s+1).filter(e=>2>=Math.abs(e-i.currentPage)||1===e||e===i.totalPages).map((e,r,a)=>(0,s.jsxs)("div",{className:"flex items-center",children:[r>0&&a[r-1]!==e-1&&(0,s.jsx)("span",{className:"text-muted-foreground px-2",children:"..."}),(0,s.jsx)(n.Button,{variant:e===i.currentPage?"default":"outline",size:"sm",onClick:()=>h(e),disabled:t,className:"min-w-[32px]",children:e})]},e))}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>h(b+1),disabled:!i.hasNextPage||t,children:"Îã§Ïùå"})]})]})]}):(0,s.jsxs)("div",{className:"py-8 text-center",children:[(0,s.jsx)("div",{className:"bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:(0,s.jsx)("svg",{className:"text-muted-foreground h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h3",{className:"text-foreground mb-2 text-lg font-medium",children:"ÏÑúÎπÑÏä§ Í∞ÄÎä•Ìïú ÎØ∏Ïö©ÏÇ¨Í∞Ä ÏóÜÏäµÎãàÎã§"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Ìï¥Îãπ ÏßÄÏó≠Í≥º ÎÇ†ÏßúÏóê ÏÑúÎπÑÏä§ Í∞ÄÎä•Ìïú ÎØ∏Ïö©ÏÇ¨Î•º Ï∞æÏßÄ Î™ªÌñàÏäµÎãàÎã§. Îã§Î•∏ ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî."})]})]})}),k&&(0,s.jsx)(J,{groomerName:k.name,timeSlots:(g=k.id,a.filter(e=>e.groomerId===g).map(e=>({time:e.time,available:e.available,isBooked:e.isBooked||!1,reason:e.available?void 0:e.isBooked?"Ïù¥ÎØ∏ ÏòàÏïΩÎê®":"ÏòàÏïΩ Î∂àÍ∞Ä"}))),selectedTime:N,estimatedDuration:e,onTimeSelect:o,workingHoursStart:k.schedule?.workingHoursStart,workingHoursEnd:k.schedule?.workingHoursEnd})]}),j&&f&&N&&(0,s.jsxs)(v.Card,{className:"border-green-200 bg-green-50",children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsx)(v.CardTitle,{className:"text-green-800",children:"ÏÑ†ÌÉùÎêú ÏòàÏïΩ Ï†ïÎ≥¥"})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"ÎØ∏Ïö©ÏÇ¨"}),(0,s.jsx)("p",{className:"text-green-800",children:k?.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"ÎÇ†Ïßú"}),(0,s.jsxs)("p",{className:"text-green-800",children:[j," (",w(j)&&(0,m.format)(w(j),"EEE",{locale:x.ko}),")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"ÏãúÍ∞Ñ"}),(0,s.jsx)("p",{className:"text-green-800",children:N})]})]})})]}),(0,s.jsx)(v.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(R.Label,{htmlFor:"specialRequests",className:"text-lg font-medium",children:"ÌäπÎ≥Ñ ÏöîÏ≤≠ÏÇ¨Ìï≠"}),(0,s.jsx)("textarea",{id:"specialRequests",value:y,onChange:e=>u(e.target.value),rows:4,placeholder:"ÎØ∏Ïö©ÏÇ¨ÏóêÍ≤å Ï†ÑÎã¨Ìï† ÌäπÎ≥ÑÌïú ÏöîÏ≤≠ÏÇ¨Ìï≠Ïù¥ ÏûàÏúºÏãúÎ©¥ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî...",className:"border-input bg-background focus:ring-ring w-full rounded-md border px-3 py-2 shadow-sm focus:border-transparent focus:ring-2 focus:outline-none"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Î∞òÎ†§ÎèôÎ¨ºÏùò ÌäπÏÑ±, Ï£ºÏùòÏÇ¨Ìï≠, ÏÑ†Ìò∏ÌïòÎäî Ïä§ÌÉÄÏùº Îì±ÏùÑ ÏûêÏú†Î°≠Í≤å ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."})]})})]})}var ee=e.i(793479),es=e.i(795471);function er({pets:e,profile:r,totalAmount:t,orderName:a,onPaymentSuccess:n,onPaymentError:d}){let l=p(e=>e.booking.formData),c=p(e=>e.booking.paymentId),o=p(e=>e.booking.selectedBookingId);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(v.Card,{className:"border-primary bg-primary/5",children:[(0,s.jsx)(v.CardHeader,{children:(0,s.jsx)(v.CardTitle,{children:"Í≤∞Ï†ú Ï†ïÎ≥¥"})}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[l.petServices.map((r,t)=>{let a=e.find(e=>e.id===r.petId),i=r.services.reduce((e,s)=>e+s.price,0),n=r.options.reduce((e,s)=>e+s.price,0);return(0,s.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,s.jsxs)("h4",{className:"font-semibold",children:[a?.name," (",a?.breed?.name,")"]}),(0,s.jsxs)("span",{className:"text-primary font-semibold",children:[(i+n).toLocaleString(),"Ïõê"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[r.services.map((e,r)=>(0,s.jsxs)("div",{className:"text-muted-foreground flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{children:["- ",e.name]}),(0,s.jsxs)("span",{children:[e.price.toLocaleString(),"Ïõê"]})]},r)),r.options.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt-2 border-t pt-2",children:(0,s.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Ï∂îÍ∞Ä ÏòµÏÖò"})}),r.options.map((e,r)=>(0,s.jsxs)("div",{className:"text-muted-foreground flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{children:["+ ",e.name]}),(0,s.jsxs)("span",{children:[e.price.toLocaleString(),"Ïõê"]})]},r))]})]})]},t)}),(0,s.jsx)("div",{className:"border-t pt-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-lg",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Ï¥ù Í≤∞Ï†úÍ∏àÏï°"}),(0,s.jsxs)("span",{className:"text-primary text-2xl font-bold",children:[t.toLocaleString(),"Ïõê"]})]})})]})})]}),(0,s.jsx)(v.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"ÏòàÏïΩÏûê Ï†ïÎ≥¥"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Îêú Í≥ÑÏ†ïÏùò Ï†ïÎ≥¥Î°ú ÏûêÎèô ÏûÖÎ†•Îê©ÎãàÎã§."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(R.Label,{htmlFor:"customerName",children:"ÏòàÏïΩÏûê Ïù¥Î¶Ñ *"}),(0,s.jsx)(ee.Input,{id:"customerName",value:r?.name||"",readOnly:!0,className:"bg-muted"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(R.Label,{htmlFor:"customerPhone",children:"Ïó∞ÎùΩÏ≤ò *"}),(0,s.jsx)(ee.Input,{id:"customerPhone",value:r?.phoneNumber||"",readOnly:!0,className:"bg-muted",placeholder:r?.phoneNumber?"":"Ïó∞ÎùΩÏ≤òÍ∞Ä Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§"})]})]}),!r?.phoneNumber&&(0,s.jsx)("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-3",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-700",children:["Ïó∞ÎùΩÏ≤òÍ∞Ä Îì±Î°ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. ÏòàÏïΩÏùÑ ÏúÑÌï¥"," ",(0,s.jsx)(i.default,{href:"/customer/profile",className:"font-medium underline",children:"ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï"}),"ÏóêÏÑú Ïó∞ÎùΩÏ≤òÎ•º Îì±Î°ùÌï¥Ï£ºÏÑ∏Ïöî."]})})]})}),(0,s.jsx)(v.Card,{className:"border-yellow-200 bg-yellow-50 p-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-yellow-800",children:"Í≤∞Ï†ú Ï†Ñ ÌôïÏù∏ÏÇ¨Ìï≠"}),(0,s.jsxs)("ul",{className:"space-y-1 text-sm text-yellow-700",children:[(0,s.jsx)("li",{children:"‚Ä¢ ÏòàÏïΩ Î≥ÄÍ≤Ω Î∞è Ï∑®ÏÜåÎäî 24ÏãúÍ∞Ñ Ï†ÑÍπåÏßÄ Í∞ÄÎä•Ìï©ÎãàÎã§."}),(0,s.jsx)("li",{children:"‚Ä¢ ÎãπÏùº Ï∑®ÏÜå Ïãú 50% ÌôòÎ∂à, ÎÖ∏Ïáº Ïãú ÌôòÎ∂àÏù¥ Î∂àÍ∞ÄÌï©ÎãàÎã§."}),(0,s.jsx)("li",{children:"‚Ä¢ Î∞òÎ†§ÎèôÎ¨ºÏùò Í±¥Í∞ïÏÉÅÌÉúÏóê Îî∞Îùº ÏÑúÎπÑÏä§Í∞Ä Ï†úÌïúÎê† Ïàò ÏûàÏäµÎãàÎã§."}),(0,s.jsx)("li",{children:"‚Ä¢ Ï∂îÍ∞Ä ÏÑúÎπÑÏä§ ÏöîÏ≤≠ Ïãú ÌòÑÏû•ÏóêÏÑú Î≥ÑÎèÑ Í≤∞Ï†úÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§."})]})]})}),c&&(0,s.jsx)(es.PaymentCard,{amount:t,orderName:a,orderId:c,customerInfo:{name:r?.name||"",email:r?.email||"",phone:r?.phoneNumber||""},onSuccess:n,onError:d,termsText:"ÏÑúÎπÑÏä§ Ïù¥Ïö©ÏïΩÍ¥Ä Î∞è Í≤∞Ï†ú ÏïΩÍ¥ÄÏóê ÎèôÏùòÌï©ÎãàÎã§",customData:{bookingId:o,bookingType:"grooming",petCount:l.petServices.length,groomerId:l.groomerId,serviceDate:l.date,serviceTime:l.timeSlot}})]})}function et({pets:e,profile:r}){let i,l,c,h,v,b,y,k,w,C,S,I,L=(0,t.useRouter)(),P=u(),B=p(e=>e.booking.isCreating),D=p(e=>e.booking.isInitializingPayment),T=p(e=>e.booking.selectedBookingId),M=p(e=>e.booking.paymentId),z=p(e=>e.booking.currentGroomerPage),{formData:$,handleAddressChange:E,handleDateChange:A,handleGroomerChange:R,handleTimeSlotChange:O,handleSpecialRequestsChange:H}=(i=u(),l=p(e=>e.booking.formData),c=(0,a.useCallback)(e=>{i((0,g.togglePet)(e))},[i]),h=(0,a.useCallback)((e,s)=>{i((0,g.updateServices)({petId:e,services:s}))},[i]),v=(0,a.useCallback)((e,s)=>{i((0,g.updateOptions)({petId:e,options:s}))},[i]),b=(0,a.useCallback)(e=>{i((0,g.updateAddress)(e))},[i]),y=(0,a.useCallback)(e=>{i((0,g.updateDate)(e))},[i]),k=(0,a.useCallback)(e=>{i((0,g.updateGroomer)(e))},[i]),w=(0,a.useCallback)(e=>{i((0,g.updateTimeSlot)(e))},[i]),{formData:l,handlePetToggle:c,handleServiceChange:h,handleOptionsChange:v,handleAddressChange:b,handleDateChange:y,handleGroomerChange:k,handleTimeSlotChange:w,handleSpecialRequestsChange:(0,a.useCallback)(e=>{i((0,g.updateSpecialRequests)(e))},[i]),resetForm:(0,a.useCallback)(()=>{i((0,g.resetForm)())},[i])}),{currentStep:F,handleNextStep:W,handlePrevStep:U}=(C=u(),S=p(e=>e.booking.currentStep),I=(0,a.useCallback)(()=>{window.scrollTo({top:0,behavior:"smooth"}),C((0,g.nextStep)())},[C]),{currentStep:S,handleNextStep:I,handlePrevStep:(0,a.useCallback)(()=>{C((0,g.prevStep)())},[C]),goToStep:(0,a.useCallback)(e=>{window.scrollTo({top:0,behavior:"smooth"}),C((0,g.goToStep)(e))},[C])}),{savedAddresses:_,timeSlots:K,groomers:Q,groomerPagination:Y,isInitialLoading:V,isLoadingGroomers:X}=o({date:$.date,addressId:$.addressId,currentPage:z,enabled:!!r});(0,a.useEffect)(()=>{if(_.length>0&&!$.addressId){let e=_.find(e=>e.isDefault);e&&E(e.id)}},[_,$.addressId,E]);let J=(0,a.useCallback)(async e=>{e&&(A((0,m.format)(e,"yyyy-MM-dd",{locale:x.ko})),P((0,g.updateGroomerPage)(1)))},[A,P]),ee=(0,a.useCallback)(e=>{R(e)},[R]),es=(0,a.useCallback)(async()=>{if(B||D)return null;if(!r?.phoneNumber?.trim())return alert("Í≤∞Ï†úÎ•º ÏßÑÌñâÌïòÎ†§Î©¥ ÌîÑÎ°úÌïÑÏóêÏÑú Ï†ÑÌôîÎ≤àÌò∏Î•º Îì±Î°ùÌï¥Ï£ºÏÑ∏Ïöî."),L.push("/profile"),null;let s=`booking-${((e=21)=>{let s="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)s+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return s})()}`;try{let r=N($,e),t=1===$.petServices.length?`${e.find(e=>e.id===$.petServices[0].petId)?.name} ÎØ∏Ïö©ÏÑúÎπÑÏä§`:`${$.petServices.length}ÎßàÎ¶¨ Î∞òÎ†§ÎèôÎ¨º ÎØ∏Ïö©ÏÑúÎπÑÏä§`,a=await P((0,g.initializeBooking)({idempotencyKey:s,petServices:$.petServices.map(e=>({petId:e.petId,services:e.services.map(e=>({id:e.id,name:e.name,price:e.price,duration:e.duration})),options:e.options.map(e=>({id:e.id,name:e.name,price:e.price}))})),addressId:$.addressId,groomerId:$.groomerId,date:$.date,timeSlot:$.timeSlot,specialRequests:$.specialRequests})).unwrap(),i=a.bookingId;if(a.isExisting&&"FIRST_PAYMENT_PENDING"!==a.status)return L.push(`/booking/${i}/confirmation`),null;return{paymentId:(await P((0,g.initializePayment)({bookingId:i,amount:r,orderName:t})).unwrap()).paymentId,bookingId:i,amount:r,orderName:t}}catch(e){return"BOOKING_CONFLICT"===e.code?alert(e.message||"ÏÑ†ÌÉùÌïú ÏãúÍ∞ÑÎåÄÍ∞Ä Ïù¥ÎØ∏ ÏòàÏïΩÎêòÏóàÏäµÎãàÎã§"):alert(e.message||"ÏòàÏïΩ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§"),null}},[B,D,r,$,e,L,P]),et=(0,a.useCallback)(async()=>{if(T)try{await L.push(`/booking/${T}/confirmation`)}catch(e){console.error("[Payment] Redirect failed:",e),alert("Í≤∞Ï†úÎäî ÏôÑÎ£åÎêòÏóàÏúºÎÇò ÌéòÏù¥ÏßÄ Ïù¥ÎèôÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. ÏòàÏïΩ ÎÇ¥Ïó≠ÏóêÏÑú ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.")}else console.error("[Payment] Missing bookingId after success"),alert("Í≤∞Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏúºÎÇò Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Í≥†Í∞ùÏÑºÌÑ∞Î°ú Î¨∏ÏùòÌï¥Ï£ºÏÑ∏Ïöî.")},[T,L]),ea=(0,a.useCallback)(e=>{console.error("Payment error:",e)},[]);if(V)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)(d.LoadingSpinner,{size:"lg"})});let ei=N($,e),en=1===$.petServices.length?`${e.find(e=>e.id===$.petServices[0].petId)?.name} ÎØ∏Ïö©ÏÑúÎπÑÏä§`:`${$.petServices.length}ÎßàÎ¶¨ Î∞òÎ†§ÎèôÎ¨º ÎØ∏Ïö©ÏÑúÎπÑÏä§`;return(0,s.jsxs)("div",{className:"mx-auto max-w-4xl",children:[1===F&&(0,s.jsx)(G,{pets:e}),2===F&&(0,s.jsx)(q,{savedAddresses:_}),3===F&&(0,s.jsx)(Z,{estimatedDuration:$.petServices.reduce((e,s)=>e+s.services.reduce((e,s)=>e+s.duration,0),0),groomers:Q,isLoadingGroomers:X,availableTimeSlots:K,groomerPagination:Y,onDateChange:J,onGroomerSelect:ee,onTimeSelect:O,onGroomerPageChange:e=>P((0,g.updateGroomerPage)(e)),onSpecialRequestsChange:H}),4===F&&(0,s.jsx)(er,{pets:e,profile:r,totalAmount:ei,orderName:en,onPaymentSuccess:et,onPaymentError:ea}),!j(F,$)&&f(F,$,e)&&(0,s.jsx)("div",{className:"mt-6 rounded-lg border border-red-200 bg-red-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"mr-2 h-5 w-5 flex-shrink-0 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-red-700",children:f(F,$,e)})]})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:U,disabled:1===F,children:"Ïù¥Ï†Ñ"}),F<4?(0,s.jsx)(n.Button,{onClick:W,disabled:!j(F,$),children:"Îã§Ïùå"}):M?null:(0,s.jsxs)(n.Button,{onClick:es,disabled:B||D,size:"lg",className:"px-8",children:[B||D?(0,s.jsx)(d.LoadingSpinner,{size:"sm",className:"mr-2"}):(0,s.jsx)("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Í≤∞Ï†ú ÏßÑÌñâÌïòÍ∏∞"]})]})]})}function ea(){let e=(0,r.useSession)(),c=(0,t.useRouter)(),{profile:m,isLoading:x,isCustomer:h}=(0,l.useProfile)(),{pets:u,isInitialLoading:p}=o({enabled:m&&h});return((0,a.useEffect)(()=>{e.data||c.push("/auth/signin"),m&&!h&&c.push("/dashboard")},[e.data,m,h,c]),e.isPending||p||x||!m||!u)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)(d.LoadingSpinner,{size:"lg"})}):0===u.length?(0,s.jsxs)("div",{className:"bg-background min-h-screen",children:[(0,s.jsx)("header",{className:"border-border border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsx)("h1",{className:"text-foreground text-2xl font-bold",children:"ÏÉà ÏòàÏïΩ"})})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"mx-auto max-w-md text-center",children:[(0,s.jsx)("div",{className:"bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:(0,s.jsx)("svg",{className:"text-muted-foreground h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,s.jsx)("h3",{className:"text-foreground mb-2 text-lg font-medium",children:"Îì±Î°ùÎêú Î∞òÎ†§ÎèôÎ¨ºÏù¥ ÏóÜÏäµÎãàÎã§"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"ÏòàÏïΩÏùÑ ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî Î®ºÏ†Ä Î∞òÎ†§ÎèôÎ¨ºÏùÑ Îì±Î°ùÌï¥Ïïº Ìï©ÎãàÎã§."}),(0,s.jsx)(n.Button,{asChild:!0,children:(0,s.jsx)(i.default,{href:"/customer/pets",children:"Î∞òÎ†§ÎèôÎ¨º Îì±Î°ù"})})]})})]}):(0,s.jsxs)("div",{className:"bg-background min-h-screen",children:[(0,s.jsx)("header",{className:"border-border border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(n.Button,{variant:"outline",asChild:!0,children:(0,s.jsx)(i.default,{href:"/customer/bookings",children:"ÏòàÏïΩ ÎÇ¥Ïó≠"})})})})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(et,{pets:u,profile:m})})]})}e.s(["default",()=>ea],838021)}]);
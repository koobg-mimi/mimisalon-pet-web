(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,954616,e=>{"use strict";var t=e.i(271645),n=e.i(114272),r=e.i(540143),s=e.i(915823),a=e.i(619273),i=class extends s.Subscribable{#e;#t=void 0;#n;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.hashKey)(t.mutationKey)!==(0,a.hashKey)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){let e=this.#n?.state??(0,n.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){r.notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,n=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,n,r),this.#r.onSettled?.(e.data,null,t,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,n,r),this.#r.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(e=>{e(this.#t)})})}},o=e.i(912598);function l(e,n){let s=(0,o.useQueryClient)(n),[l]=t.useState(()=>new i(s,e));t.useEffect(()=>{l.setOptions(e)},[l,e]);let c=t.useSyncExternalStore(t.useCallback(e=>l.subscribe(r.notifyManager.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=t.useCallback((e,t)=>{l.mutate(e,t).catch(a.noop)},[l]);if(c.error&&(0,a.shouldThrowError)(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}e.s(["useMutation",()=>l],954616)},949411,e=>{"use strict";let t=(0,e.i(475254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t])},406321,e=>{"use strict";let t=(0,e.i(475254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},107649,e=>{"use strict";var t=e.i(406321);e.s(["CheckCircleIcon",()=>t.default])},863620,e=>{"use strict";let t=(0,e.i(475254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["default",()=>t])},949889,e=>{"use strict";var t=e.i(863620);e.s(["PhoneIcon",()=>t.default])},361653,e=>{"use strict";let t=(0,e.i(475254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["default",()=>t])},328196,e=>{"use strict";var t=e.i(361653);e.s(["AlertCircleIcon",()=>t.default])},531447,e=>{"use strict";var t=e.i(949411);e.s(["ClockIcon",()=>t.default])},704998,e=>{"use strict";var t=e.i(681307);let n=["password","123456","123456789","qwerty","abc123","password123","12345678","111111","1234567890","welcome","admin","letmein","monkey","1234567","dragon","sunshine","master","football","baseball","superman","trustno1","000000","shadow","michael","jennifer","jordan","passw0rd","123123","princess","solo","password1","starwars","hello","freedom","whatever","qazwsx","mustang","batman","access","master","1q2w3e4r","qwertyuiop","1234qwer","zaq12wsx","iloveyou","password12","welcome123"],r=["qwerasdf","asdfqwer","1q2w3e4r","qwer1234","asdf1234","12341234","qwerqwer","asdfasdf","1111","0000","2580","abcd1234","1qaz2wsx","zxcvbnm","qwaszx","zxcvqwer"],s=[/(.)\1{2,}/,/123456|654321|abcdef|qwerty|asdfgh|zxcvbn/,/01234|56789|09876|87654/],a=t.z.string().min(8,"비밀번호는 최소 8자 이상이어야 합니다").max(128,"비밀번호는 최대 128자까지 입력 가능합니다").refine(e=>/[a-z]/.test(e),"비밀번호는 소문자를 포함해야 합니다").refine(e=>/[A-Z]/.test(e),"비밀번호는 대문자를 포함해야 합니다").refine(e=>/\d/.test(e),"비밀번호는 숫자를 포함해야 합니다").refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]/.test(e),"비밀번호는 특수문자를 포함해야 합니다").refine(e=>!n.includes(e.toLowerCase()),"일반적으로 사용되는 비밀번호는 사용할 수 없습니다").refine(e=>!r.includes(e.toLowerCase()),"일반적으로 사용되는 비밀번호는 사용할 수 없습니다").refine(e=>!s.some(t=>t.test(e.toLowerCase())),"연속된 문자나 숫자는 사용할 수 없습니다").refine(e=>!/(.{2,})\1+/.test(e.toLowerCase()),"반복되는 패턴은 사용할 수 없습니다");function i(e){let t=0,a=[];return(e.length>=8&&(t+=1),e.length>=12&&(t+=1),e.length>=16&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/\d/.test(e)&&(t+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]/.test(e)&&(t+=1),n.includes(e.toLowerCase())||(t+=1),r.includes(e.toLowerCase())||(t+=1),s.some(t=>t.test(e.toLowerCase()))||(t+=1),t<=3)?(a.push("더 강력한 비밀번호를 설정하세요"),a.push("최소 8자 이상 사용하세요"),a.push("대문자, 소문자, 숫자, 특수문자를 모두 포함하세요"),{score:t,level:"weak",feedback:a}):t<=5?(a.push("비밀번호가 보통 수준입니다"),a.push("12자 이상 사용하면 더 안전합니다"),{score:t,level:"medium",feedback:a}):t<=7?(a.push("강력한 비밀번호입니다"),{score:t,level:"strong",feedback:a}):(a.push("매우 강력한 비밀번호입니다"),{score:t,level:"very-strong",feedback:a})}t.z.object({password:a,confirmPassword:t.z.string().min(1,"비밀번호 확인을 입력해주세요")}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]}),e.s(["calculatePasswordStrength",()=>i,"enhancedPasswordSchema",0,a])},721393,e=>{"use strict";var t=e.i(681307),n=e.i(704998);let r=t.z.string().min(1,"이메일을 입력해주세요").email("올바른 이메일 형식을 입력해주세요"),s=t.z.string().min(8,"비밀번호는 최소 8자 이상이어야 합니다").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"비밀번호는 대문자, 소문자, 숫자를 포함해야 합니다"),a=n.enhancedPasswordSchema,i=t.z.string().optional().refine(e=>!e||/^\+821[0-9]{8,9}$/.test(e),"올바른 전화번호 형식을 입력해주세요 (예: +821012345678)"),o=t.z.string().min(1,"전화번호를 입력해주세요").refine(e=>/^\+821[0-9]{8,9}$/.test(e),"올바른 전화번호 형식을 입력해주세요 (예: +821012345678)");t.z.enum(["CUSTOMER","GROOMER","ADMIN"],{message:"올바른 사용자 역할을 선택해주세요"});let l=t.z.string().min(2,"이름은 최소 2자 이상이어야 합니다").max(50,"이름은 최대 50자까지 입력 가능합니다").regex(/^[가-힣ㄱ-ㅎㅏ-ㅣa-zA-Z\s]+$/,"이름은 한글, 영문만 입력 가능합니다"),c=t.z.object({email:r,password:t.z.string().min(1,"비밀번호를 입력해주세요"),rememberMe:t.z.boolean().optional()}),u=t.z.object({name:l,email:r,phone:o,password:s,confirmPassword:t.z.string().min(1,"비밀번호 확인을 입력해주세요"),agreeToTerms:t.z.boolean().refine(e=>!0===e,{message:"서비스 이용약관에 동의해주세요"}),agreeToPrivacy:t.z.boolean().refine(e=>!0===e,{message:"개인정보 처리방침에 동의해주세요"}),agreeToMarketing:t.z.boolean().optional()}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]});t.z.object({name:l,email:r,phone:o,password:s,confirmPassword:t.z.string().min(1,"비밀번호 확인을 입력해주세요"),experience:t.z.string().min(1,"경력을 선택해주세요"),certifications:t.z.string().optional(),agreeToTerms:t.z.boolean().refine(e=>!0===e,{message:"서비스 이용약관에 동의해주세요"}),agreeToPrivacy:t.z.boolean().refine(e=>!0===e,{message:"개인정보 처리방침에 동의해주세요"}),agreeToMarketing:t.z.boolean().optional()}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]}),t.z.object({name:l,email:r,phone:i,password:s,confirmPassword:t.z.string().min(1,"비밀번호 확인을 입력해주세요"),agreeToTerms:t.z.boolean().refine(e=>!0===e,{message:"서비스 이용약관에 동의해주세요"}),agreeToPrivacy:t.z.boolean().refine(e=>!0===e,{message:"개인정보 처리방침에 동의해주세요"}),agreeToMarketing:t.z.boolean().optional()}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]}),t.z.object({token:t.z.string().min(1,"유효하지 않은 토큰입니다"),password:a,confirmPassword:t.z.string().min(1,"비밀번호 확인을 입력해주세요")}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]}),t.z.object({email:r}),t.z.object({phone:o});let d=t.z.object({phone:o,code:t.z.string().min(6,"인증번호 6자리를 입력해주세요").max(6,"인증번호는 6자리입니다")});t.z.object({token:t.z.string().min(1,"유효하지 않은 인증 토큰입니다")}),e.s(["phoneVerificationConfirmSchema",0,d,"signInSchema",0,c,"signUpSchema",0,u])},903133,e=>{"use strict";var t=e.i(843476),n=e.i(271645),r=e.i(991918),s=e.i(653145),a=e.i(975157),i=e.i(110204);let o=s.FormProvider,l=n.createContext({}),c=({...e})=>(0,t.jsx)(l.Provider,{value:{name:e.name},children:(0,t.jsx)(s.Controller,{...e})}),u=()=>{let e=n.useContext(l),t=n.useContext(d),{getFieldState:r}=(0,s.useFormContext)(),a=(0,s.useFormState)({name:e.name}),i=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},d=n.createContext({});function m({className:e,...r}){let s=n.useId();return(0,t.jsx)(d.Provider,{value:{id:s},children:(0,t.jsx)("div",{"data-slot":"form-item",className:(0,a.cn)("grid gap-2",e),...r})})}function p({className:e,...n}){let{error:r,formItemId:s}=u();return(0,t.jsx)(i.Label,{"data-slot":"form-label","data-error":!!r,className:(0,a.cn)("data-[error=true]:text-destructive",e),htmlFor:s,...n})}function h({...e}){let{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=u();return(0,t.jsx)(r.Slot,{"data-slot":"form-control",id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})}function f({className:e,...n}){let{formDescriptionId:r}=u();return(0,t.jsx)("p",{"data-slot":"form-description",id:r,className:(0,a.cn)("text-muted-foreground text-sm",e),...n})}function g({className:e,...n}){let{error:r,formMessageId:s}=u(),i=r?String(r?.message??""):n.children;return i?(0,t.jsx)("p",{"data-slot":"form-message",id:s,className:(0,a.cn)("text-destructive text-sm",e),...n,children:i}):null}e.s(["Form",()=>o,"FormControl",()=>h,"FormDescription",()=>f,"FormField",()=>c,"FormItem",()=>m,"FormLabel",()=>p,"FormMessage",()=>g])},754079,e=>{"use strict";let t=(0,e.i(475254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["MinusIcon",()=>t],754079)},458887,e=>{"use strict";var t=e.i(843476),n=e.i(271645),r=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=n.createContext({}),d=n.forwardRef((e,t)=>{let r;var d,h,f,g,v,{value:x,onChange:b,maxLength:w,textAlign:y="left",pattern:j,placeholder:S,inputMode:P="numeric",onComplete:C,pushPasswordManagerStrategy:M="increase-width",pasteTransformer:O,containerClassName:T,noScriptCSSFallback:k=p,render:E,children:z}=e,N=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))0>t.indexOf(r)&&l.call(e,r)&&(n[r]=e[r]);return n})(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[I,R]=n.useState("string"==typeof N.defaultValue?N.defaultValue:""),F=null!=x?x:I,A=(r=n.useRef(),n.useEffect(()=>{r.current=F}),r.current),D=n.useCallback(e=>{null==b||b(e),R(e)},[b]),L=n.useMemo(()=>j?"string"==typeof j?new RegExp(j):j:null,[j]),q=n.useRef(null),B=n.useRef(null),$=n.useRef({value:F,onChange:D,isIOS:"undefined"!=typeof window&&(null==(h=null==(d=null==window?void 0:window.CSS)?void 0:d.supports)?void 0:h.call(d,"-webkit-touch-callout","none"))}),_=n.useRef({prev:[null==(f=q.current)?void 0:f.selectionStart,null==(g=q.current)?void 0:g.selectionEnd,null==(v=q.current)?void 0:v.selectionDirection]});n.useImperativeHandle(t,()=>q.current,[]),n.useEffect(()=>{let e=q.current,t=B.current;if(!e||!t)return;function n(){if(document.activeElement!==e){G(null),J(null);return}let t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection,s=e.maxLength,a=e.value,i=_.current.prev,o=-1,l=-1,c;if(0!==a.length&&null!==t&&null!==n){let e=t===n,r=t===a.length&&a.length<s;if(e&&!r){if(0===t)o=0,l=1,c="forward";else if(t===s)o=t-1,l=t,c="backward";else if(s>1&&a.length>1){let e=0;if(null!==i[0]&&null!==i[1]){c=t<i[1]?"backward":"forward";let n=i[0]===i[1]&&i[0]<s;"backward"!==c||n||(e=-1)}o=e+t,l=e+t+1}}-1!==o&&-1!==l&&o!==l&&q.current.setSelectionRange(o,l,c)}let u=-1!==o?o:t,d=-1!==l?l:n,m=null!=c?c:r;G(u),J(d),_.current.prev=[u,d,m]}if($.current.value!==e.value&&$.current.onChange(e.value),_.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",n,{capture:!0}),n(),document.activeElement===e&&U(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";m(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),m(e.sheet,`[data-input-otp]:autofill { ${t} }`),m(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),m(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),m(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let r=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};r();let s=new ResizeObserver(r);return s.observe(e),()=>{document.removeEventListener("selectionchange",n,{capture:!0}),s.disconnect()}},[]);let[W,K]=n.useState(!1),[H,U]=n.useState(!1),[V,G]=n.useState(null),[Z,J]=n.useState(null);n.useEffect(()=>{var e;setTimeout(e=()=>{var e,t,n,r;null==(e=q.current)||e.dispatchEvent(new Event("input"));let s=null==(t=q.current)?void 0:t.selectionStart,a=null==(n=q.current)?void 0:n.selectionEnd,i=null==(r=q.current)?void 0:r.selectionDirection;null!==s&&null!==a&&(G(s),J(a),_.current.prev=[s,a,i])},0),setTimeout(e,10),setTimeout(e,50)},[F,H]),n.useEffect(()=>{void 0!==A&&F!==A&&A.length<w&&F.length===w&&(null==C||C(F))},[w,C,A,F]);let Q=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:s}){let[a,i]=n.useState(!1),[o,l]=n.useState(!1),[c,u]=n.useState(!1),d=n.useMemo(()=>"none"!==r&&("increase-width"===r||"experimental-no-flickering"===r)&&a&&o,[a,o,r]),m=n.useCallback(()=>{let n=e.current,s=t.current;if(!n||!s||c||"none"===r)return;let a=n.getBoundingClientRect().left+n.offsetWidth,o=n.getBoundingClientRect().top+n.offsetHeight/2;0===document.querySelectorAll('[data-lastpass-icon-root],com-1password-button,[data-dashlanecreated],[style$="2147483647 !important;"]').length&&document.elementFromPoint(a-18,o)===n||(i(!0),u(!0))},[e,t,c,r]);return n.useEffect(()=>{let t=e.current;if(!t||"none"===r)return;function n(){l(window.innerWidth-t.getBoundingClientRect().right>=40)}n();let s=setInterval(n,1e3);return()=>{clearInterval(s)}},[e,r]),n.useEffect(()=>{let e=s||document.activeElement===t.current;if("none"===r||!e)return;let n=setTimeout(m,0),a=setTimeout(m,2e3),i=setTimeout(m,5e3),o=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(n),clearTimeout(a),clearTimeout(i),clearTimeout(o)}},[t,s,r,m]),{hasPWMBadge:a,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:B,inputRef:q,pushPasswordManagerStrategy:M,isFocused:H}),Y=n.useCallback(e=>{let t=e.currentTarget.value.slice(0,w);t.length>0&&L&&!L.test(t)?e.preventDefault():("string"==typeof A&&t.length<A.length&&document.dispatchEvent(new Event("selectionchange")),D(t))},[w,D,A,L]),X=n.useCallback(()=>{var e;if(q.current){let t=Math.min(q.current.value.length,w-1),n=q.current.value.length;null==(e=q.current)||e.setSelectionRange(t,n),G(t),J(n)}U(!0)},[w]),ee=n.useCallback(e=>{var t,n;let r=q.current;if(!O&&(!$.current.isIOS||!e.clipboardData||!r))return;let s=e.clipboardData.getData("text/plain"),a=O?O(s):s;e.preventDefault();let i=null==(t=q.current)?void 0:t.selectionStart,o=null==(n=q.current)?void 0:n.selectionEnd,l=(i!==o?F.slice(0,i)+a+F.slice(o):F.slice(0,i)+a+F.slice(i)).slice(0,w);if(l.length>0&&L&&!L.test(l))return;r.value=l,D(l);let c=Math.min(l.length,w-1),u=l.length;r.setSelectionRange(c,u),G(c),J(u)},[w,D,L,F]),et=n.useMemo(()=>({position:"relative",cursor:N.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[N.disabled]),en=n.useMemo(()=>({position:"absolute",inset:0,width:Q.willPushPWMBadge?`calc(100% + ${Q.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Q.willPushPWMBadge?`inset(0 ${Q.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:y,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Q.PWM_BADGE_SPACE_WIDTH,Q.willPushPWMBadge,y]),er=n.useMemo(()=>n.createElement("input",s(((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(i)for(var n of i(t))l.call(t,n)&&c(e,n,t[n]);return e})({autoComplete:N.autoComplete||"one-time-code"},N),a({"data-input-otp":!0,"data-input-otp-placeholder-shown":0===F.length||void 0,"data-input-otp-mss":V,"data-input-otp-mse":Z,inputMode:P,pattern:null==L?void 0:L.source,"aria-placeholder":S,style:en,maxLength:w,value:F,ref:q,onPaste:e=>{var t;ee(e),null==(t=N.onPaste)||t.call(N,e)},onChange:Y,onMouseOver:e=>{var t;K(!0),null==(t=N.onMouseOver)||t.call(N,e)},onMouseLeave:e=>{var t;K(!1),null==(t=N.onMouseLeave)||t.call(N,e)},onFocus:e=>{var t;X(),null==(t=N.onFocus)||t.call(N,e)},onBlur:e=>{var t;U(!1),null==(t=N.onBlur)||t.call(N,e)}}))),[Y,X,ee,P,en,w,Z,V,N,null==L?void 0:L.source,F]),es=n.useMemo(()=>({slots:Array.from({length:w}).map((e,t)=>{var n;let r=H&&null!==V&&null!==Z&&(V===Z&&t===V||t>=V&&t<Z),s=void 0!==F[t]?F[t]:null;return{char:s,placeholderChar:void 0!==F[0]?null:null!=(n=null==S?void 0:S[t])?n:null,isActive:r,hasFakeCaret:r&&null===s}}),isFocused:H,isHovering:!N.disabled&&W}),[H,W,w,Z,V,N.disabled,F]),ea=n.useMemo(()=>E?E(es):n.createElement(u.Provider,{value:es},z),[z,es,E]);return n.createElement(n.Fragment,null,null!==k&&n.createElement("noscript",null,n.createElement("style",null,k)),n.createElement("div",{ref:B,"data-input-otp-container":!0,style:et,className:T},ea,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},er)))});function m(e,t){try{e.insertRule(t)}catch(e){console.error("input-otp could not insert CSS rule:",t)}}d.displayName="Input";var p=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;e.i(754079);var h=e.i(975157);function f({className:e,containerClassName:n,...r}){return(0,t.jsx)(d,{"data-slot":"input-otp",containerClassName:(0,h.cn)("flex items-center gap-2 has-disabled:opacity-50",n),className:(0,h.cn)("disabled:cursor-not-allowed",e),...r})}function g({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"input-otp-group",className:(0,h.cn)("flex items-center",e),...n})}function v({index:e,className:r,...s}){let a=n.useContext(u),{char:i,hasFakeCaret:o,isActive:l}=a?.slots[e]??{};return(0,t.jsxs)("div",{"data-slot":"input-otp-slot","data-active":l,className:(0,h.cn)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",r),...s,children:[i,o&&(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}e.s(["InputOTP",()=>f,"InputOTPGroup",()=>g,"InputOTPSlot",()=>v],458887)},539961,e=>{"use strict";var t=e.i(843476),n=e.i(271645),r=e.i(613846),s=e.i(653145),a=e.i(578938),i=e.i(994814),o=e.i(954616),l=e.i(519455),c=e.i(93814),u=e.i(458887),d=e.i(903133),m=e.i(721393),p=e.i(107649),h=e.i(328196),f=e.i(949889),g=e.i(531447);function v(){let[e,v]=(0,n.useState)(""),[x,b]=(0,n.useState)(0),w=(0,r.useRouter)(),y=(0,r.useSearchParams)(),{data:j}=(0,a.useSession)(),S=y.get("phone")||"",P=y.get("userId")||"",C=y.get("returnTo")||"/dashboard",M=(0,s.useForm)({resolver:(0,i.zodResolver)(m.phoneVerificationConfirmSchema),defaultValues:{phone:S,code:""}});(0,n.useEffect)(()=>{let e;return x>0&&(e=setInterval(()=>{b(e=>e-1)},1e3)),()=>clearInterval(e)},[x]);let O=(0,o.useMutation)({mutationFn:async e=>{let t=await fetch("/api/auth/phone/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e.phone,code:e.code,userId:P||void 0})}),n=await t.json();if(!t.ok)throw n;return n},onSuccess:async()=>{setTimeout(()=>{P?w.push("/settings/profile?verified=true"):w.push(C)},1500)},onError:e=>{"INVALID_CODE"===e.code?(v("인증 코드가 올바르지 않습니다. 다시 확인해주세요."),M.setError("code",{type:"manual",message:"올바르지 않은 인증 코드입니다."})):"TOO_MANY_ATTEMPTS"===e.code?v("인증 시도 횟수를 초과했습니다. 새로운 인증 코드를 요청해주세요."):v(e.message||"인증 코드 확인에 실패했습니다.")}}),T=(0,o.useMutation)({mutationFn:async()=>{let e=await fetch("/api/auth/phone/resend-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:S})}),t=await e.json();if(!e.ok)throw t;return t},onSuccess:()=>{b(60),M.setValue("code",""),v("")},onError:e=>{"TOO_SOON"===e.code?(v(`${e.waitTime}초 후에 다시 요청할 수 있습니다.`),b(e.waitTime)):v(e.message||"인증 코드 재전송에 실패했습니다.")}});return O.isSuccess?(0,t.jsx)("div",{className:"bg-muted/50 flex min-h-screen items-center justify-center",children:(0,t.jsx)("div",{className:"w-full max-w-md space-y-8 p-8 text-center",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:(0,t.jsx)(p.CheckCircleIcon,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h2",{className:"text-foreground text-2xl font-bold",children:"인증 완료!"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"전화번호가 성공적으로 인증되었습니다."})]})})}):(0,t.jsx)("div",{className:"bg-muted/50 flex min-h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8 p-8",children:[(0,t.jsxs)("div",{className:"space-y-4 text-center",children:[(0,t.jsx)("div",{className:"bg-primary/10 mx-auto flex h-16 w-16 items-center justify-center rounded-full",children:(0,t.jsx)(f.PhoneIcon,{className:"text-primary h-8 w-8"})}),(0,t.jsx)("h2",{className:"text-foreground text-3xl font-bold",children:"전화번호 인증"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"다음 번호로 전송된 6자리 인증 코드를 입력하세요"}),(0,t.jsx)("p",{className:"text-foreground font-medium",children:S})]})]}),(0,t.jsx)(d.Form,{...M,children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:M.handleSubmit(e=>{v(""),O.mutate(e)}),children:[(0,t.jsx)(d.FormField,{control:M.control,name:"code",render:({field:e})=>(0,t.jsxs)(d.FormItem,{className:"flex flex-col items-center space-y-4",children:[(0,t.jsx)(d.FormLabel,{children:"인증 코드"}),(0,t.jsx)(d.FormControl,{children:(0,t.jsx)(u.InputOTP,{maxLength:6,value:e.value,onChange:e.onChange,disabled:O.isPending,children:(0,t.jsxs)(u.InputOTPGroup,{children:[(0,t.jsx)(u.InputOTPSlot,{index:0}),(0,t.jsx)(u.InputOTPSlot,{index:1}),(0,t.jsx)(u.InputOTPSlot,{index:2}),(0,t.jsx)(u.InputOTPSlot,{index:3}),(0,t.jsx)(u.InputOTPSlot,{index:4}),(0,t.jsx)(u.InputOTPSlot,{index:5})]})})}),(0,t.jsx)(d.FormDescription,{children:"SMS로 전송된 6자리 숫자를 입력하세요"}),(0,t.jsx)(d.FormMessage,{})]})}),e&&(0,t.jsx)("div",{className:"bg-destructive/10 border-destructive/20 rounded-lg border p-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.AlertCircleIcon,{className:"text-destructive h-4 w-4"}),(0,t.jsx)("p",{className:"text-destructive text-sm",children:e})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(l.Button,{type:"submit",className:"w-full",disabled:O.isPending||6!==M.watch("code").length,children:[O.isPending?(0,t.jsx)(c.LoadingSpinner,{size:"sm",className:"mr-2"}):null,"인증 확인"]}),(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"인증 코드를 받지 못하셨나요?"}),(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>{v(""),T.mutate()},disabled:T.isPending||x>0,className:"w-full",children:[T.isPending?(0,t.jsx)(c.LoadingSpinner,{size:"sm",className:"mr-2"}):x>0?(0,t.jsx)(g.ClockIcon,{className:"mr-2 h-4 w-4"}):null,x>0?`다시 전송 (${x}초)`:"인증 코드 다시 전송"]})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:["전화번호를 변경하시겠어요?"," ",(0,t.jsx)("button",{type:"button",onClick:()=>w.back(),className:"text-primary hover:underline",children:"이전으로"})]})})]})})]})})}e.s(["default",()=>v])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,869230,e=>{"use strict";var t=e.i(175555),r=e.i(540143),s=e.i(286491),i=e.i(915823),a=e.i(793803),n=e.i(619273),l=e.i(180166),u=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#a=void 0;#n;#l;#r;#t;#u;#c;#o;#h;#d;#p;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),c(this.#s,this.options)?this.#m():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#v(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,n.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#s.setOptions(this.options),t._defaulted&&!(0,n.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#m(),this.updateResult(),s&&(this.#s!==r||(0,n.resolveEnabled)(this.options.enabled,this.#s)!==(0,n.resolveEnabled)(t.enabled,this.#s)||(0,n.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,n.resolveStaleTime)(t.staleTime,this.#s))&&this.#y();let i=this.#R();s&&(this.#s!==r||(0,n.resolveEnabled)(this.options.enabled,this.#s)!==(0,n.resolveEnabled)(t.enabled,this.#s)||i!==this.#p)&&this.#E(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,n.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#a=i,this.#l=this.options,this.#n=this.#s.state),i}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#m(e){this.#b();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(n.noop)),t}#y(){this.#x();let e=(0,n.resolveStaleTime)(this.options.staleTime,this.#s);if(n.isServer||this.#a.isStale||!(0,n.isValidTimeout)(e))return;let t=(0,n.timeUntilStale)(this.#a.dataUpdatedAt,e);this.#h=l.timeoutManager.setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#R(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#E(e){this.#v(),this.#p=e,!n.isServer&&!1!==(0,n.resolveEnabled)(this.options.enabled,this.#s)&&(0,n.isValidTimeout)(this.#p)&&0!==this.#p&&(this.#d=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||t.focusManager.isFocused())&&this.#m()},this.#p))}#g(){this.#y(),this.#E(this.#R())}#x(){this.#h&&(l.timeoutManager.clearTimeout(this.#h),this.#h=void 0)}#v(){this.#d&&(l.timeoutManager.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let r,i=this.#s,l=this.options,u=this.#a,o=this.#n,p=this.#l,f=e!==i?e.state:this.#i,{state:m}=e,g={...m},x=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&c(e,t),n=r&&h(e,i,t,l);(a||n)&&(g={...g,...(0,s.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:y}=g;r=g.data;let R=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;u?.isPlaceholderData&&t.placeholderData===p?.placeholderData?(e=u.data,R=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#o?.state.data,this.#o):t.placeholderData,void 0!==e&&(y="success",r=(0,n.replaceData)(u?.data,e,t),x=!0)}if(t.select&&void 0!==r&&!R)if(u&&r===o?.data&&t.select===this.#u)r=this.#c;else try{this.#u=t.select,r=t.select(r),r=(0,n.replaceData)(u?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,r=this.#c,b=Date.now(),y="error");let E="fetching"===g.fetchStatus,I="pending"===y,D="error"===y,N=I&&E,j=void 0!==r,C={status:y,fetchStatus:g.fetchStatus,isPending:I,isSuccess:"success"===y,isError:D,isInitialLoading:N,isLoading:N,data:r,dataUpdatedAt:g.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!I,isLoadingError:D&&!j,isPaused:"paused"===g.fetchStatus,isPlaceholderData:x,isRefetchError:D&&j,isStale:d(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,n.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},r=()=>{t(this.#r=C.promise=(0,a.pendingThenable)())},s=this.#r;switch(s.status){case"pending":e.queryHash===i.queryHash&&t(s);break;case"fulfilled":("error"===C.status||C.data!==s.value)&&r();break;case"rejected":("error"!==C.status||C.error!==s.reason)&&r()}}return C}updateResult(){let e=this.#a,t=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#l=this.options,void 0!==this.#n.data&&(this.#o=this.#s),(0,n.shallowEqualObjects)(t,e))return;this.#a=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#f.size)return!0;let s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(t=>this.#a[t]!==e[t]&&s.has(t))};this.#I({listeners:r()})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#I(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&o(e,t,t.refetchOnMount)}function o(e,t,r){if(!1!==(0,n.resolveEnabled)(t.enabled,e)&&"static"!==(0,n.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&d(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,n.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&d(e,r)}function d(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,n.resolveStaleTime)(t.staleTime,e))}e.s(["QueryObserver",()=>u])},673664,427001,e=>{"use strict";let t;var r=e.i(271645);e.i(843476);var s=r.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),i=()=>r.useContext(s);e.s(["useQueryErrorResetBoundary",()=>i],673664);var a=e.i(619273),n=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},l=e=>{r.useEffect(()=>{e.clearReset()},[e])},u=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,a.shouldThrowError)(r,[e.error,s]));e.s(["ensurePreventErrorBoundaryRetry",()=>n,"getHasError",()=>u,"useClearResetErrorBoundary",()=>l],427001)},381384,e=>{"use strict";var t=e.i(271645),r=t.createContext(!1),s=()=>t.useContext(r);r.Provider,e.s(["useIsRestoring",()=>s])},254440,e=>{"use strict";var t=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},r=(e,t)=>e.isLoading&&e.isFetching&&!t,s=(e,t)=>e?.suspense&&t.isPending,i=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});e.s(["ensureSuspenseTimers",()=>t,"fetchOptimistic",()=>i,"shouldSuspend",()=>s,"willFetch",()=>r])},266027,e=>{"use strict";var t=e.i(869230);e.i(247167);var r=e.i(271645),s=e.i(619273),i=e.i(540143),a=e.i(912598),n=e.i(673664),l=e.i(427001),u=e.i(381384),c=e.i(254440);function o(e,o){return function(e,t,o){let h=(0,u.useIsRestoring)(),d=(0,n.useQueryErrorResetBoundary)(),p=(0,a.useQueryClient)(o),f=p.defaultQueryOptions(e);p.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=h?"isRestoring":"optimistic",(0,c.ensureSuspenseTimers)(f),(0,l.ensurePreventErrorBoundaryRetry)(f,d),(0,l.useClearResetErrorBoundary)(d);let m=!p.getQueryCache().get(f.queryHash),[g]=r.useState(()=>new t(p,f)),x=g.getOptimisticResult(f),v=!h&&!1!==e.subscribed;if(r.useSyncExternalStore(r.useCallback(e=>{let t=v?g.subscribe(i.notifyManager.batchCalls(e)):s.noop;return g.updateResult(),t},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),r.useEffect(()=>{g.setOptions(f)},[f,g]),(0,c.shouldSuspend)(f,x))throw(0,c.fetchOptimistic)(f,g,d);if((0,l.getHasError)({result:x,errorResetBoundary:d,throwOnError:f.throwOnError,query:p.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;if(p.getDefaultOptions().queries?._experimental_afterQuery?.(f,x),f.experimental_prefetchInRender&&!s.isServer&&(0,c.willFetch)(x,h)){let e=m?(0,c.fetchOptimistic)(f,g,d):p.getQueryCache().get(f.queryHash)?.promise;e?.catch(s.noop).finally(()=>{g.updateResult()})}return f.notifyOnChangeProps?x:g.trackResult(x)}(e,t.QueryObserver,o)}e.s(["useQuery",()=>o],266027)},470152,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},999682,e=>{"use strict";var t=e.i(271645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},453705,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>t])},409797,e=>{"use strict";var t=e.i(453705);e.s(["ChevronDownIcon",()=>t.default])},522706,e=>{"use strict";var t=e.i(843476),r=e.i(975157);function s({title:e,description:s,children:i,className:a}){return(0,t.jsxs)("div",{className:(0,r.cn)("container mx-auto flex flex-col gap-4 px-4 py-4 sm:flex-row sm:items-center sm:justify-between",a),children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h1",{className:"text-foreground text-2xl font-bold",children:e}),s&&(0,t.jsx)("p",{className:"text-muted-foreground mt-1 text-sm",children:s})]}),i&&(0,t.jsx)("div",{className:"flex shrink-0 flex-col items-stretch gap-2 sm:flex-row sm:items-center sm:gap-0 sm:space-x-4",children:i})]})}e.s(["PageHeader",()=>s])},412012,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},629978,e=>{"use strict";var t=e.i(412012);e.s(["ChevronLeftIcon",()=>t.default])},276590,e=>{"use strict";var t=e.i(843476),r=e.i(629978),s=e.i(233565),i=e.i(975157),a=e.i(519455),n=e.i(967489);function l({currentPage:e,totalPages:l,pageSize:u,onPageChange:c,onPageSizeChange:o,className:h,pageSizeOptions:d=[10,20,50],showPageSizeSelector:p=!0,maxVisiblePages:f=5}){let m=e>1,g=e<l,x=(()=>{if(l<=f+2)return Array.from({length:l},(e,t)=>t+1);let t=[],r=Math.floor(f/2);t.push(1);let s=Math.max(2,e-r),i=Math.min(l-1,e+r);e<=r+1?i=Math.min(l-1,f):e>=l-r&&(s=Math.max(2,l-f)),s>2&&t.push("ellipsis");for(let e=s;e<=i;e++)t.push(e);return i<l-1&&t.push("ellipsis"),l>1&&t.push(l),t})();return(0,t.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-between gap-4","sm:flex-row",h),children:[p&&o&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:"페이지당"}),(0,t.jsxs)(n.Select,{value:u.toString(),onValueChange:e=>o(Number(e)),children:[(0,t.jsx)(n.SelectTrigger,{className:"h-9 w-[70px] sm:w-[80px]",children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsx)(n.SelectContent,{children:d.map(e=>(0,t.jsx)(n.SelectItem,{value:e.toString(),children:e},e))})]}),(0,t.jsx)("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:"개씩 보기"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.Button,{variant:"outline",size:"icon",onClick:()=>c(e-1),disabled:!m,className:"h-9 w-9","aria-label":"이전 페이지",children:(0,t.jsx)(r.ChevronLeftIcon,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:x.map((r,s)=>{if("ellipsis"===r)return(0,t.jsx)("div",{className:"flex h-9 w-9 items-center justify-center",children:(0,t.jsx)("span",{className:"text-muted-foreground",children:"..."})},`ellipsis-${s}`);let n=r===e;return(0,t.jsx)(a.Button,{variant:n?"default":"outline",size:"icon",onClick:()=>c(r),className:(0,i.cn)("h-9 w-9",n&&"pointer-events-none"),"aria-label":`페이지 ${r}`,"aria-current":n?"page":void 0,children:r},r)})}),(0,t.jsx)(a.Button,{variant:"outline",size:"icon",onClick:()=>c(e+1),disabled:!g,className:"h-9 w-9","aria-label":"다음 페이지",children:(0,t.jsx)(s.ChevronRightIcon,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"text-muted-foreground text-sm sm:hidden",children:[e," / ",l," 페이지"]})]})}e.s(["EnhancedPagination",()=>l])},988714,e=>{"use strict";var t=e.i(843476),r=e.i(578938),s=e.i(613846),i=e.i(271645),a=e.i(266027),n=e.i(519455),l=e.i(93814),u=e.i(522706),c=e.i(276590),o=e.i(522016),h=e.i(401851),d=e.i(116550),p=e.i(225913),f=e.i(975157);function m({status:e,className:r=""}){return(0,t.jsx)("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${(e=>{switch(e){case"PAID":case"COMPLETED":case"CAPTURED":return"text-green-600 bg-green-50";case"PENDING":case"AUTHORIZED":return"text-yellow-600 bg-yellow-50";case"FAILED":case"CANCELLED":case"EXPIRED":return"text-red-600 bg-red-50";case"REFUNDED":case"PARTIALLY_REFUNDED":case"PARTIAL_CANCELLED":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}})(e)} ${r}`,children:(e=>{switch(e){case"PAID":case"CAPTURED":return"결제완료";case"PENDING":return"결제대기";case"AUTHORIZED":return"승인완료";case"COMPLETED":return"완료";case"FAILED":return"실패";case"CANCELLED":return"취소";case"PARTIAL_CANCELLED":return"부분취소";case"REFUNDED":return"환불완료";case"PARTIALLY_REFUNDED":return"부분환불";case"EXPIRED":return"만료";default:return e}})(e)})}let g=(0,p.cva)("rounded-lg border transition-all duration-300 overflow-hidden",{variants:{variant:{default:"border-border bg-card shadow-sm before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-primary/5 before:to-transparent before:translate-x-[-200%] before:duration-700",compact:"border-border bg-card shadow-sm",detailed:"border-border bg-card shadow-md",highlight:"border-primary/50 bg-gradient-to-br from-primary/5 to-transparent shadow-md",minimal:"border-border/50 bg-transparent"},size:{sm:"p-4",default:"p-5",lg:"p-6"}},defaultVariants:{variant:"default",size:"default"}}),x=(0,p.cva)("flex items-start justify-between",{variants:{size:{sm:"mb-3 gap-3",default:"mb-4 gap-4",lg:"mb-6 gap-6"}},defaultVariants:{size:"default"}}),v=(0,p.cva)("font-semibold",{variants:{size:{sm:"text-sm",default:"text-base",lg:"text-lg"}},defaultVariants:{size:"default"}}),b=i.forwardRef(({className:e,variant:r,size:s,payment:i,...a},l)=>{var u;let c=i.booking?.service?.name||i.orderName||"미용 서비스",p=i.booking?.pet?.name||"";return(0,t.jsxs)("div",{ref:l,className:(0,f.cn)(g({variant:r,size:s,className:e})),...a,children:[(0,t.jsxs)("div",{className:(0,f.cn)(x({size:s})),children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("h3",{className:(0,f.cn)(v({size:s}),"truncate"),children:c}),(0,t.jsx)(m,{status:i.status})]}),(0,t.jsxs)("p",{className:"text-muted-foreground truncate text-sm",children:[p&&`${p} • `,(u=i.method)&&"PENDING"!==u?u.includes("CARD")||u.includes("card")?"카드":u.includes("VIRTUAL_ACCOUNT")||u.includes("virtual")?"가상계좌":u.includes("TRANSFER")||u.includes("transfer")?"계좌이체":u.includes("KAKAO")||u.includes("kakao")?"카카오페이":u.includes("NAVER")||u.includes("naver")?"네이버페이":u.includes("TOSS")||u.includes("toss")?"토스페이":u.includes("PAYPAL")||u.includes("paypal")?"페이팔":u:"처리중"]}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,h.format)(new Date(i.createdAt),"yyyy년 MM월 dd일 HH:mm",{locale:d.ko})}),i.booking&&(0,t.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:["예약번호: ",i.booking.bookingNumber]})]}),(0,t.jsx)("div",{className:"flex-shrink-0 text-right",children:(0,t.jsxs)("p",{className:(0,f.cn)(v({size:s})),children:[i.amount.toLocaleString("ko-KR"),"원"]})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.booking?(0,t.jsx)(n.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsx)(o.default,{href:`/customer/booking/${i.booking.id}`,children:"예약 상세"})}):(0,t.jsx)("div",{}),("PAID"===i.status||"COMPLETED"===i.status)&&i.receiptUrl&&(0,t.jsx)(n.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:i.receiptUrl,target:"_blank",rel:"noopener noreferrer",children:"영수증 보기"})})]})]})});b.displayName="PaymentCard";let y=["ALL","PAID","PENDING","FAILED","REFUNDED"],R={ALL:null,PAID:["PAID","COMPLETED","CAPTURED"],PENDING:["PENDING","AUTHORIZED"],FAILED:["FAILED","CANCELLED","EXPIRED"],REFUNDED:["REFUNDED","PARTIALLY_REFUNDED","PARTIAL_CANCELLED"]};function E({activeFilter:e,onFilterChange:r}){return(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(s=>(0,t.jsx)(n.Button,{variant:e===s?"default":"outline",size:"sm",onClick:()=>r(s),children:(e=>{switch(e){case"ALL":return"전체";case"PAID":return"결제완료";case"PENDING":return"결제대기";case"FAILED":return"실패";case"REFUNDED":return"환불";default:return e}})(s)},s))})})}function I({filter:e}){let{title:r,description:s}=(()=>{switch(e){case"PAID":return{title:"완료된 결제 내역이 없습니다",description:"미용 서비스를 예약하고 결제를 완료해보세요."};case"PENDING":return{title:"대기 중인 결제가 없습니다",description:"모든 결제가 완료되었습니다."};case"FAILED":return{title:"실패한 결제 내역이 없습니다",description:"모든 결제가 성공적으로 처리되었습니다."};case"REFUNDED":return{title:"환불 내역이 없습니다",description:"환불 처리된 결제가 없습니다."};default:return{title:"결제 내역이 없습니다",description:"첫 번째 미용 서비스를 예약해보세요."}}})();return(0,t.jsxs)("div",{className:"py-12 text-center",children:[(0,t.jsx)("div",{className:"bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:(0,t.jsx)("svg",{className:"text-muted-foreground h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,t.jsx)("h3",{className:"text-foreground mb-2 text-lg font-medium",children:r}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:s}),"ALL"===e&&(0,t.jsx)(n.Button,{asChild:!0,children:(0,t.jsx)(o.default,{href:"/booking/new",children:"예약하기"})})]})}function D(){let{data:e,isPending:h}=(0,r.useSession)(),d=(0,s.useRouter)(),p=(0,s.useSearchParams)(),[f,m]=(0,i.useState)(p.get("filter")||"ALL"),[g,x]=(0,i.useState)(Number(p.get("page"))||1),[v,y]=(0,i.useState)(Number(p.get("limit"))||10),D=(e,t,r)=>{let s=new URLSearchParams;s.set("page",e.toString()),s.set("limit",t.toString()),"ALL"!==r&&s.set("filter",r),d.push(`?${s.toString()}`,{scroll:!1})};(0,i.useEffect)(()=>{e||d.push("/auth/signin"),e?.user?.role&&"CUSTOMER"!==e.user.role&&d.push("/dashboard")},[e,d]);let{data:N,isLoading:j}=(0,a.useQuery)({queryKey:["customer","payments",g,f,v],queryFn:async()=>{let e=new URLSearchParams({page:g.toString(),limit:v.toString()});if("ALL"!==f){let t=R[f];t&&e.append("status",t.join(","))}let t=await fetch(`/api/customer/payments?${e.toString()}`);if(!t.ok)throw Error("Failed to fetch payments");return t.json()},enabled:!!e?.user&&"CUSTOMER"===e.user.role}),C=N?.payments||[],S=N?.totalPages||1;return(C.filter(e=>"PAID"===e.status||"COMPLETED"===e.status).reduce((e,t)=>e+t.amount,0),h||j)?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)(l.LoadingSpinner,{size:"lg"})}):e&&e.user?.role==="CUSTOMER"?(0,t.jsxs)("div",{className:"bg-background min-h-screen",children:[(0,t.jsx)("header",{className:"border-border border-b",children:(0,t.jsx)(u.PageHeader,{title:"결제 내역",description:"미용 서비스 결제 내역과 영수증을 확인하세요",children:(0,t.jsx)(n.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)(o.default,{href:"/customer/dashboard/overview",children:"대시보드"})})})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)(E,{activeFilter:f,onFilterChange:e=>{m(e),x(1),D(1,v,e)}}),0===C.length?(0,t.jsx)(I,{filter:f}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"grid gap-6",children:C.map(e=>(0,t.jsx)(b,{payment:e},e.id))}),S>0&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(c.EnhancedPagination,{currentPage:g,totalPages:S,pageSize:v,onPageChange:e=>{x(e),D(e,v,f),window.scrollTo({top:0,behavior:"smooth"})},onPageSizeChange:e=>{y(e),x(1),D(1,e,f),window.scrollTo({top:0,behavior:"smooth"})},pageSizeOptions:[10,20,50],showPageSizeSelector:!0})})]})]})]}):null}e.s(["default",()=>D],988714)}]);
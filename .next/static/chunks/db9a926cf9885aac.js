(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,462078,e=>{e.v({actionButtons:"groomers-table-module__sMRLCG__actionButtons",cellAvatar:"groomers-table-module__sMRLCG__cellAvatar",cellContent:"groomers-table-module__sMRLCG__cellContent",cellIcon:"groomers-table-module__sMRLCG__cellIcon",cellText:"groomers-table-module__sMRLCG__cellText",cellTextLong:"groomers-table-module__sMRLCG__cellTextLong",emptyState:"groomers-table-module__sMRLCG__emptyState",excelTable:"groomers-table-module__sMRLCG__excelTable",loadingTrigger:"groomers-table-module__sMRLCG__loadingTrigger",mobileCard:"groomers-table-module__sMRLCG__mobileCard",mobileCardActions:"groomers-table-module__sMRLCG__mobileCardActions",mobileCardAvatar:"groomers-table-module__sMRLCG__mobileCardAvatar",mobileCardEmail:"groomers-table-module__sMRLCG__mobileCardEmail",mobileCardGrid:"groomers-table-module__sMRLCG__mobileCardGrid",mobileCardHeader:"groomers-table-module__sMRLCG__mobileCardHeader",mobileCardItem:"groomers-table-module__sMRLCG__mobileCardItem",mobileCardLabel:"groomers-table-module__sMRLCG__mobileCardLabel",mobileCardName:"groomers-table-module__sMRLCG__mobileCardName",mobileCardTitle:"groomers-table-module__sMRLCG__mobileCardTitle",mobileCardValue:"groomers-table-module__sMRLCG__mobileCardValue",scrollContainer:"groomers-table-module__sMRLCG__scrollContainer",statusBadge:"groomers-table-module__sMRLCG__statusBadge"})},690686,e=>{"use strict";var s=e.i(843476),a=e.i(578938),l=e.i(613846),t=e.i(271645),r=e.i(201627),i=e.i(93814),n=e.i(515288),d=e.i(761911),c=e.i(882293),o=e.i(475254);let m=(0,o.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var x=e.i(870273),h=e.i(87316),u=e.i(212426),j=e.i(401851),g=e.i(116550);function N(e){return e.toLocaleString("ko-KR")+"원"}function v(e){return(0,j.format)(new Date(e),"yyyy-MM-dd",{locale:g.ko})}function b(e){let s=function(e){if(!e)return null;let s=new Date,a=new Date(e),l=s.getFullYear()-a.getFullYear(),t=s.getMonth()-a.getMonth();return(t<0||0===t&&s.getDate()<a.getDate())&&l--,l}(e);return null!==s?`${s}세`:"-"}function f(e){if(!e)return"-";let s=e.replace(/\D/g,"");return 11===s.length?`${s.slice(0,3)}-${s.slice(3,7)}-${s.slice(7)}`:10===s.length?`${s.slice(0,3)}-${s.slice(3,6)}-${s.slice(6)}`:e}function p({stats:e}){return e?(0,s.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"전체 미용사"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.totalGroomers}),(0,s.jsx)(d.Users,{className:"text-muted-foreground h-4 w-4"})]})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"활동중"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.activeGroomers}),(0,s.jsx)(c.UserCheck,{className:"h-4 w-4 text-green-600"})]})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"비활성"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:e.inactiveGroomers}),(0,s.jsx)(m,{className:"h-4 w-4 text-gray-600"})]})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"평균 평점"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.averageRating.toFixed(1)}),(0,s.jsx)(x.Star,{className:"h-4 w-4 text-yellow-600"})]})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"이번 달 예약"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.totalBookingsThisMonth}),(0,s.jsx)(h.Calendar,{className:"h-4 w-4 text-blue-600"})]})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{className:"pb-2",children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium",children:"이번 달 매출"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:N(e.totalRevenueThisMonth)}),(0,s.jsx)(u.DollarSign,{className:"text-muted-foreground h-4 w-4"})]})})]})]}):null}var C=e.i(687130),w=e.i(519455),y=e.i(793479),_=e.i(967489);function T({searchQuery:e,statusFilter:a,locationFilter:l,onSearchChange:t,onStatusChange:r,onLocationChange:i,onApplyFilters:d,totalCount:c,currentPage:o,totalPages:m,locations:x=[]}){return(0,s.jsx)(n.Card,{className:"mb-6",children:(0,s.jsxs)(n.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(y.Input,{placeholder:"미용사명, 이메일, 전화번호로 검색...",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},className:"pr-4 pl-4"})})}),(0,s.jsxs)(_.Select,{value:a,onValueChange:r,children:[(0,s.jsx)(_.SelectTrigger,{className:"w-[180px]",children:(0,s.jsx)(_.SelectValue,{placeholder:"상태 필터"})}),(0,s.jsxs)(_.SelectContent,{children:[(0,s.jsx)(_.SelectItem,{value:"ALL",children:"모든 상태"}),(0,s.jsx)(_.SelectItem,{value:"ACTIVE",children:"활동중"}),(0,s.jsx)(_.SelectItem,{value:"INACTIVE",children:"비활성"})]})]}),x.length>0&&(0,s.jsxs)(_.Select,{value:l,onValueChange:i,children:[(0,s.jsx)(_.SelectTrigger,{className:"w-[180px]",children:(0,s.jsx)(_.SelectValue,{placeholder:"지역 필터"})}),(0,s.jsxs)(_.SelectContent,{children:[(0,s.jsx)(_.SelectItem,{value:"ALL",children:"모든 지역"}),x.map(e=>(0,s.jsx)(_.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)(w.Button,{onClick:d,variant:"outline",children:[(0,s.jsx)(C.Filter,{className:"mr-2 h-4 w-4"}),"필터 적용"]})]}),c>0&&(0,s.jsxs)("div",{className:"text-muted-foreground mt-2 text-sm",children:["총 ",c.toLocaleString("ko-KR"),"명의 미용사 (페이지 ",o," / ",m,")"]})]})})}var A=e.i(664659),S=e.i(655900),k=e.i(286536),L=e.i(323585);let M=(0,o.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var R=e.i(755146),D=e.i(784774),G=e.i(799676),I=e.i(225913),E=e.i(487486),B=e.i(975157);let V=(0,o.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var H=e.i(373884),F=e.i(63209);let U={ACTIVE:{status:"ACTIVE",label:"활성",icon:(0,s.jsx)(V,{className:"h-3 w-3"}),variant:"success",description:"현재 활성화된 미용사"},INACTIVE:{status:"INACTIVE",label:"비활성",icon:(0,s.jsx)(H.XCircle,{className:"h-3 w-3"}),variant:"secondary",description:"비활성화된 미용사"},SUSPENDED:{status:"SUSPENDED",label:"정지",icon:(0,s.jsx)(F.AlertCircle,{className:"h-3 w-3"}),variant:"destructive",description:"정지된 미용사"}},P=(0,I.cva)("inline-flex items-center gap-1",{variants:{variant:{default:"",compact:"text-xs px-1.5 py-0.5",detailed:"text-sm px-3 py-1.5",highlight:"font-semibold",minimal:"border-0 bg-transparent"},size:{sm:"text-xs",default:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),$=t.forwardRef(({className:e,variant:a,size:l,isActive:t,showIcon:r=!0,...i},n)=>{let d=t?U.ACTIVE:U.INACTIVE;return(0,s.jsxs)(E.Badge,{ref:n,variant:d.variant,className:(0,B.cn)(P({variant:a,size:l,className:e})),...i,children:[r&&d.icon,d.label]})});$.displayName="GroomerStatusBadge";var z=e.i(462078);function O({groomers:e,isLoading:a,sortBy:l,sortOrder:t,onSort:r,onViewDetails:i,onActivate:o,onDeactivate:x,onSuspend:h,scrollContainerRef:u,loadMoreTriggerRef:j,hasMore:g}){return(0,s.jsx)(n.Card,{children:(0,s.jsxs)(n.CardContent,{className:"p-0",children:[(0,s.jsxs)("div",{ref:u,className:`${z.default.scrollContainer} hidden lg:block`,children:[(0,s.jsxs)(D.Table,{className:z.default.excelTable,children:[(0,s.jsx)(D.TableHeader,{children:(0,s.jsxs)(D.TableRow,{children:[(0,s.jsx)(D.TableHead,{children:"이름"}),(0,s.jsx)(D.TableHead,{children:"이메일"}),(0,s.jsx)(D.TableHead,{children:"전화번호"}),(0,s.jsx)(D.TableHead,{children:"상태"}),(0,s.jsx)(D.TableHead,{children:"경력"}),(0,s.jsx)(D.TableHead,{className:"cursor-pointer",onClick:()=>r("rating"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["평점","rating"===l&&("desc"===t?(0,s.jsx)(A.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(S.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,s.jsx)(D.TableHead,{children:"리뷰수"}),(0,s.jsx)(D.TableHead,{className:"cursor-pointer",onClick:()=>r("bookings"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["예약건수","bookings"===l&&("desc"===t?(0,s.jsx)(A.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(S.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,s.jsx)(D.TableHead,{className:"cursor-pointer",onClick:()=>r("revenue"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["월매출","revenue"===l&&("desc"===t?(0,s.jsx)(A.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(S.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,s.jsx)(D.TableHead,{children:"나이"}),(0,s.jsx)(D.TableHead,{className:"cursor-pointer",onClick:()=>r("joinDate"),children:(0,s.jsxs)("div",{className:"flex items-center",children:["가입일","joinDate"===l&&("desc"===t?(0,s.jsx)(A.ChevronDown,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(S.ChevronUp,{className:"ml-1 h-4 w-4"}))]})}),(0,s.jsx)(D.TableHead,{className:"text-right",children:"작업"})]})}),(0,s.jsxs)(D.TableBody,{children:[0===e.length&&!a&&(0,s.jsx)(D.TableRow,{children:(0,s.jsx)(D.TableCell,{colSpan:12,children:(0,s.jsxs)("div",{className:z.default.emptyState,children:[(0,s.jsx)(d.Users,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,s.jsx)("p",{children:"미용사가 없습니다"}),(0,s.jsx)("p",{children:"필터 조건을 변경해보세요"})]})})}),e.map(e=>(0,s.jsxs)(D.TableRow,{children:[(0,s.jsx)(D.TableCell,{children:e.user.name}),(0,s.jsx)(D.TableCell,{children:e.user.email}),(0,s.jsx)(D.TableCell,{children:f(e.user.phoneNumber)}),(0,s.jsx)(D.TableCell,{children:(0,s.jsx)($,{isActive:e.isActive})}),(0,s.jsxs)(D.TableCell,{children:[e.experience,"년"]}),(0,s.jsx)(D.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-yellow-600",children:"⭐"}),(0,s.jsx)("span",{children:e.rating.toFixed(1)})]})}),(0,s.jsx)(D.TableCell,{children:e.totalReviews}),(0,s.jsx)(D.TableCell,{children:e.totalBookings}),(0,s.jsx)(D.TableCell,{children:N(e.monthlyRevenue)}),(0,s.jsx)(D.TableCell,{children:b(e.birthDate)}),(0,s.jsx)(D.TableCell,{children:v(e.user.createdAt)}),(0,s.jsx)(D.TableCell,{className:"text-right",children:(0,s.jsxs)(R.DropdownMenu,{children:[(0,s.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(w.Button,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(L.MoreVertical,{className:"h-4 w-4"})]})}),(0,s.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(R.DropdownMenuLabel,{children:"작업"}),(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>i(e),children:[(0,s.jsx)(k.Eye,{className:"mr-2 h-4 w-4"}),"상세보기"]}),(0,s.jsx)(R.DropdownMenuSeparator,{}),e.isActive?(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>x(e.id),className:"text-orange-600",children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"비활성화"]}):(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>o(e.id),className:"text-green-600",children:[(0,s.jsx)(c.UserCheck,{className:"mr-2 h-4 w-4"}),"활성화"]}),(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>h(e.id),className:"text-red-600",children:[(0,s.jsx)(M,{className:"mr-2 h-4 w-4"}),"계정 정지"]})]})]})})]},e.id))]})]}),g&&(0,s.jsx)("div",{ref:j,className:z.default.loadingTrigger,children:a?"로딩 중...":"스크롤하여 더 보기"}),!g&&e.length>0&&(0,s.jsx)("div",{className:z.default.loadingTrigger,children:"모든 미용사를 불러왔습니다"})]}),(0,s.jsxs)("div",{className:"lg:hidden",children:[0===e.length&&!a&&(0,s.jsxs)("div",{className:z.default.emptyState,children:[(0,s.jsx)(d.Users,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,s.jsx)("p",{children:"미용사가 없습니다"}),(0,s.jsx)("p",{children:"필터 조건을 변경해보세요"})]}),e.map(e=>(0,s.jsxs)("div",{className:z.default.mobileCard,children:[(0,s.jsxs)("div",{className:z.default.mobileCardHeader,children:[(0,s.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,s.jsxs)(G.Avatar,{className:z.default.mobileCardAvatar,children:[(0,s.jsx)(G.AvatarImage,{src:e.profileImage||void 0,alt:e.user.name}),(0,s.jsx)(G.AvatarFallback,{children:e.user.name.charAt(0)})]}),(0,s.jsxs)("div",{className:z.default.mobileCardTitle,children:[(0,s.jsx)("div",{className:z.default.mobileCardName,children:e.user.name}),(0,s.jsx)("div",{className:z.default.mobileCardEmail,children:e.user.email})]})]}),(0,s.jsx)($,{isActive:e.isActive})]}),(0,s.jsxs)("div",{className:z.default.mobileCardGrid,children:[(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"전화번호"}),(0,s.jsx)("div",{className:z.default.mobileCardValue,children:f(e.user.phoneNumber)})]}),(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"경력"}),(0,s.jsxs)("div",{className:z.default.mobileCardValue,children:[e.experience,"년"]})]}),(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"평점"}),(0,s.jsxs)("div",{className:z.default.mobileCardValue,children:["⭐ ",e.rating.toFixed(1)," (",e.totalReviews,")"]})]}),(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"예약건수"}),(0,s.jsx)("div",{className:z.default.mobileCardValue,children:e.totalBookings})]}),(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"월매출"}),(0,s.jsx)("div",{className:z.default.mobileCardValue,children:N(e.monthlyRevenue)})]}),(0,s.jsxs)("div",{className:z.default.mobileCardItem,children:[(0,s.jsx)("div",{className:z.default.mobileCardLabel,children:"나이"}),(0,s.jsx)("div",{className:z.default.mobileCardValue,children:b(e.birthDate)})]})]}),(0,s.jsxs)("div",{className:z.default.mobileCardActions,children:[(0,s.jsxs)(w.Button,{size:"sm",variant:"outline",onClick:()=>i(e),children:[(0,s.jsx)(k.Eye,{className:"mr-1 h-3 w-3"}),"상세"]}),e.isActive?(0,s.jsxs)(w.Button,{size:"sm",variant:"outline",onClick:()=>x(e.id),className:"text-orange-600",children:[(0,s.jsx)(m,{className:"mr-1 h-3 w-3"}),"비활성화"]}):(0,s.jsxs)(w.Button,{size:"sm",variant:"outline",onClick:()=>o(e.id),className:"text-green-600",children:[(0,s.jsx)(c.UserCheck,{className:"mr-1 h-3 w-3"}),"활성화"]}),(0,s.jsxs)(w.Button,{size:"sm",variant:"outline",onClick:()=>h(e.id),className:"text-red-600",children:[(0,s.jsx)(M,{className:"mr-1 h-3 w-3"}),"정지"]})]})]},e.id)),g&&(0,s.jsx)("div",{ref:j,className:z.default.loadingTrigger,children:a?"로딩 중...":"스크롤하여 더 보기"}),!g&&e.length>0&&(0,s.jsx)("div",{className:z.default.loadingTrigger,children:"모든 미용사를 불러왔습니다"})]})]})})}var K=e.i(37727),Q=e.i(776639),X=e.i(759684),Y=e.i(772436);function q({groomer:e,open:a,onClose:l,onActivate:t,onDeactivate:r,onSuspend:i,onUpdateCommission:n,commissionGrades:d=[]}){var o,x;return e?(0,s.jsx)(Q.Dialog,{open:a,onOpenChange:l,children:(0,s.jsxs)(Q.DialogContent,{className:"max-h-[90vh] max-w-4xl p-0",children:[(0,s.jsx)(Q.DialogHeader,{className:"px-6 pt-6 pb-4",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(G.Avatar,{className:"h-16 w-16",children:[(0,s.jsx)(G.AvatarImage,{src:e.profileImage||void 0,alt:e.user.name}),(0,s.jsx)(G.AvatarFallback,{className:"text-2xl",children:e.user.name.charAt(0)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Q.DialogTitle,{className:"text-2xl",children:e.user.name}),(0,s.jsx)(Q.DialogDescription,{className:"mt-1",children:e.user.email})]})]}),(0,s.jsx)($,{isActive:e.isActive,variant:"detailed"})]})}),(0,s.jsxs)(X.ScrollArea,{className:"max-h-[calc(90vh-180px)]",children:[(0,s.jsxs)("div",{className:"space-y-6 px-6 pb-6",children:[(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"기본 정보"}),(0,s.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"이름"}),(0,s.jsx)("p",{className:"font-medium",children:e.user.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"전화번호"}),(0,s.jsx)("p",{className:"font-medium",children:f(e.user.phoneNumber)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"이메일"}),(0,s.jsx)("p",{className:"font-medium",children:e.user.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"나이"}),(0,s.jsx)("p",{className:"font-medium",children:b(e.birthDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"가입일"}),(0,s.jsx)("p",{className:"font-medium",children:v(e.user.createdAt)})]}),e.lastActivityAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"마지막 활동"}),(0,s.jsx)("p",{className:"font-medium",children:v(e.lastActivityAt)})]})]})})]}),(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"미용사 정보"}),(0,s.jsx)("div",{className:"bg-muted/50 space-y-3 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"경력"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.experience,"년"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"활동 상태"}),(0,s.jsx)("p",{className:"font-medium",children:e.isActive?"활동중":"비활성"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"평점"}),(0,s.jsxs)("p",{className:"font-medium",children:["⭐ ",e.rating.toFixed(1)," (",e.totalReviews,"개 리뷰)"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"총 예약건수"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.totalBookings,"건"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"이번 달 매출"}),(0,s.jsx)("p",{className:"font-medium text-green-600",children:N(e.monthlyRevenue)})]}),e.commissionGrade&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"수수료 등급"}),(0,s.jsx)("div",{className:"mt-1",children:d.length>0?(0,s.jsxs)(_.Select,{value:e.commissionGrade.id,onValueChange:s=>{n&&n(e.id,s)},children:[(0,s.jsx)(_.SelectTrigger,{className:"w-full",children:(0,s.jsxs)(_.SelectValue,{children:[e.commissionGrade.name," (",(o=e.commissionGrade.commissionRate,`${o}%`),")"]})}),(0,s.jsx)(_.SelectContent,{children:d.map(e=>{var a;return(0,s.jsxs)(_.SelectItem,{value:e.id,children:[e.name," (",(a=e.commissionRate,`${a}%`),")"]},e.id)})})]}):(0,s.jsxs)("p",{className:"font-medium",children:[e.commissionGrade.name," (",(x=e.commissionGrade.commissionRate,`${x}%`),")"]})})]})]})})]}),e.bio&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"소개"}),(0,s.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-muted-foreground text-sm whitespace-pre-wrap",children:e.bio})})]})]}),e.certifications&&e.certifications.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"자격증"}),(0,s.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:e.certifications.map((e,a)=>(0,s.jsxs)("div",{className:"text-sm",children:["• ",JSON.stringify(e)]},a))})]})]}),(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"서비스 및 지점"}),(0,s.jsx)("div",{className:"space-y-3",children:e.availableLocations&&e.availableLocations.length>0?e.availableLocations.map(e=>{var a,l;return(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.name}),(0,s.jsx)("span",{className:`text-xs ${e.isActive?"text-green-600":"text-gray-500"}`,children:e.isActive?"활성":"비활성"})]}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:e.address}),e.description&&(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:e.description}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[(a=e.centerLat,l=e.centerLng,`${a.toFixed(4)}\xb0N, ${l.toFixed(4)}\xb0E`)," (반경:"," ",e.radiusKm,"km)"]})]})]},e.id)}):(0,s.jsx)("div",{className:"bg-muted/50 text-muted-foreground rounded-lg p-4 text-center text-sm",children:"등록된 서비스 지역이 없습니다"})})]}),(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"실적"}),(0,s.jsxs)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"총 예약건수"}),(0,s.jsxs)("span",{className:"text-lg font-bold",children:[e.totalBookings,"건"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"이번 달 매출"}),(0,s.jsx)("span",{className:"text-lg font-bold text-green-600",children:N(e.monthlyRevenue)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"평균 평점"}),(0,s.jsxs)("span",{className:"font-medium",children:["⭐ ",e.rating.toFixed(1)," (",e.totalReviews,"개 리뷰)"]})]})]})]}),e.bankAccount&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Separator,{}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"mb-3 text-lg font-semibold",children:"정산 계좌"}),(0,s.jsx)("div",{className:"bg-muted/50 space-y-2 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"은행명"}),(0,s.jsx)("p",{className:"font-medium",children:e.bankAccount.bankName||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"예금주"}),(0,s.jsx)("p",{className:"font-medium",children:e.bankAccount.accountHolder||"-"})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"계좌번호"}),(0,s.jsx)("p",{className:"font-mono font-medium",children:e.bankAccount.accountNumber||"-"})]})]})})]})]})]}),(0,s.jsxs)(Q.DialogFooter,{className:"flex flex-row justify-end p-6",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[e.isActive?(0,s.jsxs)(w.Button,{onClick:()=>r?.(e.id),variant:"outline",className:"text-orange-600",children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"비활성화"]}):(0,s.jsxs)(w.Button,{onClick:()=>t?.(e.id),variant:"outline",className:"text-green-600",children:[(0,s.jsx)(c.UserCheck,{className:"mr-2 h-4 w-4"}),"활성화"]}),(0,s.jsxs)(w.Button,{onClick:()=>i?.(e.id),variant:"outline",className:"text-red-600",children:[(0,s.jsx)(M,{className:"mr-2 h-4 w-4"}),"계정 정지"]})]}),(0,s.jsxs)(w.Button,{onClick:l,variant:"outline",children:[(0,s.jsx)(K.X,{className:"mr-2 h-4 w-4"}),"닫기"]})]})]})]})}):null}var J=e.i(373025);function W(){let{data:e,isPending:d}=(0,a.useSession)(),c=(0,l.useRouter)(),[o,m]=(0,t.useState)(""),[x,h]=(0,t.useState)("ALL"),[u,j]=(0,t.useState)("ALL"),[g,N]=(0,t.useState)("joinDate"),[v,b]=(0,t.useState)("desc"),[f,C]=(0,t.useState)({searchQuery:"",statusFilter:"ALL",locationFilter:"ALL",sortBy:"joinDate",sortOrder:"desc"}),[w,y]=(0,t.useState)(null),[_,A]=(0,t.useState)(1),[S,k]=(0,t.useState)([]),L=(0,t.useRef)(null),M=(0,t.useRef)(null);(0,t.useEffect)(()=>{e||c.push("/auth/signin"),e?.user?.role&&"ADMIN"!==e.user.role&&c.push("/admin/dashboard/overview")},[e,c]);let R=(0,t.useCallback)(()=>{C({searchQuery:o,statusFilter:x,locationFilter:u,sortBy:g,sortOrder:v}),A(1),k([])},[o,x,u,g,v]),D=!!e?.user&&"ADMIN"===e.user.role,{groomers:G,pagination:I,stats:E,isLoading:B,isFetching:V,isError:H,error:F}=function(e,s=1,a=!0){let{data:l,isLoading:r,isFetching:i,isError:n,error:d}=(0,J.useGetGroomersQuery)({...e,page:s,limit:20},{skip:!a}),c=(0,t.useMemo)(()=>{if(!l?.groomers)return null;let e=l.groomers,s=l.totalCount,a=e.filter(e=>e.isActive).length,t=e.filter(e=>!e.isActive).length,r=e.map(e=>e.rating),i=r.length>0?r.reduce((e,s)=>e+s,0)/r.length:0,n=e.reduce((e,s)=>e+s.monthlyRevenue,0),d=e.reduce((e,s)=>e+(s.isActive?Math.floor(.15*s.totalBookings):0),0);return{totalGroomers:s,activeGroomers:a,inactiveGroomers:t,averageRating:Number(i.toFixed(1)),totalBookingsThisMonth:d,totalRevenueThisMonth:n}},[l]);return{groomers:l?.groomers??[],pagination:l&&l.totalCount>0?{page:l.currentPage,totalPages:l.totalPages,totalCount:l.totalCount,limit:20,hasNext:l.currentPage<l.totalPages,hasPrev:l.currentPage>1}:void 0,stats:c,isLoading:r,isFetching:i,isError:n,error:d}}(f,_,D),[U]=(0,J.useActivateGroomerMutation)(),[P]=(0,J.useDeactivateGroomerMutation)(),[$]=(0,J.useSuspendGroomerMutation)(),[z]=(0,J.useUpdateCommissionGradeMutation)(),{data:K}=(0,J.useGetCommissionGradesQuery)({status:"ACTIVE"},{skip:!D}),Q=K?.grades.map(e=>({id:e.id,name:e.name,commissionRate:e.commissionRate}))??[];(0,t.useEffect)(()=>{G.length>0&&!B&&k(e=>{let s=new Map(e.map(e=>[e.id,e]));return G.forEach(e=>s.set(e.id,e)),Array.from(s.values())})},[G,B]),(0,t.useEffect)(()=>{k([]),A(1)},[f]);let X=!!I&&_<I.totalPages,Y=I?.totalCount??0,W=I?.totalPages??1,Z=(0,t.useCallback)(()=>{X&&!V&&A(e=>e+1)},[X,V]),ee=(0,t.useRef)(Z);(0,t.useEffect)(()=>{ee.current=Z},[Z]),(0,t.useEffect)(()=>{let e=M.current;if(!e)return;let s=new IntersectionObserver(e=>{e[0]?.isIntersecting&&ee.current()},{root:L.current,rootMargin:"100px",threshold:.1});return s.observe(e),()=>s.disconnect()},[]);let es=async e=>{try{await U(e).unwrap()}catch(e){alert(e instanceof Error?e.message:"미용사 활성화에 실패했습니다.")}},ea=async e=>{try{await P(e).unwrap()}catch(e){alert(e instanceof Error?e.message:"미용사 비활성화에 실패했습니다.")}},el=async e=>{try{await $(e).unwrap()}catch(e){alert(e instanceof Error?e.message:"미용사 정지에 실패했습니다.")}},et=async(e,s)=>{try{if(await z({groomerId:e,commissionGradeId:s}).unwrap(),w?.id===e){let s=S.find(s=>s.id===e);s&&y(s)}}catch(e){alert(e instanceof Error?e.message:"커미션 등급 업데이트에 실패했습니다.")}};return d||B&&0===S.length?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)(i.LoadingSpinner,{size:"lg"})}):e&&e.user?.role==="ADMIN"?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Scissors,{className:"text-primary h-5 w-5"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"미용사 관리"})]}),(0,s.jsx)(p,{stats:E??null}),(0,s.jsx)(T,{searchQuery:o,statusFilter:x,locationFilter:u,onSearchChange:m,onStatusChange:h,onLocationChange:j,onApplyFilters:R,totalCount:Y,currentPage:_,totalPages:W}),H&&F&&(0,s.jsx)(n.Card,{className:"border-destructive",children:(0,s.jsxs)(n.CardContent,{className:"p-6",children:[(0,s.jsx)("div",{className:"text-destructive mb-1 font-semibold",children:"데이터를 불러오는 중 오류가 발생했습니다"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-3 text-sm",children:F instanceof Error?F.message:"잠시 후 다시 시도해주세요"})]})}),(0,s.jsx)(O,{groomers:S,isLoading:V,sortBy:g,sortOrder:v,onSort:e=>{g===e?b("asc"===v?"desc":"asc"):(N(e),b("desc"))},onViewDetails:e=>{y(e)},onActivate:es,onDeactivate:ea,onSuspend:el,scrollContainerRef:L,loadMoreTriggerRef:M,hasMore:X}),(0,s.jsx)(q,{groomer:w,open:!!w,onClose:()=>y(null),onActivate:es,onDeactivate:ea,onSuspend:el,onUpdateCommission:et,commissionGrades:Q})]}):null}e.s(["default",()=>W],690686)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,869230,e=>{"use strict";var t=e.i(175555),s=e.i(540143),r=e.i(286491),i=e.i(915823),a=e.i(793803),n=e.i(619273),o=e.i(180166),u=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#i=void 0;#a=void 0;#n;#o;#s;#t;#u;#l;#c;#d;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),l(this.#r,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#b(),this.#r.removeObserver(this)}setOptions(e){let t=this.options,s=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,n.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#g(),this.#r.setOptions(this.options),t._defaulted&&!(0,n.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let r=this.hasListeners();r&&d(this.#r,s,this.options,t)&&this.#f(),this.updateResult(),r&&(this.#r!==s||(0,n.resolveEnabled)(this.options.enabled,this.#r)!==(0,n.resolveEnabled)(t.enabled,this.#r)||(0,n.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,n.resolveStaleTime)(t.staleTime,this.#r))&&this.#x();let i=this.#R();r&&(this.#r!==s||(0,n.resolveEnabled)(this.options.enabled,this.#r)!==(0,n.resolveEnabled)(t.enabled,this.#r)||i!==this.#m)&&this.#T(i)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(r,e);return t=this,s=i,(0,n.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#a=i,this.#o=this.options,this.#n=this.#r.state),i}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#s.status||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#g();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(n.noop)),t}#x(){this.#v();let e=(0,n.resolveStaleTime)(this.options.staleTime,this.#r);if(n.isServer||this.#a.isStale||!(0,n.isValidTimeout)(e))return;let t=(0,n.timeUntilStale)(this.#a.dataUpdatedAt,e);this.#d=o.timeoutManager.setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#R(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#T(e){this.#b(),this.#m=e,!n.isServer&&!1!==(0,n.resolveEnabled)(this.options.enabled,this.#r)&&(0,n.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=o.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||t.focusManager.isFocused())&&this.#f()},this.#m))}#y(){this.#x(),this.#T(this.#R())}#v(){this.#d&&(o.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#b(){this.#h&&(o.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let s,i=this.#r,o=this.options,u=this.#a,c=this.#n,m=this.#o,p=e!==i?e.state:this.#i,{state:f}=e,y={...f},v=!1;if(t._optimisticResults){let s=this.hasListeners(),a=!s&&l(e,t),n=s&&d(e,i,t,o);(a||n)&&(y={...y,...(0,r.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=y;s=y.data;let R=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===x){let e;u?.isPlaceholderData&&t.placeholderData===m?.placeholderData?(e=u.data,R=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(x="success",s=(0,n.replaceData)(u?.data,e,t),v=!0)}if(t.select&&void 0!==s&&!R)if(u&&s===c?.data&&t.select===this.#u)s=this.#l;else try{this.#u=t.select,s=t.select(s),s=(0,n.replaceData)(u?.data,s,t),this.#l=s,this.#t=null}catch(e){this.#t=e}this.#t&&(b=this.#t,s=this.#l,g=Date.now(),x="error");let T="fetching"===y.fetchStatus,j="pending"===x,M="error"===x,C=j&&T,O=void 0!==s,S={status:x,fetchStatus:y.fetchStatus,isPending:j,isSuccess:"success"===x,isError:M,isInitialLoading:C,isLoading:C,data:s,dataUpdatedAt:y.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!j,isLoadingError:M&&!O,isPaused:"paused"===y.fetchStatus,isPlaceholderData:v,isRefetchError:M&&O,isStale:h(e,t),refetch:this.refetch,promise:this.#s,isEnabled:!1!==(0,n.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===S.status?e.reject(S.error):void 0!==S.data&&e.resolve(S.data)},s=()=>{t(this.#s=S.promise=(0,a.pendingThenable)())},r=this.#s;switch(r.status){case"pending":e.queryHash===i.queryHash&&t(r);break;case"fulfilled":("error"===S.status||S.data!==r.value)&&s();break;case"rejected":("error"!==S.status||S.error!==r.reason)&&s()}}return S}updateResult(){let e=this.#a,t=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#o=this.options,void 0!==this.#n.data&&(this.#c=this.#r),(0,n.shallowEqualObjects)(t,e))return;this.#a=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#a).some(t=>this.#a[t]!==e[t]&&r.has(t))};this.#j({listeners:s()})}#g(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function l(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&c(e,t,t.refetchOnMount)}function c(e,t,s){if(!1!==(0,n.resolveEnabled)(t.enabled,e)&&"static"!==(0,n.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&h(e,t)}return!1}function d(e,t,s,r){return(e!==t||!1===(0,n.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&h(e,s)}function h(e,t){return!1!==(0,n.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,n.resolveStaleTime)(t.staleTime,e))}e.s(["QueryObserver",()=>u])},673664,427001,e=>{"use strict";let t;var s=e.i(271645);e.i(843476);var r=s.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),i=()=>s.useContext(r);e.s(["useQueryErrorResetBoundary",()=>i],673664);var a=e.i(619273),n=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},o=e=>{s.useEffect(()=>{e.clearReset()},[e])},u=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||(0,a.shouldThrowError)(s,[e.error,r]));e.s(["ensurePreventErrorBoundaryRetry",()=>n,"getHasError",()=>u,"useClearResetErrorBoundary",()=>o],427001)},381384,e=>{"use strict";var t=e.i(271645),s=t.createContext(!1),r=()=>t.useContext(s);s.Provider,e.s(["useIsRestoring",()=>r])},254440,e=>{"use strict";var t=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>t(s(...e)):t(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},s=(e,t)=>e.isLoading&&e.isFetching&&!t,r=(e,t)=>e?.suspense&&t.isPending,i=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});e.s(["ensureSuspenseTimers",()=>t,"fetchOptimistic",()=>i,"shouldSuspend",()=>r,"willFetch",()=>s])},266027,e=>{"use strict";var t=e.i(869230);e.i(247167);var s=e.i(271645),r=e.i(619273),i=e.i(540143),a=e.i(912598),n=e.i(673664),o=e.i(427001),u=e.i(381384),l=e.i(254440);function c(e,c){return function(e,t,c){let d=(0,u.useIsRestoring)(),h=(0,n.useQueryErrorResetBoundary)(),m=(0,a.useQueryClient)(c),p=m.defaultQueryOptions(e);m.getDefaultOptions().queries?._experimental_beforeQuery?.(p),p._optimisticResults=d?"isRestoring":"optimistic",(0,l.ensureSuspenseTimers)(p),(0,o.ensurePreventErrorBoundaryRetry)(p,h),(0,o.useClearResetErrorBoundary)(h);let f=!m.getQueryCache().get(p.queryHash),[y]=s.useState(()=>new t(m,p)),v=y.getOptimisticResult(p),b=!d&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback(e=>{let t=b?y.subscribe(i.notifyManager.batchCalls(e)):r.noop;return y.updateResult(),t},[y,b]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),s.useEffect(()=>{y.setOptions(p)},[p,y]),(0,l.shouldSuspend)(p,v))throw(0,l.fetchOptimistic)(p,y,h);if((0,o.getHasError)({result:v,errorResetBoundary:h,throwOnError:p.throwOnError,query:m.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw v.error;if(m.getDefaultOptions().queries?._experimental_afterQuery?.(p,v),p.experimental_prefetchInRender&&!r.isServer&&(0,l.willFetch)(v,d)){let e=f?(0,l.fetchOptimistic)(p,y,h):m.getQueryCache().get(p.queryHash)?.promise;e?.catch(r.noop).finally(()=>{y.updateResult()})}return p.notifyOnChangeProps?v:y.trackResult(v)}(e,t.QueryObserver,c)}e.s(["useQuery",()=>c],266027)},954616,e=>{"use strict";var t=e.i(271645),s=e.i(114272),r=e.i(540143),i=e.i(915823),a=e.i(619273),n=class extends i.Subscribable{#e;#a=void 0;#M;#C;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#O()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#M,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.hashKey)(t.mutationKey)!==(0,a.hashKey)(this.options.mutationKey)?this.reset():this.#M?.state.status==="pending"&&this.#M.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#M?.removeObserver(this)}onMutationUpdate(e){this.#O(),this.#j(e)}getCurrentResult(){return this.#a}reset(){this.#M?.removeObserver(this),this.#M=void 0,this.#O(),this.#j()}mutate(e,t){return this.#C=t,this.#M?.removeObserver(this),this.#M=this.#e.getMutationCache().build(this.#e,this.options),this.#M.addObserver(this),this.#M.execute(e)}#O(){let e=this.#M?.state??(0,s.getDefaultState)();this.#a={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#j(e){r.notifyManager.batch(()=>{if(this.#C&&this.hasListeners()){let t=this.#a.variables,s=this.#a.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#C.onSuccess?.(e.data,t,s,r),this.#C.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#C.onError?.(e.error,t,s,r),this.#C.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#a)})})}},o=e.i(912598);function u(e,s){let i=(0,o.useQueryClient)(s),[u]=t.useState(()=>new n(i,e));t.useEffect(()=>{u.setOptions(e)},[u,e]);let l=t.useSyncExternalStore(t.useCallback(e=>u.subscribe(r.notifyManager.batchCalls(e)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),c=t.useCallback((e,t)=>{u.mutate(e,t).catch(a.noop)},[u]);if(l.error&&(0,a.shouldThrowError)(u.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}e.s(["useMutation",()=>u],954616)},110204,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(248425),i=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var a=e.i(975157);function n({className:e,...s}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>n],110204)},515288,e=>{"use strict";var t=e.i(843476),s=e.i(975157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground rounded-lg border shadow-sm","transition-all hover:shadow-md","p-2 sm:p-3","sm:rounded-xl sm:shadow",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col space-y-2 p-2 sm:p-2",e),...r})}function a({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("text-lg leading-none font-semibold tracking-tight",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("p-2 sm:p-2",e),...r})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center p-4 pt-0 sm:p-6 sm:pt-0","flex-col gap-2 sm:flex-row sm:gap-0",e),...r})}e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>n,"CardFooter",()=>u,"CardHeader",()=>i,"CardTitle",()=>a])},453705,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>t])},409797,e=>{"use strict";var t=e.i(453705);e.s(["ChevronDownIcon",()=>t.default])},727612,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],727612)},412012,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},629978,e=>{"use strict";var t=e.i(412012);e.s(["ChevronLeftIcon",()=>t.default])},356909,e=>{"use strict";let t=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],356909)},26267,e=>{"use strict";var t=e.i(843476),s=e.i(116550),r=e.i(578938),i=e.i(613846),a=e.i(271645),n=e.i(266027),o=e.i(954616),u=e.i(912598),l=e.i(519455),c=e.i(93814),d=e.i(87316),h=e.i(503116),m=e.i(727612),p=e.i(401851),f=e.i(595727),y=e.i(974875),v=e.i(585890),b=e.i(227766),g=e.i(515288),x=e.i(793479),R=e.i(110204);function T({workingDates:e,onChange:r,maxDaysInAdvance:i=90,defaultStartTime:n="09:00",defaultEndTime:o="18:00"}){let[u,c]=a.useState(null),T=(0,v.startOfDay)(new Date),j=(0,f.addDays)(T,i),M=(()=>{if(!u)return{startTime:n,endTime:o};let t=(0,p.format)(u,"yyyy-MM-dd",{locale:s.ko}),r=e.find(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})===t);return{startTime:r?.startTime||n,endTime:r?.endTime||o}})(),C=(t,i)=>{if(!u)return;let a=(0,p.format)(u,"yyyy-MM-dd",{locale:s.ko});r(e.map(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})===a?{...e,[t]:i}:e))},O=t=>{let i=(0,p.format)(t,"yyyy-MM-dd",{locale:s.ko}),a=e.filter(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})!==i);if(r(a),u&&(0,p.format)(u,"yyyy-MM-dd",{locale:s.ko})===i)if(a.length>0){let t=e.findIndex(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})===i);t<a.length?c(a[t].date):c(a[a.length-1].date)}else c(null)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Calendar,{className:"h-5 w-5"}),"근무 날짜 선택"]})}),(0,t.jsxs)(g.CardContent,{children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsx)(b.Calendar,{mode:"single",selected:void 0,onSelect:t=>{if(!t)return;let i=(0,p.format)(t,"yyyy-MM-dd",{locale:s.ko});e.find(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})===i)?O(t):(r([...e,{date:t,startTime:n,endTime:o}].sort((e,t)=>e.date.getTime()-t.date.getTime())),c(t))},disabled:e=>{let t=(0,v.startOfDay)(new Date);return(0,y.isBefore)(e,t)||e>j},locale:s.ko,weekStartsOn:0,showOutsideDays:!1,className:"rounded-md",modifiers:{selected:t=>{let r=(0,p.format)(t,"yyyy-MM-dd",{locale:s.ko});return e.some(e=>(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko})===r)}},modifiersClassNames:{selected:"bg-primary text-primary-foreground font-semibold"}})}),(0,t.jsx)("div",{className:"mt-4 rounded-lg bg-blue-50 p-3",children:(0,t.jsxs)("p",{className:"text-sm text-blue-900",children:["• 캘린더에서 날짜를 클릭하여 추가/제거하세요",(0,t.jsx)("br",{}),"• 선택된 날짜를 클릭하면 하단에 시간 설정이 표시됩니다",(0,t.jsx)("br",{}),"• 최대 ",i,"일 후까지 설정 가능합니다"]})})]})]}),u&&(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Clock,{className:"h-5 w-5"}),(0,p.format)(u,"M월 d일 (EEEE)",{locale:s.ko})," 근무 시간"]}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>O(u),className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:(0,t.jsx)(m.Trash2,{className:"h-4 w-4"})})]})}),(0,t.jsx)(g.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(R.Label,{htmlFor:"start-time",className:"text-sm font-medium",children:"시작 시간"}),(0,t.jsx)(x.Input,{id:"start-time",type:"time",value:M.startTime,onChange:e=>C("startTime",e.target.value),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(R.Label,{htmlFor:"end-time",className:"text-sm font-medium",children:"종료 시간"}),(0,t.jsx)(x.Input,{id:"end-time",type:"time",value:M.endTime,onChange:e=>C("endTime",e.target.value),className:"mt-1"})]})]})})]}),0===e.length&&(0,t.jsx)(g.Card,{children:(0,t.jsxs)(g.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(d.Calendar,{className:"text-muted-foreground/50 mb-4 h-12 w-12"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-center",children:["근무할 날짜를 선택하세요",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-sm",children:"캘린더에서 날짜를 클릭하면 추가됩니다"})]})]})})]})}var j=e.i(356909),M=e.i(522016);function C(){let{data:e,isPending:d}=(0,r.useSession)(),h=(0,i.useRouter)(),m=(0,u.useQueryClient)(),[y,v]=(0,a.useState)([]);(0,a.useEffect)(()=>{e||h.push("/auth/signin"),e?.user?.role&&"GROOMER"!==e.user.role&&h.push("/dashboard")},[e,h]);let{data:b,isLoading:g}=(0,n.useQuery)({queryKey:["groomer","working-dates"],queryFn:async()=>{let e=new Date,t=(0,f.addDays)(e,30),r=await fetch(`/api/groomer/working-dates?startDate=${(0,p.format)(e,"yyyy-MM-dd",{locale:s.ko})}&endDate=${(0,p.format)(t,"yyyy-MM-dd",{locale:s.ko})}`);if(!r.ok)throw Error("Failed to fetch working dates");return r.json()},enabled:!!e?.user&&"GROOMER"===e.user.role});(0,a.useEffect)(()=>{b&&v(b.map(e=>({date:new Date(e.date),startTime:e.startTime,endTime:e.endTime})))},[b]);let x=(0,o.useMutation)({mutationFn:async e=>{let t={workingDates:e.map(e=>({date:(0,p.format)(e.date,"yyyy-MM-dd",{locale:s.ko}),startTime:e.startTime,endTime:e.endTime,slotDuration:30}))},r=await fetch("/api/groomer/working-dates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error((await r.json()).error||"Failed to save working dates");return r.json()},onSuccess:e=>{m.invalidateQueries({queryKey:["groomer","working-dates"]}),alert(e.message||"근무 날짜가 저장되었습니다.")},onError:e=>{alert(e.message||"저장 중 오류가 발생했습니다.")}});return d||g?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)(c.LoadingSpinner,{size:"lg"})}):e&&e.user?.role==="GROOMER"?(0,t.jsxs)("div",{className:"bg-background min-h-screen",children:[(0,t.jsx)("header",{className:"border-border border-b",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-foreground text-2xl font-bold",children:"근무 일정 설정"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"특정 날짜를 선택하여 근무 시간을 설정하세요"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)(M.default,{href:"/groomer/dashboard/bookings",children:"예약 관리"})}),(0,t.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)(M.default,{href:"/groomer/dashboard/overview",children:"대시보드"})})]})]})})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)(T,{workingDates:y,onChange:v,maxDaysInAdvance:90,defaultStartTime:"09:00",defaultEndTime:"18:00"}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)(l.Button,{onClick:()=>{x.mutate(y)},disabled:x.isPending,className:"flex items-center gap-2",size:"lg",children:[x.isPending?(0,t.jsx)(c.LoadingSpinner,{size:"sm"}):(0,t.jsx)(j.Save,{className:"h-4 w-4"}),x.isPending?"저장 중...":"변경사항 저장"]})})]})]}):null}e.s(["default",()=>C],26267)}]);